window.FHIR=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=129)}([function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(3),o=r(89),i=r(6),a=r(92),s=r(93),u=r(130),c=o("wks"),f=n.Symbol,l=u?f:f&&f.withoutSetter||a;e.exports=function(e){return i(c,e)||(s&&i(f,e)?c[e]=f[e]:c[e]=l("Symbol."+e)),c[e]}},function(e,t,r){var n=r(3),o=r(39).f,i=r(12),a=r(9),s=r(60),u=r(133),c=r(40);e.exports=function(e,t){var r,f,l,p,h,d=e.target,v=e.global,g=e.stat;if(r=v?n:g?n[d]||s(d,{}):(n[d]||{}).prototype)for(f in t){if(p=t[f],l=e.noTargetGet?(h=o(r,f))&&h.value:r[f],!c(v?f:d+(g?".":"#")+f,e.forced)&&void 0!==l){if(typeof p==typeof l)continue;u(p,l)}(e.sham||l&&l.sham)&&i(p,"sham",!0),a(r,f,p,e)}}},function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")()}).call(this,r(59))},function(e,t,r){var n=r(5);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(22),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,r){var n=r(0);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,r){var n=r(3),o=r(12),i=r(6),a=r(60),s=r(62),u=r(17),c=u.get,f=u.enforce,l=String(String).split("String");(e.exports=function(e,t,r,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||i(r,"name")||o(r,"name",t),f(r).source=l.join("string"==typeof t?t:"")),e!==n?(u?!p&&e[t]&&(c=!0):delete e[t],c?e[t]=r:o(e,t,r)):c?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(e,t,r){var n=r(8),o=r(91),i=r(4),a=r(37),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(i(e),t=a(t,!0),i(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(14);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(8),o=r(10),i=r(25);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n=r(8),o=r(0),i=r(6),a=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(i(s,e))return s[e];t||(t={});var r=[][e],c=!!i(t,"ACCESSORS")&&t.ACCESSORS,f=i(t,0)?t[0]:u,l=i(t,1)?t[1]:void 0;return s[e]=!!r&&!o((function(){if(c&&!n)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:u}):e[1]=1,r.call(e,f,l)}))}},function(e,t,r){"use strict";var n=r(2),o=r(54);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,r){var n,o,i,a=r(131),s=r(3),u=r(5),c=r(12),f=r(6),l=r(63),p=r(64),h=s.WeakMap;if(a){var d=new h,v=d.get,g=d.has,y=d.set;n=function(e,t){return y.call(d,e,t),t},o=function(e){return v.call(d,e)||{}},i=function(e){return g.call(d,e)}}else{var m=l("state");p[m]=!0,n=function(e,t){return c(e,m,t),t},o=function(e){return f(e,m)?e[m]:{}},i=function(e){return f(e,m)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},function(e,t,r){var n=r(135),o=r(3),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},function(e,t,r){var n=r(58),o=r(9),i=r(132);n||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,t){e.exports=!1},function(e,t,r){var n=r(26),o=r(14);e.exports=function(e){return n(o(e))}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(28);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(0),o=r(13),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t,r){var n=r(10).f,o=r(6),i=r(1)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t){e.exports={}},function(e,t,r){var n=r(0),o=r(1),i=r(71),a=o("species");e.exports=function(e){return i>=51||!n((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,r){"use strict";var n=r(21),o=r(72),i=r(29),a=r(17),s=r(110),u=a.set,c=a.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,r){"use strict";var n=r(55),o=r(4),i=r(7),a=r(14),s=r(83),u=r(56);n("match",1,(function(e,t,r){return[function(t){var r=a(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var a=o(e),c=String(this);if(!a.global)return u(a,c);var f=a.unicode;a.lastIndex=0;for(var l,p=[],h=0;null!==(l=u(a,c));){var d=String(l[0]);p[h]=d,""===d&&(a.lastIndex=s(c,i(a.lastIndex),f)),h++}return 0===h?null:p}]}))},function(e,t,r){"use strict";var n=r(55),o=r(4),i=r(11),a=r(7),s=r(22),u=r(14),c=r(83),f=r(56),l=Math.max,p=Math.min,h=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(e,t,r,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=n.REPLACE_KEEPS_$0,m=g?"$":"$0";return[function(r,n){var o=u(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,o,n):t.call(String(o),r,n)},function(e,n){if(!g&&y||"string"==typeof n&&-1===n.indexOf(m)){var i=r(t,e,this,n);if(i.done)return i.value}var u=o(e),h=String(this),d="function"==typeof n;d||(n=String(n));var v=u.global;if(v){var w=u.unicode;u.lastIndex=0}for(var x=[];;){var S=f(u,h);if(null===S)break;if(x.push(S),!v)break;""===String(S[0])&&(u.lastIndex=c(h,a(u.lastIndex),w))}for(var E,k="",R=0,O=0;O<x.length;O++){S=x[O];for(var A=String(S[0]),C=l(p(s(S.index),h.length),0),P=[],_=1;_<S.length;_++)P.push(void 0===(E=S[_])?E:String(E));var j=S.groups;if(d){var T=[A].concat(P,C,h);void 0!==j&&T.push(j);var I=String(n.apply(void 0,T))}else I=b(A,h,C,P,j,n);C>=R&&(k+=h.slice(R,C)+I,R=C+A.length)}return k+h.slice(R)}];function b(e,r,n,o,a,s){var u=n+e.length,c=o.length,f=v;return void 0!==a&&(a=i(a),f=d),t.call(s,f,(function(t,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var f=+i;if(0===f)return t;if(f>c){var l=h(f/10);return 0===l?t:l<=c?void 0===o[l-1]?i.charAt(1):o[l-1]+i.charAt(1):t}s=o[f-1]}return void 0===s?"":s}))}}))},function(e,t,r){e.exports=r(150)},function(e,t,r){(function(t){!function(t){"use strict";var r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",u="object"==typeof e,c=t.regeneratorRuntime;if(c)u&&(e.exports=c);else{(c=t.regeneratorRuntime=u?e.exports:{}).wrap=v;var f={},l={};l[i]=function(){return this};var p=Object.getPrototypeOf,h=p&&p(p(O([])));h&&h!==r&&n.call(h,i)&&(l=h);var d=b.prototype=y.prototype=Object.create(l);m.prototype=d.constructor=b,b.constructor=m,b[s]=m.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(d),e},c.awrap=function(e){return{__await:e}},w(x.prototype),x.prototype[a]=function(){return this},c.AsyncIterator=x,c.async=function(e,t,r,n){var o=new x(v(e,t,r,n));return c.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(d),d[s]="Generator",d[i]=function(){return this},d.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=O,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}}}function v(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),a=new R(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=g(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function g(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function y(){}function m(){}function b(){}function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function x(e){function r(t,o,i,a){var s=g(e[t],e,o);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then((function(e){r("next",e,i,a)}),(function(e){r("throw",e,i,a)})):Promise.resolve(c).then((function(e){u.value=e,i(u)}),a)}a(s.arg)}var o;"object"==typeof t.process&&t.process.domain&&(r=t.process.domain.bind(r)),this._invoke=function(e,t){function n(){return new Promise((function(n,o){r(e,t,n,o)}))}return o=o?o.then(n,n):n()}}function S(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=g(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,r(59))},function(e,t){function r(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,u,"next",e)}function u(e){r(a,o,i,s,u,"throw",e)}s(void 0)}))}}},function(e,t,r){var n=r(5);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){"use strict";var n,o,i,a,s=r(2),u=r(20),c=r(3),f=r(18),l=r(98),p=r(9),h=r(99),d=r(27),v=r(100),g=r(5),y=r(28),m=r(69),b=r(13),w=r(62),x=r(136),S=r(137),E=r(70),k=r(103).set,R=r(138),O=r(107),A=r(139),C=r(108),P=r(140),_=r(17),j=r(40),T=r(1),I=r(71),L=T("species"),U="Promise",F=_.get,M=_.set,N=_.getterFor(U),q=l,B=c.TypeError,D=c.document,z=c.process,G=f("fetch"),H=C.f,Y=H,$="process"==b(z),J=!!(D&&D.createEvent&&c.dispatchEvent),K=j(U,(function(){if(!(w(q)!==String(q))){if(66===I)return!0;if(!$&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!q.prototype.finally)return!0;if(I>=51&&/native code/.test(q))return!1;var e=q.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[L]=t,!(e.then((function(){}))instanceof t)})),V=K||!S((function(e){q.all(e).catch((function(){}))})),W=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},X=function(e,t,r){if(!t.notified){t.notified=!0;var n=t.reactions;R((function(){for(var o=t.value,i=1==t.state,a=0;n.length>a;){var s,u,c,f=n[a++],l=i?f.ok:f.fail,p=f.resolve,h=f.reject,d=f.domain;try{l?(i||(2===t.rejection&&te(e,t),t.rejection=1),!0===l?s=o:(d&&d.enter(),s=l(o),d&&(d.exit(),c=!0)),s===f.promise?h(B("Promise-chain cycle")):(u=W(s))?u.call(s,p,h):p(s)):h(o)}catch(e){d&&!c&&d.exit(),h(e)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&Q(e,t)}))}},Z=function(e,t,r){var n,o;J?((n=D.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},(o=c["on"+e])?o(n):"unhandledrejection"===e&&A("Unhandled promise rejection",r)},Q=function(e,t){k.call(c,(function(){var r,n=t.value;if(ee(t)&&(r=P((function(){$?z.emit("unhandledRejection",n,e):Z("unhandledrejection",e,n)})),t.rejection=$||ee(t)?2:1,r.error))throw r.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){k.call(c,(function(){$?z.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)}))},re=function(e,t,r,n){return function(o){e(t,r,o,n)}},ne=function(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=2,X(e,t,!0))},oe=function(e,t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===r)throw B("Promise can't be resolved itself");var o=W(r);o?R((function(){var n={done:!1};try{o.call(r,re(oe,e,n,t),re(ne,e,n,t))}catch(r){ne(e,n,r,t)}})):(t.value=r,t.state=1,X(e,t,!1))}catch(r){ne(e,{done:!1},r,t)}}};K&&(q=function(e){m(this,q,U),y(e),n.call(this);var t=F(this);try{e(re(oe,this,t),re(ne,this,t))}catch(e){ne(this,t,e)}},(n=function(e){M(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(q.prototype,{then:function(e,t){var r=N(this),n=H(E(this,q));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=$?z.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&X(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n,t=F(e);this.promise=e,this.resolve=re(oe,e,t),this.reject=re(ne,e,t)},C.f=H=function(e){return e===q||e===i?new o(e):Y(e)},u||"function"!=typeof l||(a=l.prototype.then,p(l.prototype,"then",(function(e,t){var r=this;return new q((function(e,t){a.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return O(q,G.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:K},{Promise:q}),d(q,U,!1,!0),v(U),i=f(U),s({target:U,stat:!0,forced:K},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),s({target:U,stat:!0,forced:u||K},{resolve:function(e){return O(u&&this===i?q:this,e)}}),s({target:U,stat:!0,forced:V},{all:function(e){var t=this,r=H(t),n=r.resolve,o=r.reject,i=P((function(){var r=y(t.resolve),i=[],a=0,s=1;x(e,(function(e){var u=a++,c=!1;i.push(void 0),s++,r.call(t,e).then((function(e){c||(c=!0,i[u]=e,--s||n(i))}),o)})),--s||n(i)}));return i.error&&o(i.value),r.promise},race:function(e){var t=this,r=H(t),n=r.reject,o=P((function(){var o=y(t.resolve);x(e,(function(e){o.call(t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}})},function(e,t,r){var n=r(8),o=r(94),i=r(25),a=r(21),s=r(37),u=r(6),c=r(91),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=a(e),t=s(t,!0),c)try{return f(e,t)}catch(e){}if(u(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,r){var n=r(0),o=/#|\.prototype\./,i=function(e,t){var r=s[a(e)];return r==c||r!=u&&("function"==typeof t?n(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=i.data={},u=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},function(e,t,r){var n=r(65),o=r(29),i=r(1)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t,r){"use strict";var n=r(2),o=r(0),i=r(43),a=r(5),s=r(11),u=r(7),c=r(44),f=r(45),l=r(30),p=r(1),h=r(71),d=p("isConcatSpreadable"),v=h>=51||!o((function(){var e=[];return e[d]=!1,e.concat()[0]!==e})),g=l("concat"),y=function(e){if(!a(e))return!1;var t=e[d];return void 0!==t?!!t:i(e)};n({target:"Array",proto:!0,forced:!v||!g},{concat:function(e){var t,r,n,o,i,a=s(this),l=f(a,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(y(i=-1===t?a:arguments[t])){if(p+(o=u(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,p++)r in i&&c(l,p,i[r])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(l,p++,i)}return l.length=p,l}})},function(e,t,r){var n=r(13);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){"use strict";var n=r(37),o=r(10),i=r(25);e.exports=function(e,t,r){var a=n(t);a in e?o.f(e,a,i(0,r)):e[a]=r}},function(e,t,r){var n=r(5),o=r(43),i=r(1)("species");e.exports=function(e,t){var r;return o(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!o(r.prototype)?n(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},function(e,t,r){var n,o=r(4),i=r(109),a=r(68),s=r(64),u=r(104),c=r(61),f=r(63),l=f("IE_PROTO"),p=function(){},h=function(e){return"<script>"+e+"<\/script>"},d=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;d=n?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var r=a.length;r--;)delete d.prototype[a[r]];return d()};s[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(p.prototype=o(e),r=new p,p.prototype=null,r[l]=e):r=d(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(2),o=r(115);n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,r){"use strict";var n=r(74).charAt,o=r(17),i=r(110),a=o.set,s=o.getterFor("String Iterator");i(String,"String",(function(e){a(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),r=t.string,o=t.index;return o>=r.length?{value:void 0,done:!0}:(e=n(r,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,r){var n=r(23),o=r(26),i=r(11),a=r(7),s=r(45),u=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,f=4==e,l=6==e,p=5==e||l;return function(h,d,v,g){for(var y,m,b=i(h),w=o(b),x=n(d,v,3),S=a(w.length),E=0,k=g||s,R=t?k(h,S):r?k(h,0):void 0;S>E;E++)if((p||E in w)&&(m=x(y=w[E],E,b),e))if(t)R[E]=m;else if(m)switch(e){case 3:return!0;case 5:return y;case 6:return E;case 2:u.call(R,y)}else if(f)return!1;return l?-1:c||f?f:R}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,r){"use strict";var n=r(2),o=r(118);n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},function(e,t,r){"use strict";var n=r(2),o=r(26),i=r(21),a=r(51),s=[].join,u=o!=Object,c=a("join",",");n({target:"Array",proto:!0,forced:u||!c},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},function(e,t,r){"use strict";var n=r(2),o=r(49).map,i=r(30),a=r(15),s=i("map"),u=a("map");n({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n,o,i=r(81),a=r(121),s=RegExp.prototype.exec,u=String.prototype.replace,c=s,f=(n=/a/,o=/b*/g,s.call(n,"a"),s.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(f||p||l)&&(c=function(e){var t,r,n,o,a=this,c=l&&a.sticky,h=i.call(a),d=a.source,v=0,g=e;return c&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),g=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(d="(?: "+d+")",g=" "+g,v++),r=new RegExp("^(?:"+d+")",h)),p&&(r=new RegExp("^"+d+"$(?!\\s)",h)),f&&(t=a.lastIndex),n=s.call(c?r:a,g),c?n?(n.input=n.input.slice(v),n[0]=n[0].slice(v),n.index=a.lastIndex,a.lastIndex+=n[0].length):a.lastIndex=0:f&&n&&(a.lastIndex=a.global?n.index+n[0].length:t),p&&n&&n.length>1&&u.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),e.exports=c},function(e,t,r){"use strict";r(16);var n=r(9),o=r(0),i=r(1),a=r(54),s=r(12),u=i("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f="$0"==="a".replace(/./,"$0"),l=i("replace"),p=!!/./[l]&&""===/./[l]("a","$0"),h=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,l){var d=i(e),v=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),g=v&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!v||!g||"replace"===e&&(!c||!f||p)||"split"===e&&!h){var y=/./[d],m=r(d,""[e],(function(e,t,r,n,o){return t.exec===a?v&&!o?{done:!0,value:y.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),b=m[0],w=m[1];n(String.prototype,e,b),n(RegExp.prototype,d,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}l&&s(RegExp.prototype[d],"sham",!0)}},function(e,t,r){var n=r(13),o=r(54);e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var i=r.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,r){var n=r(3),o=r(116),i=r(118),a=r(12);for(var s in o){var u=n[s],c=u&&u.prototype;if(c&&c.forEach!==i)try{a(c,"forEach",i)}catch(e){c.forEach=i}}},function(e,t,r){var n={};n[r(1)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(3),o=r(12);e.exports=function(e,t){try{o(n,e,t)}catch(r){n[e]=t}return t}},function(e,t,r){var n=r(3),o=r(5),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){var n=r(90),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},function(e,t,r){var n=r(89),o=r(92),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t){e.exports={}},function(e,t,r){var n=r(58),o=r(13),i=r(1)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},function(e,t,r){var n=r(95),o=r(68).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,r){var n=r(22),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){var n=r(4),o=r(28),i=r(1)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[i])?t:o(r)}},function(e,t,r){var n,o,i=r(3),a=r(106),s=i.process,u=s&&s.versions,c=u&&u.v8;c?o=(n=c.split("."))[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=n[1]),e.exports=o&&+o},function(e,t,r){var n=r(1),o=r(46),i=r(10),a=n("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,r){var n=r(95),o=r(68);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,r){var n=r(22),o=r(14),i=function(e){return function(t,r){var i,a,s=String(o(t)),u=n(r),c=s.length;return u<0||u>=c?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,r){var n=r(3),o=r(116),i=r(31),a=r(12),s=r(1),u=s("iterator"),c=s("toStringTag"),f=i.values;for(var l in o){var p=n[l],h=p&&p.prototype;if(h){if(h[u]!==f)try{a(h,u,f)}catch(e){h[u]=f}if(h[c]||a(h,c,l),o[l])for(var d in i)if(h[d]!==i[d])try{a(h,d,i[d])}catch(e){h[d]=i[d]}}}},function(e,t,r){"use strict";r(48);var n,o=r(2),i=r(8),a=r(117),s=r(3),u=r(109),c=r(9),f=r(69),l=r(6),p=r(115),h=r(144),d=r(74).codeAt,v=r(145),g=r(27),y=r(146),m=r(17),b=s.URL,w=y.URLSearchParams,x=y.getState,S=m.set,E=m.getterFor("URL"),k=Math.floor,R=Math.pow,O=/[A-Za-z]/,A=/[\d+-.A-Za-z]/,C=/\d/,P=/^(0x|0X)/,_=/^[0-7]+$/,j=/^\d+$/,T=/^[\dA-Fa-f]+$/,I=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,L=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,U=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\u0009\u000A\u000D]/g,M=function(e,t){var r,n,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(r=q(t.slice(1,-1))))return"Invalid host";e.host=r}else if(J(e)){if(t=v(t),I.test(t))return"Invalid host";if(null===(r=N(t)))return"Invalid host";e.host=r}else{if(L.test(t))return"Invalid host";for(r="",n=h(t),o=0;o<n.length;o++)r+=Y(n[o],D);e.host=r}},N=function(e){var t,r,n,o,i,a,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(o=u[n]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=P.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?j:8==i?_:T).test(o))return e;a=parseInt(o,i)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=R(256,5-t))return null}else if(a>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*R(256,3-n);return s},q=function(e){var t,r,n,o,i,a,s,u=[0,0,0,0,0,0,0,0],c=0,f=null,l=0,p=function(){return e.charAt(l)};if(":"==p()){if(":"!=e.charAt(1))return;l+=2,f=++c}for(;p();){if(8==c)return;if(":"!=p()){for(t=r=0;r<4&&T.test(p());)t=16*t+parseInt(p(),16),l++,r++;if("."==p()){if(0==r)return;if(l-=r,c>6)return;for(n=0;p();){if(o=null,n>0){if(!("."==p()&&n<4))return;l++}if(!C.test(p()))return;for(;C.test(p());){if(i=parseInt(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;l++}u[c]=256*u[c]+o,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==p()){if(l++,!p())return}else if(p())return;u[c++]=t}else{if(null!==f)return;l++,f=++c}}if(null!==f)for(a=c-f,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[f+a-1],u[f+--a]=s;else if(8!=c)return;return u},B=function(e){var t,r,n,o;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=k(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,o=0,i=0;i<8;i++)0!==e[i]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(t=n,r=o),t}(e),r=0;r<8;r++)o&&0===e[r]||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},D={},z=p({},D,{" ":1,'"':1,"<":1,">":1,"`":1}),G=p({},z,{"#":1,"?":1,"{":1,"}":1}),H=p({},G,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Y=function(e,t){var r=d(e,0);return r>32&&r<127&&!l(t,e)?e:encodeURIComponent(e)},$={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(e){return l($,e.scheme)},K=function(e){return""!=e.username||""!=e.password},V=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},W=function(e,t){var r;return 2==e.length&&O.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},X=function(e){var t;return e.length>1&&W(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Z=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&W(t[0],!0)||t.pop()},Q=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},re={},ne={},oe={},ie={},ae={},se={},ue={},ce={},fe={},le={},pe={},he={},de={},ve={},ge={},ye={},me={},be={},we={},xe=function(e,t,r,o){var i,a,s,u,c,f=r||ee,p=0,d="",v=!1,g=!1,y=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(U,"")),t=t.replace(F,""),i=h(t);p<=i.length;){switch(a=i[p],f){case ee:if(!a||!O.test(a)){if(r)return"Invalid scheme";f=re;continue}d+=a.toLowerCase(),f=te;break;case te:if(a&&(A.test(a)||"+"==a||"-"==a||"."==a))d+=a.toLowerCase();else{if(":"!=a){if(r)return"Invalid scheme";d="",f=re,p=0;continue}if(r&&(J(e)!=l($,d)||"file"==d&&(K(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,r)return void(J(e)&&$[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?f=he:J(e)&&o&&o.scheme==e.scheme?f=ne:J(e)?f=se:"/"==i[p+1]?(f=oe,p++):(e.cannotBeABaseURL=!0,e.path.push(""),f=me)}break;case re:if(!o||o.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==a){e.scheme=o.scheme,e.path=o.path.slice(),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,f=we;break}f="file"==o.scheme?he:ie;continue;case ne:if("/"!=a||"/"!=i[p+1]){f=ie;continue}f=ue,p++;break;case oe:if("/"==a){f=ce;break}f=ye;continue;case ie:if(e.scheme=o.scheme,a==n)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query;else if("/"==a||"\\"==a&&J(e))f=ae;else if("?"==a)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query="",f=be;else{if("#"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.path.pop(),f=ye;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query,e.fragment="",f=we}break;case ae:if(!J(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,f=ye;continue}f=ce}else f=ue;break;case se:if(f=ue,"/"!=a||"/"!=d.charAt(p+1))continue;p++;break;case ue:if("/"!=a&&"\\"!=a){f=ce;continue}break;case ce:if("@"==a){v&&(d="%40"+d),v=!0,s=h(d);for(var m=0;m<s.length;m++){var b=s[m];if(":"!=b||y){var w=Y(b,H);y?e.password+=w:e.username+=w}else y=!0}d=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)){if(v&&""==d)return"Invalid authority";p-=h(d).length+1,d="",f=fe}else d+=a;break;case fe:case le:if(r&&"file"==e.scheme){f=ve;continue}if(":"!=a||g){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)){if(J(e)&&""==d)return"Invalid host";if(r&&""==d&&(K(e)||null!==e.port))return;if(u=M(e,d))return u;if(d="",f=ge,r)return;continue}"["==a?g=!0:"]"==a&&(g=!1),d+=a}else{if(""==d)return"Invalid host";if(u=M(e,d))return u;if(d="",f=pe,r==le)return}break;case pe:if(!C.test(a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)||r){if(""!=d){var x=parseInt(d,10);if(x>65535)return"Invalid port";e.port=J(e)&&x===$[e.scheme]?null:x,d=""}if(r)return;f=ge;continue}return"Invalid port"}d+=a;break;case he:if(e.scheme="file","/"==a||"\\"==a)f=de;else{if(!o||"file"!=o.scheme){f=ye;continue}if(a==n)e.host=o.host,e.path=o.path.slice(),e.query=o.query;else if("?"==a)e.host=o.host,e.path=o.path.slice(),e.query="",f=be;else{if("#"!=a){X(i.slice(p).join(""))||(e.host=o.host,e.path=o.path.slice(),Z(e)),f=ye;continue}e.host=o.host,e.path=o.path.slice(),e.query=o.query,e.fragment="",f=we}}break;case de:if("/"==a||"\\"==a){f=ve;break}o&&"file"==o.scheme&&!X(i.slice(p).join(""))&&(W(o.path[0],!0)?e.path.push(o.path[0]):e.host=o.host),f=ye;continue;case ve:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&W(d))f=ye;else if(""==d){if(e.host="",r)return;f=ge}else{if(u=M(e,d))return u;if("localhost"==e.host&&(e.host=""),r)return;d="",f=ge}continue}d+=a;break;case ge:if(J(e)){if(f=ye,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=n&&(f=ye,"/"!=a))continue}else e.fragment="",f=we;else e.query="",f=be;break;case ye:if(a==n||"/"==a||"\\"==a&&J(e)||!r&&("?"==a||"#"==a)){if(".."===(c=(c=d).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(Z(e),"/"==a||"\\"==a&&J(e)||e.path.push("")):Q(d)?"/"==a||"\\"==a&&J(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&W(d)&&(e.host&&(e.host=""),d=d.charAt(0)+":"),e.path.push(d)),d="","file"==e.scheme&&(a==n||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",f=be):"#"==a&&(e.fragment="",f=we)}else d+=Y(a,G);break;case me:"?"==a?(e.query="",f=be):"#"==a?(e.fragment="",f=we):a!=n&&(e.path[0]+=Y(a,D));break;case be:r||"#"!=a?a!=n&&("'"==a&&J(e)?e.query+="%27":e.query+="#"==a?"%23":Y(a,D)):(e.fragment="",f=we);break;case we:a!=n&&(e.fragment+=Y(a,z))}p++}},Se=function(e){var t,r,n=f(this,Se,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(e),s=S(n,{type:"URL"});if(void 0!==o)if(o instanceof Se)t=E(o);else if(r=xe(t={},String(o)))throw TypeError(r);if(r=xe(s,a,null,t))throw TypeError(r);var u=s.searchParams=new w,c=x(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},i||(n.href=ke.call(n),n.origin=Re.call(n),n.protocol=Oe.call(n),n.username=Ae.call(n),n.password=Ce.call(n),n.host=Pe.call(n),n.hostname=_e.call(n),n.port=je.call(n),n.pathname=Te.call(n),n.search=Ie.call(n),n.searchParams=Le.call(n),n.hash=Ue.call(n))},Ee=Se.prototype,ke=function(){var e=E(this),t=e.scheme,r=e.username,n=e.password,o=e.host,i=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==o?(c+="//",K(e)&&(c+=r+(n?":"+n:"")+"@"),c+=B(o),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Re=function(){var e=E(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&J(e)?t+"://"+B(e.host)+(null!==r?":"+r:""):"null"},Oe=function(){return E(this).scheme+":"},Ae=function(){return E(this).username},Ce=function(){return E(this).password},Pe=function(){var e=E(this),t=e.host,r=e.port;return null===t?"":null===r?B(t):B(t)+":"+r},_e=function(){var e=E(this).host;return null===e?"":B(e)},je=function(){var e=E(this).port;return null===e?"":String(e)},Te=function(){var e=E(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ie=function(){var e=E(this).query;return e?"?"+e:""},Le=function(){return E(this).searchParams},Ue=function(){var e=E(this).fragment;return e?"#"+e:""},Fe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&u(Ee,{href:Fe(ke,(function(e){var t=E(this),r=String(e),n=xe(t,r);if(n)throw TypeError(n);x(t.searchParams).updateSearchParams(t.query)})),origin:Fe(Re),protocol:Fe(Oe,(function(e){var t=E(this);xe(t,String(e)+":",ee)})),username:Fe(Ae,(function(e){var t=E(this),r=h(String(e));if(!V(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=Y(r[n],H)}})),password:Fe(Ce,(function(e){var t=E(this),r=h(String(e));if(!V(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=Y(r[n],H)}})),host:Fe(Pe,(function(e){var t=E(this);t.cannotBeABaseURL||xe(t,String(e),fe)})),hostname:Fe(_e,(function(e){var t=E(this);t.cannotBeABaseURL||xe(t,String(e),le)})),port:Fe(je,(function(e){var t=E(this);V(t)||(""==(e=String(e))?t.port=null:xe(t,e,pe))})),pathname:Fe(Te,(function(e){var t=E(this);t.cannotBeABaseURL||(t.path=[],xe(t,e+"",ge))})),search:Fe(Ie,(function(e){var t=E(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",xe(t,e,be)),x(t.searchParams).updateSearchParams(t.query)})),searchParams:Fe(Le),hash:Fe(Ue,(function(e){var t=E(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",xe(t,e,we)):t.fragment=null}))}),c(Ee,"toJSON",(function(){return ke.call(this)}),{enumerable:!0}),c(Ee,"toString",(function(){return ke.call(this)}),{enumerable:!0}),b){var Me=b.createObjectURL,Ne=b.revokeObjectURL;Me&&c(Se,"createObjectURL",(function(e){return Me.apply(b,arguments)})),Ne&&c(Se,"revokeObjectURL",(function(e){return Ne.apply(b,arguments)}))}g(Se,"URL"),o({global:!0,forced:!a,sham:!i},{URL:Se})},function(e,t,r){"use strict";var n=r(2),o=r(49).filter,i=r(30),a=r(15),s=i("filter"),u=a("filter");n({target:"Array",proto:!0,forced:!s||!u},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(2),o=r(49).find,i=r(72),a=r(15),s=!0,u=a("find");"find"in[]&&Array(1).find((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!u},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(e,t,r){var n=r(8),o=r(10).f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/;n&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,r){var n=r(8),o=r(3),i=r(40),a=r(119),s=r(10).f,u=r(66).f,c=r(120),f=r(81),l=r(121),p=r(9),h=r(0),d=r(17).set,v=r(100),g=r(1)("match"),y=o.RegExp,m=y.prototype,b=/a/g,w=/a/g,x=new y(b)!==b,S=l.UNSUPPORTED_Y;if(n&&i("RegExp",!x||S||h((function(){return w[g]=!1,y(b)!=b||y(w)==w||"/a/i"!=y(b,"i")})))){for(var E=function(e,t){var r,n=this instanceof E,o=c(e),i=void 0===t;if(!n&&o&&e.constructor===E&&i)return e;x?o&&!i&&(e=e.source):e instanceof E&&(i&&(t=f.call(e)),e=e.source),S&&(r=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var s=a(x?new y(e,t):y(e,t),n?this:m,E);return S&&r&&d(s,{sticky:r}),s},k=function(e){e in E||s(E,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})},R=u(y),O=0;R.length>O;)k(R[O++]);m.constructor=E,E.prototype=m,p(o,"RegExp",E)}v("RegExp")},function(e,t,r){"use strict";var n=r(4);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){"use strict";var n=r(9),o=r(4),i=r(0),a=r(81),s=RegExp.prototype,u=s.toString,c=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f="toString"!=u.name;(c||f)&&n(RegExp.prototype,"toString",(function(){var e=o(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in s)?a.call(e):r)}),{unsafe:!0})},function(e,t,r){"use strict";var n=r(74).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){"use strict";var n=r(2),o=r(96).indexOf,i=r(51),a=r(15),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,c=i("indexOf"),f=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:u||!c||!f},{indexOf:function(e){return u?s.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(2),o=r(11),i=r(73);n({target:"Object",stat:!0,forced:r(0)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},function(e,t,r){"use strict";var n=r(55),o=r(120),i=r(4),a=r(14),s=r(70),u=r(83),c=r(7),f=r(56),l=r(54),p=r(0),h=[].push,d=Math.min,v=!p((function(){return!RegExp(4294967295,"y")}));n("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(a(this)),i=void 0===r?4294967295:r>>>0;if(0===i)return[];if(void 0===e)return[n];if(!o(e))return t.call(n,e,i);for(var s,u,c,f=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,v=new RegExp(e.source,p+"g");(s=l.call(v,n))&&!((u=v.lastIndex)>d&&(f.push(n.slice(d,s.index)),s.length>1&&s.index<n.length&&h.apply(f,s.slice(1)),c=s[0].length,d=u,f.length>=i));)v.lastIndex===s.index&&v.lastIndex++;return d===n.length?!c&&v.test("")||f.push(""):f.push(n.slice(d)),f.length>i?f.slice(0,i):f}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var o=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,r):n.call(String(o),t,r)},function(e,o){var a=r(n,e,this,o,n!==t);if(a.done)return a.value;var l=i(e),p=String(this),h=s(l,RegExp),g=l.unicode,y=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),m=new h(v?l:"^(?:"+l.source+")",y),b=void 0===o?4294967295:o>>>0;if(0===b)return[];if(0===p.length)return null===f(m,p)?[p]:[];for(var w=0,x=0,S=[];x<p.length;){m.lastIndex=v?x:0;var E,k=f(m,v?p:p.slice(x));if(null===k||(E=d(c(m.lastIndex+(v?0:x)),p.length))===w)x=u(p,x,g);else{if(S.push(p.slice(w,x)),S.length===b)return S;for(var R=1;R<=k.length-1;R++)if(S.push(k[R]),S.length===b)return S;x=w=E}}return S.push(p.slice(w)),S}]}),!v)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SMART_KEY=t.patientParams=t.fhirVersions=t.patientCompartment=void 0,t.patientCompartment=["Account","AdverseEvent","AllergyIntolerance","Appointment","AppointmentResponse","AuditEvent","Basic","BodySite","BodyStructure","CarePlan","CareTeam","ChargeItem","Claim","ClaimResponse","ClinicalImpression","Communication","CommunicationRequest","Composition","Condition","Consent","Coverage","CoverageEligibilityRequest","CoverageEligibilityResponse","DetectedIssue","DeviceRequest","DeviceUseRequest","DeviceUseStatement","DiagnosticOrder","DiagnosticReport","DocumentManifest","DocumentReference","EligibilityRequest","Encounter","EnrollmentRequest","EpisodeOfCare","ExplanationOfBenefit","FamilyMemberHistory","Flag","Goal","Group","ImagingManifest","ImagingObjectSelection","ImagingStudy","Immunization","ImmunizationEvaluation","ImmunizationRecommendation","Invoice","List","MeasureReport","Media","MedicationAdministration","MedicationDispense","MedicationOrder","MedicationRequest","MedicationStatement","MolecularSequence","NutritionOrder","Observation","Order","Patient","Person","Procedure","ProcedureRequest","Provenance","QuestionnaireResponse","ReferralRequest","RelatedPerson","RequestGroup","ResearchSubject","RiskAssessment","Schedule","ServiceRequest","Specimen","SupplyDelivery","SupplyRequest","VisionPrescription"],t.fhirVersions={"0.4.0":2,"0.5.0":2,"1.0.0":2,"1.0.1":2,"1.0.2":2,"1.1.0":3,"1.4.0":3,"1.6.0":3,"1.8.0":3,"3.0.0":3,"3.0.1":3,"3.3.0":4,"3.5.0":4,"4.0.0":4,"4.0.1":4},t.patientParams=["patient","subject","requester","member","actor","beneficiary"],t.SMART_KEY="SMART_KEY"},function(e,t){var r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function v(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,r,n=h(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=d(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=c(e),t=f(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},p.prototype.delete=function(e){delete this.map[c(e)]},p.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},p.prototype.set=function(e,t){this.map[c(e)]=f(t)},p.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),l(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),l(e)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var r,n,o=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),m.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function x(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];x.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,r){return new Promise((function(n,i){var a=new b(e,r);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e,t,r={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;n(new x(o,r))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&o&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=p,e.Request=b,e.Response=x),t.Headers=p,t.Request=b,t.Response=x,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},function(e,t,r){var n=r(20),o=r(90);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(3),o=r(60),i=n["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},function(e,t,r){var n=r(8),o=r(0),i=r(61);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},function(e,t,r){var n=r(0);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(e,t,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},function(e,t,r){var n=r(6),o=r(21),i=r(96).indexOf,a=r(64);e.exports=function(e,t){var r,s=o(e),u=0,c=[];for(r in s)!n(a,r)&&n(s,r)&&c.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~i(c,r)||c.push(r));return c}},function(e,t,r){var n=r(21),o=r(7),i=r(67),a=function(e){return function(t,r,a){var s,u=n(t),c=o(u.length),f=i(a,c);if(e&&r!=r){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((e||f in u)&&u[f]===r)return e||f||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(3);e.exports=n.Promise},function(e,t,r){var n=r(9);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},function(e,t,r){"use strict";var n=r(18),o=r(10),i=r(1),a=r(8),s=i("species");e.exports=function(e){var t=n(e),r=o.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(1),o=r(29),i=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,r){var n=r(4);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n,o,i,a=r(3),s=r(0),u=r(13),c=r(23),f=r(104),l=r(61),p=r(105),h=a.location,d=a.setImmediate,v=a.clearImmediate,g=a.process,y=a.MessageChannel,m=a.Dispatch,b=0,w={},x=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},S=function(e){return function(){x(e)}},E=function(e){x(e.data)},k=function(e){a.postMessage(e+"",h.protocol+"//"+h.host)};d&&v||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return w[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(b),b},v=function(e){delete w[e]},"process"==u(g)?n=function(e){g.nextTick(S(e))}:m&&m.now?n=function(e){m.now(S(e))}:y&&!p?(i=(o=new y).port2,o.port1.onmessage=E,n=c(i.postMessage,i,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(k)||"file:"===h.protocol?n="onreadystatechange"in l("script")?function(e){f.appendChild(l("script")).onreadystatechange=function(){f.removeChild(this),x(e)}}:function(e){setTimeout(S(e),0)}:(n=k,a.addEventListener("message",E,!1))),e.exports={set:d,clear:v}},function(e,t,r){var n=r(18);e.exports=n("document","documentElement")},function(e,t,r){var n=r(106);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(e,t,r){var n=r(18);e.exports=n("navigator","userAgent")||""},function(e,t,r){var n=r(4),o=r(5),i=r(108);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(28),o=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new o(e)}},function(e,t,r){var n=r(8),o=r(10),i=r(4),a=r(73);e.exports=n?Object.defineProperties:function(e,t){i(e);for(var r,n=a(t),s=n.length,u=0;s>u;)o.f(e,r=n[u++],t[r]);return e}},function(e,t,r){"use strict";var n=r(2),o=r(111),i=r(113),a=r(114),s=r(27),u=r(12),c=r(9),f=r(1),l=r(20),p=r(29),h=r(112),d=h.IteratorPrototype,v=h.BUGGY_SAFARI_ITERATORS,g=f("iterator"),y=function(){return this};e.exports=function(e,t,r,f,h,m,b){o(r,t,f);var w,x,S,E=function(e){if(e===h&&C)return C;if(!v&&e in O)return O[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},k=t+" Iterator",R=!1,O=e.prototype,A=O[g]||O["@@iterator"]||h&&O[h],C=!v&&A||E(h),P="Array"==t&&O.entries||A;if(P&&(w=i(P.call(new e)),d!==Object.prototype&&w.next&&(l||i(w)===d||(a?a(w,d):"function"!=typeof w[g]&&u(w,g,y)),s(w,k,!0,!0),l&&(p[k]=y))),"values"==h&&A&&"values"!==A.name&&(R=!0,C=function(){return A.call(this)}),l&&!b||O[g]===C||u(O,g,C),p[t]=C,h)if(x={values:E("values"),keys:m?C:E("keys"),entries:E("entries")},b)for(S in x)(v||R||!(S in O))&&c(O,S,x[S]);else n({target:t,proto:!0,forced:v||R},x);return x}},function(e,t,r){"use strict";var n=r(112).IteratorPrototype,o=r(46),i=r(25),a=r(27),s=r(29),u=function(){return this};e.exports=function(e,t,r){var c=t+" Iterator";return e.prototype=o(n,{next:i(1,r)}),a(e,c,!1,!0),s[c]=u,e}},function(e,t,r){"use strict";var n,o,i,a=r(113),s=r(12),u=r(6),c=r(1),f=r(20),l=c("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(n=o):p=!0),null==n&&(n={}),f||u(n,l)||s(n,l,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},function(e,t,r){var n=r(6),o=r(11),i=r(63),a=r(142),s=i("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,r){var n=r(4),o=r(143);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,i){return n(r),o(i),t?e.call(r,i):r.__proto__=i,r}}():void 0)},function(e,t,r){"use strict";var n=r(8),o=r(0),i=r(73),a=r(97),s=r(94),u=r(11),c=r(26),f=Object.assign,l=Object.defineProperty;e.exports=!f||o((function(){if(n&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=f({},e)[r]||"abcdefghijklmnopqrst"!=i(f({},t)).join("")}))?function(e,t){for(var r=u(e),o=arguments.length,f=1,l=a.f,p=s.f;o>f;)for(var h,d=c(arguments[f++]),v=l?i(d).concat(l(d)):i(d),g=v.length,y=0;g>y;)h=v[y++],n&&!p.call(d,h)||(r[h]=d[h]);return r}:f},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){var n=r(0),o=r(1),i=r(20),a=o("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},function(e,t,r){"use strict";var n=r(49).forEach,o=r(51),i=r(15),a=o("forEach"),s=i("forEach");e.exports=a&&s?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,r){var n=r(5),o=r(114);e.exports=function(e,t,r){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==r&&n(a=i.prototype)&&a!==r.prototype&&o(e,a),e}},function(e,t,r){var n=r(5),o=r(13),i=r(1)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,r){"use strict";var n=r(0);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,r){"use strict";var n=r(24);r(42),r(77),r(78),r(50),r(84),r(52),r(53),r(151),r(79),r(47),r(85),r(19),r(38),r(16),r(32),r(33),r(86),r(123),r(57);var o=n(r(34));r(35);var i=n(r(154)),a=n(r(36));Object.defineProperty(t,"__esModule",{value:!0}),t.assertJsonPatch=t.assert=t.getTargetWindow=t.getPatientParam=t.byCodes=t.byCode=t.getAccessTokenExpiration=t.jwtDecode=t.randomString=t.absolute=t.makeArray=t.setPath=t.getPath=t.fetchConformanceStatement=t.getAndCache=t.request=t.responseToJSON=t.checkResponse=t.units=t.debug=void 0;var s=r(155),u=r(87),c=r(163),f=("undefined"!=typeof FHIRCLIENT_PURE?window:r(88)).fetch,l=c("FHIR");t.debug=l;var p={};function h(e){var t=e.value,r=e.code;if("number"!=typeof t)throw new Error("Found a non-numerical unit: "+t+" "+r)}function d(e){return v.apply(this,arguments)}function v(){return(v=(0,a.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return r=new s.default(t),e.next=4,r.parse();case 4:throw r;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return e.text().then((function(e){return e.length?JSON.parse(e):""}))}function y(e,t){void 0===t&&(t={});var r=t,n=r.includeResponse,o=(0,i.default)(r,["includeResponse"]);return f(e,Object.assign({mode:"cors"},o,{headers:Object.assign({accept:"application/json"},o.headers)})).then(d).then((function(e){var t=e.headers.get("Content-Type")+"";return t.match(/\bjson\b/i)?g(e).then((function(t){return{res:e,body:t}})):t.match(/^text\//i)?e.text().then((function(t){return{res:e,body:t}})):{res:e}})).then((function(e){var t=e.res,r=e.body;if(!r&&201==t.status){var i=t.headers.get("location");if(i)return y(i,Object.assign({},o,{method:"GET",body:null,includeResponse:n}))}return n?{body:r,response:t}:void 0===r?t:r}))}function m(e,t,r){return void 0===r&&(r=!1),r||!p[e]?(p[e]=y(e,t),p[e]):Promise.resolve(p[e])}function b(e,t){if(void 0===t&&(t=""),!(t=t.trim()))return e;for(var r=t.split("."),n=e;n&&r.length;){var o=r.shift();if(!o&&Array.isArray(n))return n.map((function(e){return b(e,r.join("."))}));n=n[o]}return n}function w(e){return Array.isArray(e)?e:[e]}function x(e,t){var r=e.split(".")[1];return r?JSON.parse(t.atob(r)):null}function S(e,t){var r={};function n(e,t){e&&Array.isArray(e.coding)&&e.coding.forEach((function(e){var n=e.code;n&&(r[n]=r[n]||[],r[n].push(t))}))}return w(e).forEach((function(e){"Observation"===e.resourceType&&e[t]&&(Array.isArray(e[t])?e[t].forEach((function(t){return n(t,e)})):n(e[t],e))})),r}function E(){return(E=(0,a.default)(o.default.mark((function e(t,r,n){var i,a,s,u,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=800),void 0===n&&(n=720),"function"!=typeof t){e.next=6;break}return e.next=5,t();case 5:t=e.sent;case 6:if(!t||"object"!=typeof t){e.next=8;break}return e.abrupt("return",t);case 8:if("string"==typeof t){e.next=11;break}return l("Invalid target type '%s'. Failing back to '_self'.",typeof t),e.abrupt("return",self);case 11:if("_self"!=t){e.next=13;break}return e.abrupt("return",self);case 13:if("_parent"!=t){e.next=15;break}return e.abrupt("return",parent);case 15:if("_top"!=t){e.next=17;break}return e.abrupt("return",top);case 17:if("_blank"!=t){e.next=34;break}if(a=null,e.prev=19,a=window.open("","SMARTAuthPopup")){e.next=23;break}throw new Error("Perhaps window.open was blocked");case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(19),i=e.t0;case 28:if(a){e.next=33;break}return l("Cannot open window. Failing back to '_self'. %s",i),e.abrupt("return",self);case 33:return e.abrupt("return",a);case 34:if("popup"!=t){e.next=51;break}if(u=null,e.prev=36,u=window.open("","SMARTAuthPopup",["height="+n,"width="+r,"menubar=0","resizable=1","status=0","top="+(screen.height-n)/2,"left="+(screen.width-r)/2].join(","))){e.next=40;break}throw new Error("Perhaps the popup window was blocked");case 40:e.next=45;break;case 42:e.prev=42,e.t1=e.catch(36),s=e.t1;case 45:if(u){e.next=50;break}return l("Cannot open window. Failing back to '_self'. %s",s),e.abrupt("return",self);case 50:return e.abrupt("return",u);case 51:if(!(c=frames[t])){e.next=54;break}return e.abrupt("return",c);case 54:return l("Unknown target '%s'. Failing back to '_self'.",t),e.abrupt("return",self);case 56:case"end":return e.stop()}}),e,null,[[19,25],[36,42]])})))).apply(this,arguments)}function k(e,t){if(!e)throw new Error(t)}t.units={cm:function(e){var t=e.code,r=e.value;if(h({code:t,value:r}),"cm"==t)return r;if("m"==t)return 100*r;if("in"==t)return 2.54*r;if("[in_us]"==t)return 2.54*r;if("[in_i]"==t)return 2.54*r;if("ft"==t)return 30.48*r;if("[ft_us]"==t)return 30.48*r;throw new Error("Unrecognized length unit: "+t)},kg:function(e){var t=e.code,r=e.value;if(h({code:t,value:r}),"kg"==t)return r;if("g"==t)return r/1e3;if(t.match(/lb/))return r/2.20462;if(t.match(/oz/))return r/35.274;throw new Error("Unrecognized weight unit: "+t)},any:function(e){return h(e),e.value}},t.checkResponse=d,t.responseToJSON=g,t.request=y,t.getAndCache=m,t.fetchConformanceStatement=function(e,t){void 0===e&&(e="/");var r=String(e).replace(/\/*$/,"/")+"metadata";return m(r,t).catch((function(e){throw new Error('Failed to fetch the conformance statement from "'+r+'". '+e)}))},t.getPath=b,t.setPath=function(e,t,r,n){return void 0===n&&(n=!1),t.trim().split(".").reduce((function(e,t,o,i){if(!e||o!==i.length-1)return e&&void 0===e[t]&&n&&(e[t]=i[o+1].match(/^[0-9]+$/)?[]:{}),e?e[t]:void 0;e[t]=r}),e),e},t.makeArray=w,t.absolute=function(e,t){return e.match(/^http/)||e.match(/^urn/)?e:String(t||"").replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")},t.randomString=function(e,t){void 0===e&&(e=8),void 0===t&&(t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");for(var r=[],n=t.length;e--;)r.push(t.charAt(Math.floor(Math.random()*n)));return r.join("")},t.jwtDecode=x,t.getAccessTokenExpiration=function(e,t){var r=Math.floor(Date.now()/1e3);if(e.expires_in)return r+e.expires_in;if(e.access_token){var n=x(e.access_token,t);if(n&&n.exp)return n.exp}return r+300},t.byCode=S,t.byCodes=function(e,t){var r=S(e,t);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e+""in r})).reduce((function(e,t){return e.concat(r[t+""])}),[])}},t.getPatientParam=function(e,t){var r=(b(e,"rest.0.resource")||[]).find((function(e){return e.type===t}));if(!r)throw new Error('Resource "'+t+'" is not supported by this FHIR server');if(!Array.isArray(r.searchParam))throw new Error('No search parameters supported for "'+t+'" on this FHIR server');if("Patient"==t&&r.searchParam.find((function(e){return"_id"==e.name})))return"_id";var n=u.patientParams.find((function(e){return r.searchParam.find((function(t){return t.name==e}))}));if(!n)throw new Error("I don't know what param to use for "+t);return n},t.getTargetWindow=function(e,t,r){return E.apply(this,arguments)},t.assert=k,t.assertJsonPatch=function(e){k(Array.isArray(e),"The JSON patch must be an array"),k(e.length>0,"The JSON patch array should not be empty"),e.forEach((function(e){k(["add","replace","test","move","copy","remove"].indexOf(e.op)>-1,'Each patch operation must have an "op" property which must be one of: "add", "replace", "test", "move", "copy", "remove"'),k(e.path&&typeof e.path,'Invalid "'+e.op+'" operation. Missing "path" property'),"add"==e.op||"replace"==e.op||"test"==e.op?(k("value"in e,'Invalid "'+e.op+'" operation. Missing "value" property'),k(3==Object.keys(e).length,'Invalid "'+e.op+'" operation. Contains unknown properties')):"move"==e.op||"copy"==e.op?(k("string"==typeof e.from,'Invalid "'+e.op+'" operation. Requires a string "from" property'),k(3==Object.keys(e).length,'Invalid "'+e.op+'" operation. Contains unknown properties')):k(2==Object.keys(e).length,'Invalid "'+e.op+'" operation. Contains unknown properties')}))}},function(e,t,r){"use strict";var n=r(2),o=r(124).trim;n({target:"String",proto:!0,forced:r(153)("trim")},{trim:function(){return o(this)}})},function(e,t,r){var n=r(14),o="["+r(125)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),s=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(a,"")),r}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){"use strict";var n=r(2),o=r(67),i=r(22),a=r(7),s=r(11),u=r(45),c=r(44),f=r(30),l=r(15),p=f("splice"),h=l("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,v=Math.min;n({target:"Array",proto:!0,forced:!p||!h},{splice:function(e,t){var r,n,f,l,p,h,g=s(this),y=a(g.length),m=o(e,y),b=arguments.length;if(0===b?r=n=0:1===b?(r=0,n=y-m):(r=b-2,n=v(d(i(t),0),y-m)),y+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(f=u(g,n),l=0;l<n;l++)(p=m+l)in g&&c(f,l,g[p]);if(f.length=n,r<n){for(l=m;l<y-n;l++)h=l+r,(p=l+n)in g?g[h]=g[p]:delete g[h];for(l=y;l>y-n+r;l--)delete g[l-1]}else if(r>n)for(l=y-n;l>m;l--)h=l+r-1,(p=l+n-1)in g?g[h]=g[p]:delete g[h];for(l=0;l<r;l++)g[l+m]=arguments[l+2];return g.length=y-n+r,f}})},function(e,t,r){"use strict";var n=r(24);r(42),r(77),r(78),r(168),r(50),r(84),r(31),r(52),r(53),r(170),r(171),r(47),r(85),r(19),r(38),r(172),r(16),r(48),r(32),r(33),r(173),r(86),r(123),r(175),r(57),r(75),r(76);var o=n(r(34));r(35);var i=n(r(36));Object.defineProperty(t,"__esModule",{value:!0});var a=r(122),s=r(178),u=r(87),c=("undefined"!=typeof FHIRCLIENT_PURE?window:r(88)).Response,f=a.debug.extend("client");function l(e,t){return p.apply(this,arguments)}function p(){return(p=(0,i.default)(o.default.mark((function e(t,r){var n,s,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(){return(c=(0,i.default)(o.default.mark((function e(t){var n,i,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pathname.split("/").pop(),a.assert(n,'Invalid url "'+t+'"'),a.assert(u.patientCompartment.indexOf(n)>-1,'Cannot filter "'+n+'" resources by patient'),e.next=5,a.fetchConformanceStatement(r.state.serverUrl);case 5:return i=e.sent,s=a.getPatientParam(i,n),t.searchParams.set(s,r.patient.id),e.abrupt("return",t.href);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(e){return c.apply(this,arguments)},n=a.absolute("/",r.state.serverUrl),!("string"==typeof t||t instanceof URL)){e.next=8;break}return e.next=6,s(new URL(t+"",n));case 6:return e.t0=e.sent,e.abrupt("return",{url:e.t0});case 8:return e.next=10,s(new URL(t.url+"",n));case 10:return t.url=e.sent,e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,r,n,o,i){var s=a.getPath(e,t);if(s){var u=Array.isArray(s);return Promise.all(a.makeArray(s).filter(Boolean).map((function(s,c){var f=s.reference;if(f)return function(e,t,r,n){return t[e]||(t[e]=r.request({url:e,signal:n}).then((function(r){return t[e]=r,r}),(function(r){throw delete t[e],r}))),Promise.resolve(t[e])}(f,n,o,i).then((function(n){r&&(u?t.indexOf("..")>-1?a.setPath(e,""+t.replace("..","."+c+"."),n):a.setPath(e,t+"."+c,n):a.setPath(e,t,n))})).catch((function(e){if(404!==e.status)throw e}))})))}}function d(e,t,r,n,o){var i=a.makeArray(t.resolveReferences).filter(Boolean).map((function(e){return String(e).trim()})).filter(Boolean);if(!(i=i.filter((function(e,t){return!(i.indexOf(e,t+1)>-1)||(f('Duplicated reference path "%s"',e),!1)}))).length)return Promise.resolve();var s={};i.forEach((function(e){var t=e.split(".").length;s[t]||(s[t]=[]),s[t].push(e)}));var u=Promise.resolve();return Object.keys(s).sort().forEach((function(i){var a=s[i];u=u.then((function(){return Promise.all(a.map((function(i){return h(e,i,!!t.graph,r,n,o)})))}))})),u}var v=function(){function e(e,t){var r=this;this.units=a.units;var n="string"==typeof t?{serverUrl:t}:t;a.assert(n.serverUrl&&n.serverUrl.match(/https?:\/\/.+/),'A "serverUrl" option is required and must begin with "http(s)"'),this.state=n,this.environment=e,this._refreshTask=null;var s=this;this.patient={get id(){return s.getPatientId()},read:function(e){var t=r.patient.id;return t?r.request(Object.assign({},e,{url:"Patient/"+t})):Promise.reject(new Error("Patient is not available"))},request:function(e,t){return void 0===t&&(t={}),r.patient.id?(0,i.default)(o.default.mark((function n(){var i;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l(e,r);case 2:return i=n.sent,n.abrupt("return",r.request(i,t));case 4:case"end":return n.stop()}}),n)})))():Promise.reject(new Error("Patient is not available"))}},this.encounter={get id(){return s.getEncounterId()},read:function(e){var t=r.encounter.id;return t?r.request(Object.assign({},e,{url:"Encounter/"+t})):Promise.reject(new Error("Encounter is not available"))}},this.user={get fhirUser(){return s.getFhirUser()},get id(){return s.getUserId()},get resourceType(){return s.getUserType()},read:function(e){var t=r.user.fhirUser;return t?r.request(Object.assign({},e,{url:t})):Promise.reject(new Error("User is not available"))}},this.connect(e.fhir)}var t=e.prototype;return t.connect=function(e){if("function"==typeof e){var t={baseUrl:this.state.serverUrl.replace(/\/$/,"")},r=this.getState("tokenResponse.access_token");if(r)t.auth={token:r};else{var n=this.state,o=n.username,i=n.password;o&&i&&(t.auth={user:o,pass:i})}this.api=e(t);var a=this.getState("tokenResponse.patient");a&&(this.patient.api=e(Object.assign({},t,{patient:a})))}return this},t.getPatientId=function(){var e=this.state.tokenResponse;return e?e.patient?e.patient:((this.state.scope||"").match(/\blaunch(\/patient)?\b/)?f("The ID of the selected patient is not available. Please check if your server supports that."):f(s.default.noScopeForId,"patient","patient"),null):(this.state.authorizeUri?f(s.default.noIfNoAuth,"the ID of the selected patient"):f(s.default.noFreeContext,"selected patient"),null)},t.getEncounterId=function(){var e=this.state.tokenResponse;return e?e.encounter?e.encounter:((this.state.scope||"").match(/\blaunch(\/encounter)?\b/)?f("The ID of the selected encounter is not available. Please check if your server supports that, and that the selected patient has any recorded encounters."):f(s.default.noScopeForId,"encounter","encounter"),null):(this.state.authorizeUri?f(s.default.noIfNoAuth,"the ID of the selected encounter"):f(s.default.noFreeContext,"selected encounter"),null)},t.getIdToken=function(){var e=this.state.tokenResponse;if(e){var t=e.id_token,r=this.state.scope||"";if(!t){var n=r.match(/\bopenid\b/),o=r.match(/\bprofile\b/),i=r.match(/\bfhirUser\b/);return f(n&&(i||o)?"The id_token is not available. Please check if your server supports that.":"You are trying to get the id_token but you are not using the right scopes. Please add 'openid' and 'fhirUser' or 'profile' to the scopes you are requesting."),null}return a.jwtDecode(t,this.environment)}return this.state.authorizeUri?f(s.default.noIfNoAuth,"the id_token"):f(s.default.noFreeContext,"id_token"),null},t.getFhirUser=function(){var e=this.getIdToken();return e?e.fhirUser?e.fhirUser.split("/").slice(-2).join("/"):e.profile:null},t.getUserId=function(){var e=this.getFhirUser();return e?e.split("/")[1]:null},t.getUserType=function(){var e=this.getFhirUser();return e?e.split("/")[0]:null},t.getAuthorizationHeader=function(){var e=this.getState("tokenResponse.access_token");if(e)return"Bearer "+e;var t=this.state,r=t.username,n=t.password;return r&&n?"Basic "+this.environment.btoa(r+":"+n):null},t._clearState=function(){var e=(0,i.default)(o.default.mark((function e(){var t,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.environment.getStorage(),e.next=3,t.get(u.SMART_KEY);case 3:if(!(r=e.sent)){e.next=7;break}return e.next=7,t.unset(r);case 7:return e.next=9,t.unset(u.SMART_KEY);case 9:this.state.tokenResponse={};case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.create=function(e,t){return this.request(Object.assign({},t,{url:""+e.resourceType,method:"POST",body:JSON.stringify(e),headers:Object.assign({"Content-Type":"application/json"},(t||{}).headers)}))},t.update=function(e,t){return this.request(Object.assign({},t,{url:e.resourceType+"/"+e.id,method:"PUT",body:JSON.stringify(e),headers:Object.assign({"Content-Type":"application/json"},(t||{}).headers)}))},t.delete=function(e,t){return void 0===t&&(t={}),this.request(Object.assign({},t,{url:e,method:"DELETE"}))},t.patch=function(){var e=(0,i.default)(o.default.mark((function e(t,r,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),a.assertJsonPatch(r),e.abrupt("return",this.request(Object.assign({},n,{url:t,method:"PATCH",body:JSON.stringify(r),headers:Object.assign({prefer:"return=presentation","content-type":"application/json-patch+json; charset=UTF-8"},n.headers)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.request=function(){var e=(0,i.default)(o.default.mark((function e(t,r,n){var u,f,l,p,h,v,g,y=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r={}),void 0===n&&(n={}),f=a.debug.extend("client:request"),a.assert(t,"request requires an url or request options as argument"),"string"==typeof t||t instanceof URL?(l=String(t),t={}):l=String(t.url),l=a.absolute(l,this.state.serverUrl),p={graph:!1!==r.graph,flat:!!r.flat,pageLimit:null!==(u=r.pageLimit)&&void 0!==u?u:1,resolveReferences:r.resolveReferences||[],useRefreshToken:!1!==r.useRefreshToken,onPage:"function"==typeof r.onPage?r.onPage:void 0},h=t.signal||void 0,v=p.useRefreshToken?this.refreshIfNeeded({signal:h}).then((function(){return t})):Promise.resolve(t),e.abrupt("return",v.then((function(e){var t=y.getAuthorizationHeader();return t&&(e.headers=Object.assign({},e.headers,{Authorization:t})),e})).then((function(e){return f("%s, options: %O, fhirOptions: %O",l,e,p),a.request(l,e).then((function(t){return e.includeResponse?(g=t.response,t.body):t}))})).catch(function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!=t.status){e.next=15;break}if(y.getState("tokenResponse.access_token")){e.next=4;break}throw t.message+="\nThis app cannot be accessed directly. Please launch it as SMART app!",t;case 4:if(p.useRefreshToken){e.next=10;break}return f("Your session has expired and the useRefreshToken option is set to false. Please re-launch the app."),e.next=8,y._clearState();case 8:throw t.message+="\n"+s.default.expired,t;case 10:return f("Auto-refresh failed! Please re-launch the app."),e.next=13,y._clearState();case 13:throw t.message+="\n"+s.default.expired,t;case 15:throw t;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw 403==e.status&&f("Permission denied! Please make sure that you have requested the proper scopes."),e})).then((function(e){return e?"string"==typeof e||e instanceof c?e:(r=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Bundle"!=t.resourceType){e.next=5;break}return e.next=3,Promise.all((t.entry||[]).map((function(e){return d(e.resource,p,n,y,h)})));case 3:e.next=7;break;case 5:return e.next=7,d(t,p,n,y,h);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})(e).then(function(){var e=(0,i.default)(o.default.mark((function e(t){var r,i,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"Bundle"!=t.resourceType){e.next=19;break}if(r=t.link||[],p.flat&&(t=(t.entry||[]).map((function(e){return e.resource}))),!p.onPage){e.next=6;break}return e.next=6,p.onPage(t,Object.assign({},n));case 6:if(!--p.pageLimit){e.next=19;break}if(i=r.find((function(e){return"next"==e.relation})),t=a.makeArray(t),!i||!i.url){e.next=19;break}return e.next=12,y.request({url:i.url,signal:h},p,n);case 12:if(s=e.sent,!p.onPage){e.next=15;break}return e.abrupt("return",null);case 15:if(!p.resolveReferences.length){e.next=18;break}return Object.assign(n,s.references),e.abrupt("return",t.concat(a.makeArray(s.data||s)));case 18:return e.abrupt("return",t.concat(a.makeArray(s)));case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){if(p.graph)n={};else if(!p.onPage&&p.resolveReferences.length)return{data:e,references:n};return e})).then((function(e){return t.includeResponse?{body:e,response:g}:e})):e;var r})));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.refreshIfNeeded=function(e){void 0===e&&(e={});var t=this.getState("tokenResponse.access_token"),r=this.getState("tokenResponse.refresh_token"),n=this.state.expiresAt||0;return t&&r&&n-10<Date.now()/1e3?this.refresh(e):Promise.resolve(this.state)},t.refresh=function(e){var t,r,n=this;void 0===e&&(e={});var o=a.debug.extend("client:refresh");o("Attempting to refresh with refresh_token...");var i=null===(r=null===(t=this.state)||void 0===t?void 0:t.tokenResponse)||void 0===r?void 0:r.refresh_token;a.assert(i,"Unable to refresh. No refresh_token found.");var s=this.state.tokenUri;a.assert(s,"Unable to refresh. No tokenUri found.");var u=this.getState("tokenResponse.scope")||"",c=u.search(/\boffline_access\b/)>-1,f=u.search(/\bonline_access\b/)>-1;if(a.assert(c||f,"Unable to refresh. No offline_access or online_access scope found."),!this._refreshTask){var l=Object.assign({credentials:this.environment.options.refreshTokenWithCredentials||"same-origin"},e,{method:"POST",mode:"cors",headers:Object.assign({},e.headers||{},{"content-type":"application/x-www-form-urlencoded"}),body:"grant_type=refresh_token&refresh_token="+encodeURIComponent(i)});if(!("authorization"in l.headers)){var p=this.state,h=p.clientSecret,d=p.clientId;h&&(l.headers.authorization="Basic "+this.environment.btoa(d+":"+h))}this._refreshTask=a.request(s,l).then((function(e){return a.assert(e.access_token,"No access token received"),o("Received new access token response %O",e),Object.assign(n.state.tokenResponse,e),n.state.expiresAt=a.getAccessTokenExpiration(e,n.environment),n.state})).catch((function(e){var t,r;throw(null===(r=null===(t=n.state)||void 0===t?void 0:t.tokenResponse)||void 0===r?void 0:r.refresh_token)&&(o("Deleting the expired or invalid refresh token."),delete n.state.tokenResponse.refresh_token),e})).finally((function(){n._refreshTask=null;var e=n.state.key;e?n.environment.getStorage().set(e,n.state):o("No 'key' found in Clint.state. Cannot persist the instance.")}))}return this._refreshTask},t.byCode=function(e,t){return a.byCode(e,t)},t.byCodes=function(e,t){return a.byCodes(e,t)},t.getPath=function(e,t){return void 0===t&&(t=""),a.getPath(e,t)},t.getState=function(e){return void 0===e&&(e=""),a.getPath(Object.assign({},this.state),e)},t.getFhirVersion=function(){return a.fetchConformanceStatement(this.state.serverUrl).then((function(e){return e.fhirVersion}))},t.getFhirRelease=function(){return this.getFhirVersion().then((function(e){var t;return null!==(t=u.fhirVersions[e])&&void 0!==t?t:0}))},e}();t.default=v},function(e,t,r){"use strict";r(19),r(38);var n=(new(r(141).default)).getSmartApi(),o=n.ready,i=n.authorize,a=n.init,s=n.client,u=n.options;if("undefined"==typeof FHIRCLIENT_PURE){var c=r(88);r(180),window.fetch||(window.fetch=c.default,window.Headers=c.Headers,window.Request=c.Request,window.Response=c.Response)}var f={AbortController:window.AbortController,client:s,oauth2:{settings:u,ready:o,authorize:i,init:a}};e.exports=f},function(e,t,r){var n=r(93);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){var n=r(3),o=r(62),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t,r){"use strict";var n=r(58),o=r(65);e.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,r){var n=r(6),o=r(134),i=r(39),a=r(10);e.exports=function(e,t){for(var r=o(t),s=a.f,u=i.f,c=0;c<r.length;c++){var f=r[c];n(e,f)||s(e,f,u(t,f))}}},function(e,t,r){var n=r(18),o=r(66),i=r(97),a=r(4);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(3);e.exports=n},function(e,t,r){var n=r(4),o=r(101),i=r(7),a=r(23),s=r(41),u=r(102),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,r,f,l){var p,h,d,v,g,y,m,b=a(t,r,f?2:1);if(l)p=e;else{if("function"!=typeof(h=s(e)))throw TypeError("Target is not iterable");if(o(h)){for(d=0,v=i(e.length);v>d;d++)if((g=f?b(n(m=e[d])[0],m[1]):b(e[d]))&&g instanceof c)return g;return new c(!1)}p=h.call(e)}for(y=p.next;!(m=y.call(p)).done;)if("object"==typeof(g=u(p,b,m.value,f))&&g&&g instanceof c)return g;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,r){var n=r(1)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},function(e,t,r){var n,o,i,a,s,u,c,f,l=r(3),p=r(39).f,h=r(13),d=r(103).set,v=r(105),g=l.MutationObserver||l.WebKitMutationObserver,y=l.process,m=l.Promise,b="process"==h(y),w=p(l,"queueMicrotask"),x=w&&w.value;x||(n=function(){var e,t;for(b&&(e=y.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},b?a=function(){y.nextTick(n)}:g&&!v?(s=!0,u=document.createTextNode(""),new g(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):m&&m.resolve?(c=m.resolve(void 0),f=c.then,a=function(){f.call(c,n)}):a=function(){d.call(l,n)}),e.exports=x||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},function(e,t,r){var n=r(3);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,r){"use strict";var n=r(24);r(42),r(31),r(47),r(19),r(48),r(75),r(76);var o=n(r(148));Object.defineProperty(t,"__esModule",{value:!0});var i=r(149),a=r(128),s=r(179),u=function(){function e(e){void 0===e&&(e={}),this._url=null,this._storage=null,this.options=Object.assign({replaceBrowserHistory:!0,fullSessionStorageSupport:!0,refreshTokenWithCredentials:"same-origin"},e)}var t=e.prototype;return t.relative=function(e){return new URL(e,this.getUrl().href).href},t.getUrl=function(){return this._url||(this._url=new URL(location+"")),this._url},t.redirect=function(e){location.href=e},t.getStorage=function(){return this._storage||(this._storage=new s.default),this._storage},t.getAbortController=function(){return AbortController},t.atob=function(e){return window.atob(e)},t.btoa=function(e){return window.btoa(e)},t.getSmartApi=function(){var e=this;return{ready:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i.ready.apply(i,[e].concat(r))},authorize:function(t){return i.authorize(e,t)},init:function(t){return i.init(e,t)},client:function(t){return new a.default(e,t)},options:this.options}},(0,o.default)(e,[{key:"fhir",get:function(){return"function"==typeof fhir?fhir:null}}]),e}();t.default=u},function(e,t,r){var n=r(0);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,r){var n=r(5);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,r){"use strict";var n=r(23),o=r(11),i=r(102),a=r(101),s=r(7),u=r(44),c=r(41);e.exports=function(e){var t,r,f,l,p,h,d=o(e),v="function"==typeof this?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,m=void 0!==y,b=c(d),w=0;if(m&&(y=n(y,g>2?arguments[2]:void 0,2)),null==b||v==Array&&a(b))for(r=new v(t=s(d.length));t>w;w++)h=m?y(d[w],w):d[w],u(r,w,h);else for(p=(l=b.call(d)).next,r=new v;!(f=p.call(l)).done;w++)h=m?i(l,y,[f.value,w],!0):f.value,u(r,w,h);return r.length=w,r}},function(e,t,r){"use strict";var n=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,u=function(e){return e+22+75*(e<26)},c=function(e,t,r){var n=0;for(e=r?a(e/700):e>>1,e+=a(e/t);e>455;n+=36)e=a(e/35);return a(n+36*e/(e+38))},f=function(e){var t,r,n=[],o=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--)}else t.push(o)}return t}(e)).length,f=128,l=0,p=72;for(t=0;t<e.length;t++)(r=e[t])<128&&n.push(s(r));var h=n.length,d=h;for(h&&n.push("-");d<o;){var v=2147483647;for(t=0;t<e.length;t++)(r=e[t])>=f&&r<v&&(v=r);var g=d+1;if(v-f>a((2147483647-l)/g))throw RangeError(i);for(l+=(v-f)*g,f=v,t=0;t<e.length;t++){if((r=e[t])<f&&++l>2147483647)throw RangeError(i);if(r==f){for(var y=l,m=36;;m+=36){var b=m<=p?1:m>=p+26?26:m-p;if(y<b)break;var w=y-b,x=36-b;n.push(s(u(b+w%x))),y=a(w/x)}n.push(s(u(y))),p=c(l,g,d==h),l=0,++d}}++l,++f}return n.join("")};e.exports=function(e){var t,r,i=[],a=e.toLowerCase().replace(o,".").split(".");for(t=0;t<a.length;t++)r=a[t],i.push(n.test(r)?"xn--"+f(r):r);return i.join(".")}},function(e,t,r){"use strict";r(31);var n=r(2),o=r(18),i=r(117),a=r(9),s=r(99),u=r(27),c=r(111),f=r(17),l=r(69),p=r(6),h=r(23),d=r(65),v=r(4),g=r(5),y=r(46),m=r(25),b=r(147),w=r(41),x=r(1),S=o("fetch"),E=o("Headers"),k=x("iterator"),R=f.set,O=f.getterFor("URLSearchParams"),A=f.getterFor("URLSearchParamsIterator"),C=/\+/g,P=Array(4),_=function(e){return P[e-1]||(P[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},j=function(e){try{return decodeURIComponent(e)}catch(t){return e}},T=function(e){var t=e.replace(C," "),r=4;try{return decodeURIComponent(t)}catch(e){for(;r;)t=t.replace(_(r--),j);return t}},I=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},U=function(e){return L[e]},F=function(e){return encodeURIComponent(e).replace(I,U)},M=function(e,t){if(t)for(var r,n,o=t.split("&"),i=0;i<o.length;)(r=o[i++]).length&&(n=r.split("="),e.push({key:T(n.shift()),value:T(n.join("="))}))},N=function(e){this.entries.length=0,M(this.entries,e)},q=function(e,t){if(e<t)throw TypeError("Not enough arguments")},B=c((function(e,t){R(this,{type:"URLSearchParamsIterator",iterator:b(O(e).entries),kind:t})}),"Iterator",(function(){var e=A(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),D=function(){l(this,D,"URLSearchParams");var e,t,r,n,o,i,a,s,u,c=arguments.length>0?arguments[0]:void 0,f=this,h=[];if(R(f,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:N}),void 0!==c)if(g(c))if("function"==typeof(e=w(c)))for(r=(t=e.call(c)).next;!(n=r.call(t)).done;){if((a=(i=(o=b(v(n.value))).next).call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");h.push({key:a.value+"",value:s.value+""})}else for(u in c)p(c,u)&&h.push({key:u,value:c[u]+""});else M(h,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},z=D.prototype;s(z,{append:function(e,t){q(arguments.length,2);var r=O(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){q(arguments.length,1);for(var t=O(this),r=t.entries,n=e+"",o=0;o<r.length;)r[o].key===n?r.splice(o,1):o++;t.updateURL()},get:function(e){q(arguments.length,1);for(var t=O(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){q(arguments.length,1);for(var t=O(this).entries,r=e+"",n=[],o=0;o<t.length;o++)t[o].key===r&&n.push(t[o].value);return n},has:function(e){q(arguments.length,1);for(var t=O(this).entries,r=e+"",n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){q(arguments.length,1);for(var r,n=O(this),o=n.entries,i=!1,a=e+"",s=t+"",u=0;u<o.length;u++)(r=o[u]).key===a&&(i?o.splice(u--,1):(i=!0,r.value=s));i||o.push({key:a,value:s}),n.updateURL()},sort:function(){var e,t,r,n=O(this),o=n.entries,i=o.slice();for(o.length=0,r=0;r<i.length;r++){for(e=i[r],t=0;t<r;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===r&&o.push(e)}n.updateURL()},forEach:function(e){for(var t,r=O(this).entries,n=h(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<r.length;)n((t=r[o++]).value,t.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),a(z,k,z.entries),a(z,"toString",(function(){for(var e,t=O(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(F(e.key)+"="+F(e.value));return r.join("&")}),{enumerable:!0}),u(D,"URLSearchParams"),n({global:!0,forced:!i},{URLSearchParams:D}),i||"function"!=typeof S||"function"!=typeof E||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,o=[e];return arguments.length>1&&(g(t=arguments[1])&&(r=t.body,"URLSearchParams"===d(r)&&((n=t.headers?new E(t.headers):new E).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=y(t,{body:m(0,String(r)),headers:m(0,n)}))),o.push(t)),S.apply(this,o)}}),e.exports={URLSearchParams:D,getState:O}},function(e,t,r){var n=r(4),o=r(41);e.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){"use strict";var n=r(24);r(77),r(78),r(50),r(31),r(52),r(53),r(79),r(47),r(19),r(38),r(80),r(16),r(82),r(48),r(32),r(33),r(57),r(75),r(76);var o=n(r(34));r(35);var i=n(r(36));Object.defineProperty(t,"__esModule",{value:!0}),t.init=t.ready=t.buildTokenRequest=t.completeAuth=t.onMessage=t.isInPopUp=t.isInFrame=t.authorize=t.getSecurityExtensions=t.fetchWellKnownJson=t.KEY=void 0;var a=r(122),s=r(128),u=r(87);Object.defineProperty(t,"KEY",{enumerable:!0,get:function(){return u.SMART_KEY}});var c=a.debug.extend("oauth2");function f(){return"object"==typeof window}function l(e,t){void 0===e&&(e="/");var r=String(e).replace(/\/*$/,"/")+".well-known/smart-configuration";return a.getAndCache(r,t).catch((function(e){throw new Error('Failed to fetch the well-known json "'+r+'". '+e.message)}))}function p(e,t){return void 0===e&&(e="/"),l(e,t).then((function(e){if(!e.authorization_endpoint||!e.token_endpoint)throw new Error("Invalid wellKnownJson");return{registrationUri:e.registration_endpoint||"",authorizeUri:e.authorization_endpoint,tokenUri:e.token_endpoint}}))}function h(e,t){return void 0===e&&(e="/"),a.fetchConformanceStatement(e,t).then((function(e){var t=(a.getPath(e||{},"rest.0.security.extension")||[]).filter((function(e){return"http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris"===e.url})).map((function(e){return e.extension}))[0],r={registrationUri:"",authorizeUri:"",tokenUri:""};return t&&t.forEach((function(e){"register"===e.url&&(r.registrationUri=e.valueUri),"authorize"===e.url&&(r.authorizeUri=e.valueUri),"token"===e.url&&(r.tokenUri=e.valueUri)})),r}))}function d(e){var t=e.length,r=[],n=!1;return new Promise((function(o,i){function a(e){r.push(e)===t&&i(new Error(r.map((function(e){return e.message})).join("; ")))}e.forEach((function(t){t.promise.then((function(r){return function(t,r){t.complete=!0,n||(n=!0,e.forEach((function(e){e.complete||e.controller.abort()})),o(r))}(t,r)}),a)}))}))}function v(e,t){void 0===t&&(t="/");var r=e.getAbortController(),n=new r,o=new r;return d([{controller:n,promise:p(t,{signal:n.signal})},{controller:o,promise:h(t,{signal:o.signal})}])}function g(e,t){return y.apply(this,arguments)}function y(){return(y=(0,i.default)(o.default.mark((function e(t,r){var n,i,s,l,p,h,d,y,x,S,E,k,R,O,A,C,P,_,j,T,I,L,U,F,M,N,q,B,D,z,G,H,Y,$;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r={}),n=t.getUrl(),!Array.isArray(r)){e.next=11;break}if(i=n.searchParams.get("iss")||n.searchParams.get("fhirServiceUrl")){e.next=6;break}throw new Error('Passing in an "iss" url parameter is required if authorize uses multiple configurations');case 6:return s=r.find((function(e){if(e.issMatch){if("function"==typeof e.issMatch)return!!e.issMatch(i);if("string"==typeof e.issMatch)return e.issMatch===i;if(e.issMatch instanceof RegExp)return e.issMatch.test(i)}return!1})),a.assert(s,'No configuration found matching the current "iss" parameter "'+i+'"'),e.next=10,g(t,s);case 10:return e.abrupt("return",e.sent);case 11:if(p=(l=r).redirect_uri,h=l.clientSecret,d=l.fakeTokenResponse,y=l.patientId,x=l.encounterId,S=l.client_id,E=l.target,k=l.width,R=l.height,A=(O=r).iss,C=O.launch,P=O.fhirServiceUrl,_=O.redirectUri,j=O.noRedirect,T=O.scope,I=void 0===T?"":T,L=O.clientId,U=O.completeInTarget,F=t.getStorage(),A=n.searchParams.get("iss")||A,P=n.searchParams.get("fhirServiceUrl")||P,C=n.searchParams.get("launch")||C,L||(L=S),_||(_=p),_?_.match(/^https?\:\/\//)||(_=t.relative(_)):_=t.relative("."),M=String(A||P||"")){e.next=23;break}throw new Error("No server url found. It must be specified as `iss` or as `fhirServiceUrl` parameter");case 23:return A&&c("Making %s launch...",C?"EHR":"standalone"),C&&!I.match(/launch/)&&(I+=" launch"),f()&&(N=m(),q=b(),(N||q)&&!0!==U&&!1!==U&&(U=N,console.warn('Your app is being authorized from within an iframe or popup window. Please be explicit and provide a "completeInTarget" option. Use "true" to complete the authorization in the same window, or "false" to try to complete it in the parent or the opener window. See http://docs.smarthealthit.org/client-js/api.html'))),e.next=28,F.get(u.SMART_KEY);case 28:return B=e.sent,e.next=31,F.unset(B);case 31:if(D=a.randomString(16),z={clientId:L,scope:I,redirectUri:_,serverUrl:M,clientSecret:h,tokenResponse:{},key:D,completeInTarget:U},!(!f()||a.getPath(t,"options.fullSessionStorageSupport"))){e.next=37;break}return e.next=37,F.set(u.SMART_KEY,D);case 37:if(d&&Object.assign(z.tokenResponse,d),y&&Object.assign(z.tokenResponse,{patient:y}),x&&Object.assign(z.tokenResponse,{encounter:x}),G=_+"?state="+encodeURIComponent(D),!P||A){e.next=50;break}return c("Making fake launch..."),e.next=45,F.set(D,z);case 45:if(!j){e.next=47;break}return e.abrupt("return",G);case 47:return e.next=49,t.redirect(G);case 49:return e.abrupt("return",e.sent);case 50:return e.next=52,v(t,M);case 52:return H=e.sent,Object.assign(z,H),e.next=56,F.set(D,z);case 56:if(z.authorizeUri){e.next=62;break}if(!j){e.next=59;break}return e.abrupt("return",G);case 59:return e.next=61,t.redirect(G);case 61:return e.abrupt("return",e.sent);case 62:if(Y=["response_type=code","client_id="+encodeURIComponent(L||""),"scope="+encodeURIComponent(I),"redirect_uri="+encodeURIComponent(_),"aud="+encodeURIComponent(M),"state="+encodeURIComponent(D)],C&&Y.push("launch="+encodeURIComponent(C)),G=z.authorizeUri+"?"+Y.join("&"),!j){e.next=67;break}return e.abrupt("return",G);case 67:if(!E||!f()){e.next=76;break}return e.next=70,a.getTargetWindow(E,k,R);case 70:if(($=e.sent)!==self)try{$.sessionStorage.removeItem(B),$.sessionStorage.setItem(D,JSON.stringify(z))}catch(e){a.debug('Failed to modify window.sessionStorage. Perhaps it is from different origin?. Failing back to "_self". %s',e),$=self}if($!==self)try{$.location.href=G,self.addEventListener("message",w)}catch(e){a.debug('Failed to modify window.location. Perhaps it is from different origin?. Failing back to "_self". %s',e),self.location.href=G}else self.location.href=G;return e.abrupt("return");case 76:return e.next=78,t.redirect(G);case 78:return e.abrupt("return",e.sent);case 79:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){try{return self!==top&&parent!==self}catch(e){return!0}}function b(){try{return self===top&&!!opener&&opener!==self&&!!window.name}catch(e){return!1}}function w(e){"completeAuth"==e.data.type&&e.origin===new URL(self.location.href).origin&&(window.removeEventListener("message",w),window.location.href=e.data.url)}function x(e){return S.apply(this,arguments)}function S(){return(S=(0,i.default)(o.default.mark((function e(t){var r,n,i,l,p,h,d,v,g,y,w,x,S,k,R,O,A,C,P;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getUrl(),l=t.getStorage(),p=i.searchParams,h=p.get("state"),d=p.get("code"),v=p.get("error"),g=p.get("error_description"),h){e.next=11;break}return e.next=10,l.get(u.SMART_KEY);case 10:h=e.sent;case 11:if(!v&&!g){e.next=13;break}throw new Error([v,g].filter(Boolean).join(": "));case 13:return c("key: %s, code: %s",h,d),a.assert(h,"No 'state' parameter found. Please (re)launch the app."),e.next=17,l.get(h);case 17:if(y=e.sent,w=!f()||a.getPath(t,"options.fullSessionStorageSupport"),!f()||!y||y.completeInTarget){e.next=28;break}if(x=m(),S=b(),!x&&!S||i.searchParams.get("complete")){e.next=28;break}return i.searchParams.set("complete","1"),k=i.href,R=i.origin,x&&parent.postMessage({type:"completeAuth",url:k},R),S&&(opener.postMessage({type:"completeAuth",url:k},R),window.close()),e.abrupt("return",new Promise((function(){})));case 28:if(i.searchParams.delete("complete"),O=p.has("state"),f()&&a.getPath(t,"options.replaceBrowserHistory")&&(d||O)&&(d&&(p.delete("code"),c("Removed code parameter from the url.")),O&&w&&(p.delete("state"),c("Removed state parameter from the url.")),window.history.replaceState&&window.history.replaceState({},"",i.href)),a.assert(y,"No state found! Please (re)launch the app."),!d||(null===(r=y.tokenResponse)||void 0===r?void 0:r.access_token)||!y.tokenUri){e.next=50;break}return a.assert(d,"'code' url parameter is required"),c("Preparing to exchange the code for access token..."),A=E(t,d,y),c("Token request options: %O",A),e.next=40,a.request(y.tokenUri,A);case 40:return C=e.sent,c("Token response: %O",C),a.assert(C.access_token,"Failed to obtain access token."),y.expiresAt=a.getAccessTokenExpiration(C,t),y=Object.assign({},y,{tokenResponse:C}),e.next=47,l.set(h,y);case 47:c("Authorization successful!"),e.next=51;break;case 50:c((null===(n=y.tokenResponse)||void 0===n?void 0:n.access_token)?"Already authorized":"No authorization needed");case 51:if(!w){e.next=54;break}return e.next=54,l.set(u.SMART_KEY,h);case 54:return P=new s.default(t,y),c("Created client instance: %O",P),e.abrupt("return",P);case 57:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t,r){var n=r.redirectUri,o=r.clientSecret,i=r.tokenUri,s=r.clientId;a.assert(n,"Missing state.redirectUri"),a.assert(i,"Missing state.tokenUri"),a.assert(s,"Missing state.clientId");var u={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:"code="+t+"&grant_type=authorization_code&redirect_uri="+encodeURIComponent(n)};return o?(u.headers.Authorization="Basic "+e.btoa(s+":"+o),c("Using state.clientSecret to construct the authorization header: %s",u.headers.Authorization)):(c("No clientSecret found in state. Adding the clientId to the POST body"),u.body+="&client_id="+encodeURIComponent(s)),u}function k(){return(k=(0,i.default)(o.default.mark((function e(t,r,n){var i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=x(t),r&&(i=i.then(r)),n&&(i=i.catch(n)),e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=(0,i.default)(o.default.mark((function e(t,r){var n,i,a,c,f,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getUrl(),i=n.searchParams.get("code"),a=n.searchParams.get("state"),!i||!a){e.next=5;break}return e.abrupt("return",x(t));case 5:if(c=t.getStorage(),e.t0=a,e.t0){e.next=11;break}return e.next=10,c.get(u.SMART_KEY);case 10:e.t0=e.sent;case 11:return f=e.t0,e.next=14,c.get(f);case 14:if(!(l=e.sent)){e.next=17;break}return e.abrupt("return",new s.default(t,l));case 17:return e.abrupt("return",g(t,r).then((function(){return new Promise((function(){}))})));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.fetchWellKnownJson=l,t.getSecurityExtensions=v,t.authorize=g,t.isInFrame=m,t.isInPopUp=b,t.onMessage=w,t.completeAuth=x,t.buildTokenRequest=E,t.ready=function(e,t,r){return k.apply(this,arguments)},t.init=function(e,t){return R.apply(this,arguments)}},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),a=new E(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return R()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function l(){}function p(){}function h(){}var d={};d[o]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(d=g);var y=h.prototype=l.prototype=Object.create(d);function m(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var f=u.arg,l=f.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){f.value=e,a(f)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:R}}function R(){return{value:void 0,done:!0}}return p.prototype=y.constructor=h,h.constructor=p,p.displayName=s(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},m(b.prototype),b.prototype[i]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(y),s(y,a,"Generator"),y[o]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){"use strict";var n=r(2),o=r(152).left,i=r(51),a=r(15),s=i("reduce"),u=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!s||!u},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(28),o=r(11),i=r(26),a=r(7),s=function(e){return function(t,r,s,u){n(r);var c=o(t),f=i(c),l=a(c.length),p=e?l-1:0,h=e?-1:1;if(s<2)for(;;){if(p in f){u=f[p],p+=h;break}if(p+=h,e?p<0:l<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:l>p;p+=h)p in f&&(u=r(u,f[p],p,c));return u}};e.exports={left:s(!1),right:s(!0)}},function(e,t,r){var n=r(0),o=r(125);e.exports=function(e){return n((function(){return!!o[e]()||""!=""[e]()||o[e].name!==e}))}},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}},function(e,t,r){"use strict";var n=r(24);r(79),r(16),r(32),r(156);var o=n(r(34));r(35);var i=n(r(36)),a=n(r(157)),s=n(r(158));Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t){var r;return(r=e.call(this,t.status+" "+t.statusText+"\nURL: "+t.url)||this).name="HttpError",r.response=t,r.statusCode=t.status,r.status=t.status,r.statusText=t.statusText,r}(0,a.default)(t,e);var r=t.prototype;return r.parse=function(){var e=(0,i.default)(o.default.mark((function e(){var t,r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.response.bodyUsed){e.next=19;break}if(e.prev=1,!(t=this.response.headers.get("Content-Type")||"text/plain").match(/\bjson\b/i)){e.next=10;break}return e.next=6,this.response.json();case 6:(r=e.sent).error?(this.message+="\n"+r.error,r.error_description&&(this.message+=": "+r.error_description)):this.message+="\n\n"+JSON.stringify(r,null,4),e.next=15;break;case 10:if(!t.match(/^text\//i)){e.next=15;break}return e.next=13,this.response.text();case 13:(n=e.sent)&&(this.message+="\n\n"+n);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(1);case 19:return e.abrupt("return",this);case 20:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),r.toJSON=function(){return{name:this.name,statusCode:this.statusCode,status:this.status,statusText:this.statusText,message:this.message}},t}((0,s.default)(Error));t.default=u},function(e,t,r){"use strict";r(2)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,r){var n=r(159),o=r(126),i=r(160),a=r(161);function s(t){var r="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},s(t)}e.exports=s},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,r){var n=r(126),o=r(162);function i(t,r,a){return o()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,r){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return r&&n(i,r.prototype),i},i.apply(null,arguments)}e.exports=i},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,r){"use strict";(function(n){r(127),r(80),r(16),r(82),r(32),r(33),t.log=function(){var e;return"object"==typeof console&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(165)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r(164))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&h())}function h(){if(!f){var e=s(p);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||f||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";r(42),r(50),r(84),r(52),r(53),r(127),r(166),r(85),r(19),r(80),r(16),r(82),r(33),r(86),r(57),e.exports=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var r;function a(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if(a.enabled){var i=a,s=Number(new Date),u=s-(r||s);i.diff=u,i.prev=r,i.curr=s,r=s,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return e;c++;var o=n.formatters[r];if("function"==typeof o){var a=t[c];e=o.call(i,a),t.splice(c,1),c--}return e})),n.formatArgs.call(i,t);var f=i.log||n.log;f.apply(i,t)}}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=o,a.extend=i,"function"==typeof n.init&&n.init(a),n.instances.push(a),a}function o(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){var r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){var e=[].concat(n.names.map(a),n.skips.map(a).map((function(e){return"-"+e}))).join(",");return n.enable(""),e},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var i=n.instances[t];i.enabled=n.enabled(i.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(167),Object.keys(e).forEach((function(t){n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t,r){"use strict";var n=r(8),o=r(3),i=r(40),a=r(9),s=r(6),u=r(13),c=r(119),f=r(37),l=r(0),p=r(46),h=r(66).f,d=r(39).f,v=r(10).f,g=r(124).trim,y=o.Number,m=y.prototype,b="Number"==u(p(m)),w=function(e){var t,r,n,o,i,a,s,u,c=f(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=g(c)).charCodeAt(0))||45===t){if(88===(r=c.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(a=(i=c.slice(2)).length,s=0;s<a;s++)if((u=i.charCodeAt(s))<48||u>o)return NaN;return parseInt(i,n)}return+c};if(i("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var x,S=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof S&&(b?l((function(){m.valueOf.call(r)})):"Number"!=u(r))?c(new y(w(t)),r,S):w(t)},E=n?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;E.length>k;k++)s(y,x=E[k])&&!s(S,x)&&v(S,x,d(y,x));S.prototype=m,m.constructor=S,a(o,"Number",S)}},function(e,t,r){"use strict";r(16);var n=1e3,o=6e4,i=60*o,a=24*i;function s(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*i;case"minutes":case"minute":case"mins":case"min":case"m":return r*o;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===r&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=a)return s(e,t,a,"day");if(t>=i)return s(e,t,i,"hour");if(t>=o)return s(e,t,o,"minute");if(t>=n)return s(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=a)return Math.round(e/a)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=o)return Math.round(e/o)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";var n=r(2),o=r(169),i=r(11),a=r(7),s=r(22),u=r(45);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),r=a(t.length),n=u(t,0);return n.length=o(n,t,t,r,0,void 0===e?1:s(e)),n}})},function(e,t,r){"use strict";var n=r(43),o=r(7),i=r(23),a=function(e,t,r,s,u,c,f,l){for(var p,h=u,d=0,v=!!f&&i(f,l,3);d<s;){if(d in r){if(p=v?v(r[d],d,t):r[d],c>0&&n(p))h=a(e,t,p,o(p.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=p}h++}d++}return h};e.exports=a},function(e,t,r){"use strict";var n=r(2),o=r(5),i=r(43),a=r(67),s=r(7),u=r(21),c=r(44),f=r(1),l=r(30),p=r(15),h=l("slice"),d=p("slice",{ACCESSORS:!0,0:0,1:2}),v=f("species"),g=[].slice,y=Math.max;n({target:"Array",proto:!0,forced:!h||!d},{slice:function(e,t){var r,n,f,l=u(this),p=s(l.length),h=a(e,p),d=a(void 0===t?p:t,p);if(i(l)&&("function"!=typeof(r=l.constructor)||r!==Array&&!i(r.prototype)?o(r)&&null===(r=r[v])&&(r=void 0):r=void 0,r===Array||void 0===r))return g.call(l,h,d);for(n=new(void 0===r?Array:r)(y(d-h,0)),f=0;h<d;h++,f++)h in l&&c(n,f,l[h]);return n.length=f,n}})},function(e,t,r){r(72)("flat")},function(e,t,r){"use strict";var n=r(2),o=r(20),i=r(98),a=r(0),s=r(18),u=r(70),c=r(107),f=r(9);n({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return c(t,e()).then((function(){return r}))}:e,r?function(r){return c(t,e()).then((function(){throw r}))}:e)}}),o||"function"!=typeof i||i.prototype.finally||f(i.prototype,"finally",s("Promise").prototype.finally)},function(e,t,r){"use strict";var n=r(55),o=r(4),i=r(14),a=r(174),s=r(56);n("search",1,(function(e,t,r){return[function(t){var r=i(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var i=o(e),u=String(this),c=i.lastIndex;a(c,0)||(i.lastIndex=0);var f=s(i,u);return a(i.lastIndex,c)||(i.lastIndex=c),null===f?-1:f.index}]}))},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){"use strict";var n=r(2),o=r(176);n({target:"String",proto:!0,forced:r(177)("link")},{link:function(e){return o(this,"a","href",e)}})},function(e,t,r){var n=r(14),o=/"/g;e.exports=function(e,t,r,i){var a=String(n(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(i).replace(o,"&quot;")+'"'),s+">"+a+"</"+t+">"}},function(e,t,r){var n=r(0);e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={expired:"Session expired! Please re-launch the app",noScopeForId:"Trying to get the ID of the selected %s. Please add 'launch' or 'launch/%s' to the requested scopes and try again.",noIfNoAuth:"You are trying to get %s but the app is not authorized yet.",noFreeContext:"Please don't use open fhir servers if you need to access launch context items like the %S."}},function(e,t,r){"use strict";var n=r(24),o=n(r(34));r(35);var i=n(r(36));Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}var t=e.prototype;return t.get=function(){var e=(0,i.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=sessionStorage[t])){e.next=3;break}return e.abrupt("return",JSON.parse(r));case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.set=function(){var e=(0,i.default)(o.default.mark((function e(t,r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage[t]=JSON.stringify(r),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.unset=function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in sessionStorage)){e.next=3;break}return delete sessionStorage[t],e.abrupt("return",!0);case 3:return e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}();t.default=a},function(e,t,r){(function(n){var o,i;void 0===(i="function"==typeof(o=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?a(e):t}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=o(e);if(t){var i=o(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}function c(e,t,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}var f=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var r=this.listeners[e],n=0,o=r.length;n<o;n++)if(r[n]===t)return void r.splice(n,1)}},{key:"dispatchEvent",value:function(e){var t=this;if(e.type in this.listeners){for(var r=function(r){setTimeout((function(){return r.call(t,e)}))},n=this.listeners[e.type],o=0,i=n.length;o<i;o++)r(n[o]);return!e.defaultPrevented}}}]),t}(),l=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(s,t);var n=u(s);function s(){var t;return e(this,s),(t=n.call(this)).listeners||f.call(a(t)),Object.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return r(s,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),c(o(s.prototype),"dispatchEvent",this).call(this,e)}}]),s}(f),p=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(p.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),function(e){(function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController})(e)&&(e.AbortController=p,e.AbortSignal=l)}("undefined"!=typeof self?self:n)})?o.call(t,r,t,e):o)||(e.exports=i)}).call(this,r(59))}]);
//# sourceMappingURL=fhir-client.min.js.map