(()=>{var e={8926:e=>{function t(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,a){var i=e.apply(r,n);function s(e){t(i,o,a,s,c,"next",e)}function c(e){t(i,o,a,s,c,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},9100:(e,t,r)=>{var n=r(9489),o=r(7067);function a(t,r,i){return o()?(e.exports=a=Reflect.construct,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=a=function(e,t,r){var o=[null];o.push.apply(o,t);var a=new(Function.bind.apply(e,o));return r&&n(a,r.prototype),a},e.exports.default=e.exports,e.exports.__esModule=!0),a.apply(null,arguments)}e.exports=a,e.exports.default=e.exports,e.exports.__esModule=!0},3913:e=>{function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0},9754:e=>{function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,t(r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},5354:(e,t,r)=>{var n=r(9489);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},5318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},430:e=>{e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.default=e.exports,e.exports.__esModule=!0},7067:e=>{e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0},7316:e=>{e.exports=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o},e.exports.default=e.exports,e.exports.__esModule=!0},9489:e=>{function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(r,n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},5957:(e,t,r)=>{var n=r(9754),o=r(9489),a=r(430),i=r(9100);function s(t){var r="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return i(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.default=e.exports,e.exports.__esModule=!0,s(t)}e.exports=s,e.exports.default=e.exports,e.exports.__esModule=!0},7757:(e,t,r)=>{e.exports=r(5666)},6486:(e,t,r)=>{var n;void 0===(n=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?i(e):t}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=o(e);if(t){var a=o(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return s(this,r)}}function u(e,t,r){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}},u(e,t,r||e)}var l=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t,r){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:r})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var r=this.listeners[e],n=0,o=r.length;n<o;n++)if(r[n].callback===t)return void r.splice(n,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),r=0,n=t.length;r<n;r++){var o=t[r];try{o.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}o.options&&o.options.once&&this.removeEventListener(e.type,o.callback)}return!e.defaultPrevented}}}]),t}(),d=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(s,t);var r=c(s);function s(){var t;return e(this,s),(t=r.call(this)).listeners||l.call(i(t)),Object.defineProperty(i(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(i(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return n(s,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),u(o(s.prototype),"dispatchEvent",this).call(this,e)}}]),s}(l),f=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(f.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal"),function(e){(function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController})(e)&&(e.AbortController=f,e.AbortSignal=d)}("undefined"!=typeof self?self:r.g)}.call(t,r,t,e))||(e.exports=n)},866:(e,t,r)=>{"use strict";var n;r(4916),r(4723),r(4603),r(9714),r(561),r(5306),t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(n=!1,function(){n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=r(9956)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},9956:(e,t,r)=>{"use strict";r(4747),r(7941),r(9653),r(4916),r(5306),r(561),r(3123),r(4603),r(9714),r(9600),r(2222),r(1249),r(1539),e.exports=function(e){function t(e){var r,o,a,i=null;function s(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if(s.enabled){var a=s,i=Number(new Date),c=i-(r||i);a.diff=c,a.prev=r,a.curr=i,r=i,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";u++;var o=t.formatters[r];if("function"==typeof o){var i=n[u];e=o.call(a,i),n.splice(u,1),u--}return e})),t.formatArgs.call(a,n);var l=a.log||t.log;l.apply(a,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==i?i:(o!==t.namespaces&&(o=t.namespaces,a=t.enabled(e)),a)},set:function(e){i=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){var n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(t.names.map(o),t.skips.map(o).map((function(e){return"-"+e}))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},9071:(e,t,r)=>{"use strict";var n=r(5318),o=n(r(7757));r(1539),r(8674),r(6992),r(8783),r(3948),r(1249),r(7327),r(4916),r(5306),r(3210),r(4747),r(3123),r(2707),r(7941),r(4723),r(9601),r(9600),r(7042),r(285),r(4944),r(9254),r(9826),r(2222),r(4765),r(7727);var a=n(r(8926));Object.defineProperty(t,"__esModule",{value:!0});var i=r(6966),s=r(2088),c=r(7691),u=("undefined"!=typeof FHIRCLIENT_PURE?window:r(4098)).Response,l=i.debug.extend("client");function d(e,t){return f.apply(this,arguments)}function f(){return f=(0,a.default)(o.default.mark((function e(t,r){var n,s,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){return(u=(0,a.default)(o.default.mark((function e(t){var n,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pathname.split("/").pop(),i.assert(n,'Invalid url "'+t+'"'),i.assert(c.patientCompartment.indexOf(n)>-1,'Cannot filter "'+n+'" resources by patient'),e.next=5,i.fetchConformanceStatement(r.state.serverUrl);case 5:return a=e.sent,s=i.getPatientParam(a,n),t.searchParams.set(s,r.patient.id),e.abrupt("return",t.href);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(e){return u.apply(this,arguments)},n=i.absolute("/",r.state.serverUrl),!("string"==typeof t||t instanceof URL)){e.next=8;break}return e.next=6,s(new URL(t+"",n));case 6:return e.t0=e.sent,e.abrupt("return",{url:e.t0});case 8:return e.next=10,s(new URL(t.url+"",n));case 10:return t.url=e.sent,e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(e,t,r,n,o){var a=i.makeArray(t.resolveReferences).filter(Boolean).map((function(e){return String(e).trim()})).filter(Boolean);if(!(a=a.filter((function(e,t){return!(a.indexOf(e,t+1)>-1&&(l('Duplicated reference path "%s"',e),1))}))).length)return Promise.resolve();var s={};a.forEach((function(e){var t=e.split(".").length;s[t]||(s[t]=[]),s[t].push(e)}));var c=Promise.resolve();return Object.keys(s).sort().forEach((function(a){var u=s[a];c=c.then((function(){return Promise.all(u.map((function(a){return function(e,t,r,n,o,a){var s=i.getPath(e,t);if(s){var c=Array.isArray(s);return Promise.all(i.makeArray(s).filter(Boolean).map((function(s,u){var l=s.reference;if(l)return function(e,t,r,n){return t[e]||(t[e]=r.request({url:e,signal:n}).then((function(r){return t[e]=r,r}),(function(r){throw delete t[e],r}))),Promise.resolve(t[e])}(l,n,o,a).then((function(n){r&&(c?t.indexOf("..")>-1?i.setPath(e,""+t.replace("..","."+u+"."),n):i.setPath(e,t+"."+u,n):i.setPath(e,t,n))})).catch((function(e){if(404!==e.status)throw e}))})))}}(e,a,!!t.graph,r,n,o)})))}))})),c}var h=function(){function e(e,t){var r=this;this.units=i.units;var n="string"==typeof t?{serverUrl:t}:t;i.assert(n.serverUrl&&n.serverUrl.match(/https?:\/\/.+/),'A "serverUrl" option is required and must begin with "http(s)"'),this.state=n,this.environment=e,this._refreshTask=null;var s=this;this.patient={get id(){return s.getPatientId()},read:function(e){var t=r.patient.id;return t?r.request(Object.assign({},e,{url:"Patient/"+t})):Promise.reject(new Error("Patient is not available"))},request:function(e,t){return void 0===t&&(t={}),r.patient.id?(0,a.default)(o.default.mark((function n(){var a;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d(e,r);case 2:return a=n.sent,n.abrupt("return",r.request(a,t));case 4:case"end":return n.stop()}}),n)})))():Promise.reject(new Error("Patient is not available"))}},this.encounter={get id(){return s.getEncounterId()},read:function(e){var t=r.encounter.id;return t?r.request(Object.assign({},e,{url:"Encounter/"+t})):Promise.reject(new Error("Encounter is not available"))}},this.user={get fhirUser(){return s.getFhirUser()},get id(){return s.getUserId()},get resourceType(){return s.getUserType()},read:function(e){var t=r.user.fhirUser;return t?r.request(Object.assign({},e,{url:t})):Promise.reject(new Error("User is not available"))}},this.connect(e.fhir)}var t=e.prototype;return t.connect=function(e){if("function"==typeof e){var t={baseUrl:this.state.serverUrl.replace(/\/$/,"")},r=this.getState("tokenResponse.access_token");if(r)t.auth={token:r};else{var n=this.state,o=n.username,a=n.password;o&&a&&(t.auth={user:o,pass:a})}this.api=e(t);var i=this.getState("tokenResponse.patient");i&&(this.patient.api=e(Object.assign({},t,{patient:i})))}return this},t.getPatientId=function(){var e=this.state.tokenResponse;return e?e.patient?e.patient:((this.state.scope||"").match(/\blaunch(\/patient)?\b/)?l("The ID of the selected patient is not available. Please check if your server supports that."):l(s.default.noScopeForId,"patient","patient"),null):(this.state.authorizeUri?l(s.default.noIfNoAuth,"the ID of the selected patient"):l(s.default.noFreeContext,"selected patient"),null)},t.getEncounterId=function(){var e=this.state.tokenResponse;return e?e.encounter?e.encounter:((this.state.scope||"").match(/\blaunch(\/encounter)?\b/)?l("The ID of the selected encounter is not available. Please check if your server supports that, and that the selected patient has any recorded encounters."):l(s.default.noScopeForId,"encounter","encounter"),null):(this.state.authorizeUri?l(s.default.noIfNoAuth,"the ID of the selected encounter"):l(s.default.noFreeContext,"selected encounter"),null)},t.getIdToken=function(){var e=this.state.tokenResponse;if(e){var t=e.id_token,r=this.state.scope||"";if(!t){var n=r.match(/\bopenid\b/),o=r.match(/\bprofile\b/),a=r.match(/\bfhirUser\b/);return l(n&&(a||o)?"The id_token is not available. Please check if your server supports that.":"You are trying to get the id_token but you are not using the right scopes. Please add 'openid' and 'fhirUser' or 'profile' to the scopes you are requesting."),null}return i.jwtDecode(t,this.environment)}return this.state.authorizeUri?l(s.default.noIfNoAuth,"the id_token"):l(s.default.noFreeContext,"id_token"),null},t.getFhirUser=function(){var e=this.getIdToken();return e?e.fhirUser?e.fhirUser.split("/").slice(-2).join("/"):e.profile:null},t.getUserId=function(){var e=this.getFhirUser();return e?e.split("/")[1]:null},t.getUserType=function(){var e=this.getFhirUser();return e?e.split("/")[0]:null},t.getAuthorizationHeader=function(){var e=this.getState("tokenResponse.access_token");if(e)return"Bearer "+e;var t=this.state,r=t.username,n=t.password;return r&&n?"Basic "+this.environment.btoa(r+":"+n):null},t._clearState=function(){var e=(0,a.default)(o.default.mark((function e(){var t,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.environment.getStorage(),e.next=3,t.get(c.SMART_KEY);case 3:if(!(r=e.sent)){e.next=7;break}return e.next=7,t.unset(r);case 7:return e.next=9,t.unset(c.SMART_KEY);case 9:this.state.tokenResponse={};case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.create=function(e,t){return this.request(Object.assign({},t,{url:""+e.resourceType,method:"POST",body:JSON.stringify(e),headers:Object.assign({"Content-Type":"application/json"},(t||{}).headers)}))},t.update=function(e,t){return this.request(Object.assign({},t,{url:e.resourceType+"/"+e.id,method:"PUT",body:JSON.stringify(e),headers:Object.assign({"Content-Type":"application/json"},(t||{}).headers)}))},t.delete=function(e,t){return void 0===t&&(t={}),this.request(Object.assign({},t,{url:e,method:"DELETE"}))},t.patch=function(){var e=(0,a.default)(o.default.mark((function e(t,r,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),i.assertJsonPatch(r),e.abrupt("return",this.request(Object.assign({},n,{url:t,method:"PATCH",body:JSON.stringify(r),headers:Object.assign({prefer:"return=presentation","content-type":"application/json-patch+json; charset=UTF-8"},n.headers)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.request=function(){var e=(0,a.default)(o.default.mark((function e(t,r,n){var c,l,d,f,h,y,v,g=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r={}),void 0===n&&(n={}),l=i.debug.extend("client:request"),i.assert(t,"request requires an url or request options as argument"),"string"==typeof t||t instanceof URL?(d=String(t),t={}):d=String(t.url),d=i.absolute(d,this.state.serverUrl),f={graph:!1!==r.graph,flat:!!r.flat,pageLimit:null!==(c=r.pageLimit)&&void 0!==c?c:1,resolveReferences:r.resolveReferences||[],useRefreshToken:!1!==r.useRefreshToken,onPage:"function"==typeof r.onPage?r.onPage:void 0},h=t.signal||void 0,y=f.useRefreshToken?this.refreshIfNeeded({signal:h}).then((function(){return t})):Promise.resolve(t),e.abrupt("return",y.then((function(e){var t=g.getAuthorizationHeader();return t&&(e.headers=Object.assign({},e.headers,{Authorization:t})),e})).then((function(e){return l("%s, options: %O, fhirOptions: %O",d,e,f),i.request(d,e).then((function(t){return e.includeResponse?(v=t.response,t.body):t}))})).catch(function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!=t.status){e.next=15;break}if(g.getState("tokenResponse.access_token")){e.next=4;break}throw t.message+="\nThis app cannot be accessed directly. Please launch it as SMART app!",t;case 4:if(f.useRefreshToken){e.next=10;break}return l("Your session has expired and the useRefreshToken option is set to false. Please re-launch the app."),e.next=8,g._clearState();case 8:case 13:throw t.message+="\n"+s.default.expired,t;case 10:return l("Auto-refresh failed! Please re-launch the app."),e.next=13,g._clearState();case 15:throw t;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw 403==e.status&&l("Permission denied! Please make sure that you have requested the proper scopes."),e})).then((function(e){return e?"string"==typeof e||e instanceof u?e:(r=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Bundle"!=t.resourceType){e.next=5;break}return e.next=3,Promise.all((t.entry||[]).map((function(e){return p(e.resource,f,n,g,h)})));case 3:e.next=7;break;case 5:return e.next=7,p(t,f,n,g,h);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})(e).then(function(){var e=(0,a.default)(o.default.mark((function e(t){var r,a,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"Bundle"!=t.resourceType){e.next=19;break}if(r=t.link||[],f.flat&&(t=(t.entry||[]).map((function(e){return e.resource}))),!f.onPage){e.next=6;break}return e.next=6,f.onPage(t,Object.assign({},n));case 6:if(!--f.pageLimit){e.next=19;break}if(a=r.find((function(e){return"next"==e.relation})),t=i.makeArray(t),!a||!a.url){e.next=19;break}return e.next=12,g.request({url:a.url,signal:h},f,n);case 12:if(s=e.sent,!f.onPage){e.next=15;break}return e.abrupt("return",null);case 15:if(!f.resolveReferences.length){e.next=18;break}return Object.assign(n,s.references),e.abrupt("return",t.concat(i.makeArray(s.data||s)));case 18:return e.abrupt("return",t.concat(i.makeArray(s)));case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){if(f.graph)n={};else if(!f.onPage&&f.resolveReferences.length)return{data:e,references:n};return e})).then((function(e){return t.includeResponse?{body:e,response:v}:e})):e;var r})));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.refreshIfNeeded=function(e){void 0===e&&(e={});var t=this.getState("tokenResponse.access_token"),r=this.getState("tokenResponse.refresh_token"),n=this.state.expiresAt||0;return t&&r&&n-10<Date.now()/1e3?this.refresh(e):Promise.resolve(this.state)},t.refresh=function(e){var t,r,n=this;void 0===e&&(e={});var o=i.debug.extend("client:refresh");o("Attempting to refresh with refresh_token...");var a=null===(r=null===(t=this.state)||void 0===t?void 0:t.tokenResponse)||void 0===r?void 0:r.refresh_token;i.assert(a,"Unable to refresh. No refresh_token found.");var s=this.state.tokenUri;i.assert(s,"Unable to refresh. No tokenUri found.");var c=this.getState("tokenResponse.scope")||"",u=c.search(/\boffline_access\b/)>-1,l=c.search(/\bonline_access\b/)>-1;if(i.assert(u||l,"Unable to refresh. No offline_access or online_access scope found."),!this._refreshTask){var d=Object.assign({credentials:this.environment.options.refreshTokenWithCredentials||"same-origin"},e,{method:"POST",mode:"cors",headers:Object.assign({},e.headers||{},{"content-type":"application/x-www-form-urlencoded"}),body:"grant_type=refresh_token&refresh_token="+encodeURIComponent(a)});if(!("authorization"in d.headers)){var f=this.state,p=f.clientSecret,h=f.clientId;p&&(d.headers.authorization="Basic "+this.environment.btoa(h+":"+p))}this._refreshTask=i.request(s,d).then((function(e){return i.assert(e.access_token,"No access token received"),o("Received new access token response %O",e),Object.assign(n.state.tokenResponse,e),n.state.expiresAt=i.getAccessTokenExpiration(e,n.environment),n.state})).catch((function(e){var t,r;throw(null===(r=null===(t=n.state)||void 0===t?void 0:t.tokenResponse)||void 0===r?void 0:r.refresh_token)&&(o("Deleting the expired or invalid refresh token."),delete n.state.tokenResponse.refresh_token),e})).finally((function(){n._refreshTask=null;var e=n.state.key;e?n.environment.getStorage().set(e,n.state):o("No 'key' found in Clint.state. Cannot persist the instance.")}))}return this._refreshTask},t.byCode=function(e,t){return i.byCode(e,t)},t.byCodes=function(e,t){return i.byCodes(e,t)},t.getPath=function(e,t){return void 0===t&&(t=""),i.getPath(e,t)},t.getState=function(e){return void 0===e&&(e=""),i.getPath(Object.assign({},this.state),e)},t.getFhirVersion=function(){return i.fetchConformanceStatement(this.state.serverUrl).then((function(e){return e.fhirVersion}))},t.getFhirRelease=function(){return this.getFhirVersion().then((function(e){var t;return null!==(t=c.fhirVersions[e])&&void 0!==t?t:0}))},e}();t.default=h},7998:(e,t,r)=>{"use strict";var n=r(5318),o=n(r(7757));r(8309),r(4916),r(4723),r(3753);var a=n(r(8926)),i=n(r(5354)),s=n(r(5957));Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t){var r;return(r=e.call(this,t.status+" "+t.statusText+"\nURL: "+t.url)||this).name="HttpError",r.response=t,r.statusCode=t.status,r.status=t.status,r.statusText=t.statusText,r}(0,i.default)(t,e);var r=t.prototype;return r.parse=function(){var e=(0,a.default)(o.default.mark((function e(){var t,r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.response.bodyUsed){e.next=19;break}if(e.prev=1,!(t=this.response.headers.get("Content-Type")||"text/plain").match(/\bjson\b/i)){e.next=10;break}return e.next=6,this.response.json();case 6:(r=e.sent).error?(this.message+="\n"+r.error,r.error_description&&(this.message+=": "+r.error_description)):this.message+="\n\n"+JSON.stringify(r,null,4),e.next=15;break;case 10:if(!t.match(/^text\//i)){e.next=15;break}return e.next=13,this.response.text();case 13:(n=e.sent)&&(this.message+="\n\n"+n);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(1);case 19:return e.abrupt("return",this);case 20:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),r.toJSON=function(){return{name:this.name,statusCode:this.statusCode,status:this.status,statusText:this.statusText,message:this.message}},t}((0,s.default)(Error));t.default=c},3923:(e,t,r)=>{"use strict";var n=r(5318);r(9601),r(6992),r(1539),r(8783),r(3948),r(285),r(2222);var o=n(r(3913));Object.defineProperty(t,"__esModule",{value:!0});var a=r(1074),i=r(9071),s=r(1060),c=function(){function e(e){void 0===e&&(e={}),this._url=null,this._storage=null,this.options=Object.assign({replaceBrowserHistory:!0,fullSessionStorageSupport:!0,refreshTokenWithCredentials:"same-origin"},e)}var t=e.prototype;return t.relative=function(e){return new URL(e,this.getUrl().href).href},t.getUrl=function(){return this._url||(this._url=new URL(location+"")),this._url},t.redirect=function(e){location.href=e},t.getStorage=function(){return this._storage||(this._storage=new s.default),this._storage},t.getAbortController=function(){return AbortController},t.atob=function(e){return window.atob(e)},t.btoa=function(e){return window.btoa(e)},t.getSmartApi=function(){var e=this;return{ready:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return a.ready.apply(a,[e].concat(r))},authorize:function(t){return a.authorize(e,t)},init:function(t){return a.init(e,t)},client:function(t){return new i.default(e,t)},options:this.options}},(0,o.default)(e,[{key:"fhir",get:function(){return"function"==typeof fhir?fhir:null}}]),e}();t.default=c},4746:(e,t,r)=>{"use strict";r(1539),r(8674);var n=(new(r(3923).default)).getSmartApi(),o=n.ready,a=n.authorize,i=n.init,s=n.client,c=n.options;if("undefined"==typeof FHIRCLIENT_PURE){var u=r(4098);r(6486),window.fetch||(window.fetch=u.default,window.Headers=u.Headers,window.Request=u.Request,window.Response=u.Response)}var l={AbortController:window.AbortController,client:s,oauth2:{settings:c,ready:o,authorize:a,init:i}};e.exports=l},6966:(e,t,r)=>{"use strict";var n=r(5318),o=n(r(7757)),a=n(r(7316)),i=n(r(8926));r(4916),r(4723),r(9601),r(1539),r(8674),r(5306),r(3210),r(3123),r(1249),r(9600),r(4747),r(7327),r(2222),r(9826),r(8309),r(7941);var s=["includeResponse"];Object.defineProperty(t,"__esModule",{value:!0}),t.assertJsonPatch=t.assert=t.getTargetWindow=t.getPatientParam=t.byCodes=t.byCode=t.getAccessTokenExpiration=t.getTimeInFuture=t.jwtDecode=t.randomString=t.absolute=t.makeArray=t.setPath=t.getPath=t.fetchConformanceStatement=t.getAndCache=t.request=t.responseToJSON=t.checkResponse=t.units=t.debug=void 0;var c=r(7998),u=r(7691),l=r(866),d=("undefined"!=typeof FHIRCLIENT_PURE?window:r(4098)).fetch,f=l("FHIR");t.debug=f;var p={};function h(e){var t=e.value,r=e.code;if("number"!=typeof t)throw new Error("Found a non-numerical unit: "+t+" "+r)}function y(e){return v.apply(this,arguments)}function v(){return(v=(0,i.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return r=new c.default(t),e.next=4,r.parse();case 4:throw r;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return e.text().then((function(e){return e.length?JSON.parse(e):""}))}function w(e,t){void 0===t&&(t={});var r=t,n=r.includeResponse,o=(0,a.default)(r,s);return d(e,Object.assign({mode:"cors"},o,{headers:Object.assign({accept:"application/json"},o.headers)})).then(y).then((function(e){var t=e.headers.get("Content-Type")+"";return t.match(/\bjson\b/i)?g(e).then((function(t){return{res:e,body:t}})):t.match(/^text\//i)?e.text().then((function(t){return{res:e,body:t}})):{res:e}})).then((function(e){var t=e.res,r=e.body;if(!r&&201==t.status){var a=t.headers.get("location");if(a)return w(a,Object.assign({},o,{method:"GET",body:null,includeResponse:n}))}return n?{body:r,response:t}:void 0===r?t:r}))}function m(e,t,r){return void 0===r&&(r=!1),r||!p[e]?(p[e]=w(e,t),p[e]):Promise.resolve(p[e])}function b(e,t){if(void 0===t&&(t=""),!(t=t.trim()))return e;for(var r=t.split("."),n=e;n&&r.length;){var o=r.shift();if(!o&&Array.isArray(n))return n.map((function(e){return b(e,r.join("."))}));n=n[o]}return n}function E(e){return Array.isArray(e)?e:[e]}function S(e,t){var r=e.split(".")[1];return r?JSON.parse(t.atob(r)):null}function A(e,t){var r={};function n(e,t){e&&Array.isArray(e.coding)&&e.coding.forEach((function(e){var n=e.code;n&&(r[n]=r[n]||[],r[n].push(t))}))}return E(e).forEach((function(e){"Observation"===e.resourceType&&e[t]&&(Array.isArray(e[t])?e[t].forEach((function(t){return n(t,e)})):n(e[t],e))})),r}function x(){return(x=(0,i.default)(o.default.mark((function e(t,r,n){var a,i,s,c,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=800),void 0===n&&(n=720),"function"!=typeof t){e.next=6;break}return e.next=5,t();case 5:t=e.sent;case 6:if(!t||"object"!=typeof t){e.next=8;break}return e.abrupt("return",t);case 8:if("string"==typeof t){e.next=11;break}return f("Invalid target type '%s'. Failing back to '_self'.",typeof t),e.abrupt("return",self);case 11:if("_self"!=t){e.next=13;break}return e.abrupt("return",self);case 13:if("_parent"!=t){e.next=15;break}return e.abrupt("return",parent);case 15:if("_top"!=t){e.next=17;break}return e.abrupt("return",top);case 17:if("_blank"!=t){e.next=34;break}if(i=null,e.prev=19,i=window.open("","SMARTAuthPopup")){e.next=23;break}throw new Error("Perhaps window.open was blocked");case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(19),a=e.t0;case 28:if(i){e.next=33;break}return f("Cannot open window. Failing back to '_self'. %s",a),e.abrupt("return",self);case 33:return e.abrupt("return",i);case 34:if("popup"!=t){e.next=51;break}if(c=null,e.prev=36,c=window.open("","SMARTAuthPopup",["height="+n,"width="+r,"menubar=0","resizable=1","status=0","top="+(screen.height-n)/2,"left="+(screen.width-r)/2].join(","))){e.next=40;break}throw new Error("Perhaps the popup window was blocked");case 40:e.next=45;break;case 42:e.prev=42,e.t1=e.catch(36),s=e.t1;case 45:if(c){e.next=50;break}return f("Cannot open window. Failing back to '_self'. %s",s),e.abrupt("return",self);case 50:return e.abrupt("return",c);case 51:if(!(u=frames[t])){e.next=54;break}return e.abrupt("return",u);case 54:return f("Unknown target '%s'. Failing back to '_self'.",t),e.abrupt("return",self);case 56:case"end":return e.stop()}}),e,null,[[19,25],[36,42]])})))).apply(this,arguments)}function C(e,t){if(!e)throw new Error(t)}t.units={cm:function(e){var t=e.code,r=e.value;if(h({code:t,value:r}),"cm"==t)return r;if("m"==t)return 100*r;if("in"==t)return 2.54*r;if("[in_us]"==t)return 2.54*r;if("[in_i]"==t)return 2.54*r;if("ft"==t)return 30.48*r;if("[ft_us]"==t)return 30.48*r;throw new Error("Unrecognized length unit: "+t)},kg:function(e){var t=e.code,r=e.value;if(h({code:t,value:r}),"kg"==t)return r;if("g"==t)return r/1e3;if(t.match(/lb/))return r/2.20462;if(t.match(/oz/))return r/35.274;throw new Error("Unrecognized weight unit: "+t)},any:function(e){return h(e),e.value}},t.checkResponse=y,t.responseToJSON=g,t.request=w,t.getAndCache=m,t.fetchConformanceStatement=function(e,t){void 0===e&&(e="/");var r=String(e).replace(/\/*$/,"/")+"metadata";return m(r,t).catch((function(e){throw new Error('Failed to fetch the conformance statement from "'+r+'". '+e)}))},t.getPath=b,t.setPath=function(e,t,r,n){return void 0===n&&(n=!1),t.trim().split(".").reduce((function(e,t,o,a){if(!e||o!==a.length-1)return e&&void 0===e[t]&&n&&(e[t]=a[o+1].match(/^[0-9]+$/)?[]:{}),e?e[t]:void 0;e[t]=r}),e),e},t.makeArray=E,t.absolute=function(e,t){return e.match(/^http/)||e.match(/^urn/)?e:String(t||"").replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")},t.randomString=function(e,t){void 0===e&&(e=8),void 0===t&&(t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");for(var r=[],n=t.length;e--;)r.push(t.charAt(Math.floor(Math.random()*n)));return r.join("")},t.jwtDecode=S,t.getTimeInFuture=function(e,t){return void 0===e&&(e=120),void 0===t&&(t=new Date),Math.floor(t.getTime()/1e3+e)},t.getAccessTokenExpiration=function(e,t){var r=Math.floor(Date.now()/1e3);if(e.expires_in)return r+e.expires_in;if(e.access_token){var n=S(e.access_token,t);if(n&&n.exp)return n.exp}return r+300},t.byCode=A,t.byCodes=function(e,t){var r=A(e,t);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e+""in r})).reduce((function(e,t){return e.concat(r[t+""])}),[])}},t.getPatientParam=function(e,t){var r=(b(e,"rest.0.resource")||[]).find((function(e){return e.type===t}));if(!r)throw new Error('Resource "'+t+'" is not supported by this FHIR server');if(!Array.isArray(r.searchParam))throw new Error('No search parameters supported for "'+t+'" on this FHIR server');if("Patient"==t&&r.searchParam.find((function(e){return"_id"==e.name})))return"_id";var n=u.patientParams.find((function(e){return r.searchParam.find((function(t){return t.name==e}))}));if(!n)throw new Error("I don't know what param to use for "+t);return n},t.getTargetWindow=function(e,t,r){return x.apply(this,arguments)},t.assert=C,t.assertJsonPatch=function(e){C(Array.isArray(e),"The JSON patch must be an array"),C(e.length>0,"The JSON patch array should not be empty"),e.forEach((function(e){C(["add","replace","test","move","copy","remove"].indexOf(e.op)>-1,'Each patch operation must have an "op" property which must be one of: "add", "replace", "test", "move", "copy", "remove"'),C(e.path&&typeof e.path,'Invalid "'+e.op+'" operation. Missing "path" property'),"add"==e.op||"replace"==e.op||"test"==e.op?(C("value"in e,'Invalid "'+e.op+'" operation. Missing "value" property'),C(3==Object.keys(e).length,'Invalid "'+e.op+'" operation. Contains unknown properties')):"move"==e.op||"copy"==e.op?(C("string"==typeof e.from,'Invalid "'+e.op+'" operation. Requires a string "from" property'),C(3==Object.keys(e).length,'Invalid "'+e.op+'" operation. Contains unknown properties')):C(2==Object.keys(e).length,'Invalid "'+e.op+'" operation. Contains unknown properties')}))}},5902:(e,t,r)=>{"use strict";var n=r(5318),o=n(r(7757));r(6992),r(9575),r(1539),r(2472),r(2990),r(8927),r(3105),r(5035),r(4345),r(7174),r(2846),r(4731),r(7209),r(6319),r(8867),r(7789),r(3739),r(9368),r(4483),r(2056),r(3462),r(678),r(7462),r(3824),r(5021),r(2974),r(5016),r(9601);var a=n(r(8926));Object.defineProperty(t,"__esModule",{value:!0}),t.signCompactJws=t.importKey=t.generatePKCEChallenge=t.randomBytes=t.digestSha256=t.base64urlencode=t.base64urldecode=void 0;var i=r(7277),s=i.base64url.encode;t.base64urlencode=s;var c,u=i.base64url.decode;t.base64urldecode=u,c=window.crypto.subtle,t.digestSha256=function(){var e=(0,a.default)(o.default.mark((function e(t){var r,n,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t?(n=new TextEncoder,r=n.encode(t).buffer):r=t,e.next=3,c.digest("SHA-256",r);case 3:return a=e.sent,e.abrupt("return",new Uint8Array(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.randomBytes=function(e){var t;return"undefined"!=typeof window&&(null===(t=null===window||void 0===window?void 0:window.crypto)||void 0===t?void 0:t.getRandomValues)?window.crypto.getRandomValues(new Uint8Array(e)):(void 0)(e)},t.generatePKCEChallenge=function(){var e=(0,a.default)(o.default.mark((function e(r){var n,a,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=96),n=t.randomBytes(r),a=s(n),e.t0=s,e.next=6,t.digestSha256(a);case 6:return e.t1=e.sent,i=(0,e.t0)(e.t1),e.abrupt("return",{codeChallenge:i,codeVerifier:a});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.importKey=function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.importJWK(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.signCompactJws=function(){var e=(0,a.default)(o.default.mark((function e(t,r,n,a){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new i.SignJWT(a).setProtectedHeader(Object.assign({},n,{alg:t})).sign(r));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}()},7691:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SMART_KEY=t.patientParams=t.fhirVersions=t.patientCompartment=void 0,t.patientCompartment=["Account","AdverseEvent","AllergyIntolerance","Appointment","AppointmentResponse","AuditEvent","Basic","BodySite","BodyStructure","CarePlan","CareTeam","ChargeItem","Claim","ClaimResponse","ClinicalImpression","Communication","CommunicationRequest","Composition","Condition","Consent","Coverage","CoverageEligibilityRequest","CoverageEligibilityResponse","DetectedIssue","DeviceRequest","DeviceUseRequest","DeviceUseStatement","DiagnosticOrder","DiagnosticReport","DocumentManifest","DocumentReference","EligibilityRequest","Encounter","EnrollmentRequest","EpisodeOfCare","ExplanationOfBenefit","FamilyMemberHistory","Flag","Goal","Group","ImagingManifest","ImagingObjectSelection","ImagingStudy","Immunization","ImmunizationEvaluation","ImmunizationRecommendation","Invoice","List","MeasureReport","Media","MedicationAdministration","MedicationDispense","MedicationOrder","MedicationRequest","MedicationStatement","MolecularSequence","NutritionOrder","Observation","Order","Patient","Person","Procedure","ProcedureRequest","Provenance","QuestionnaireResponse","ReferralRequest","RelatedPerson","RequestGroup","ResearchSubject","RiskAssessment","Schedule","ServiceRequest","Specimen","SupplyDelivery","SupplyRequest","VisionPrescription"],t.fhirVersions={"0.4.0":2,"0.5.0":2,"1.0.0":2,"1.0.1":2,"1.0.2":2,"1.1.0":3,"1.4.0":3,"1.6.0":3,"1.8.0":3,"3.0.0":3,"3.0.1":3,"3.3.0":4,"3.5.0":4,"4.0.0":4,"4.0.1":4},t.patientParams=["patient","subject","requester","member","actor","beneficiary"],t.SMART_KEY="SMART_KEY"},1074:(e,t,r)=>{"use strict";var n=r(5318),o=n(r(7757)),a=n(r(8926));r(4916),r(5306),r(1249),r(7327),r(4747),r(1539),r(8674),r(9600),r(8309),r(6992),r(8783),r(3948),r(285),r(9826),r(4603),r(9714),r(4723),r(9601),r(6699),r(2023),Object.defineProperty(t,"__esModule",{value:!0}),t.init=t.ready=t.buildTokenRequest=t.completeAuth=t.onMessage=t.isInPopUp=t.isInFrame=t.authorize=t.getSecurityExtensions=t.fetchWellKnownJson=t.KEY=void 0;var i=r(6966),s=r(9071),c=r(7691);Object.defineProperty(t,"KEY",{enumerable:!0,get:function(){return c.SMART_KEY}});var u=r(5902),l=i.debug.extend("oauth2");function d(){return"object"==typeof window}function f(e,t){void 0===e&&(e="/");var r=String(e).replace(/\/*$/,"/")+".well-known/smart-configuration";return i.getAndCache(r,t).catch((function(e){throw new Error('Failed to fetch the well-known json "'+r+'". '+e.message)}))}function p(e,t){return void 0===t&&(t="/"),console.log("Getting sec extension",t),function(e,t){return void 0===e&&(e="/"),f(e,void 0).then((function(e){if(!e.authorization_endpoint||!e.token_endpoint)throw new Error("Invalid wellKnownJson");return{registrationUri:e.registration_endpoint||"",authorizeUri:e.authorization_endpoint,tokenUri:e.token_endpoint,codeChallengeMethods:e.code_challenge_methods_supported||[]}}))}(t).catch((function(e){return function(e,t){return void 0===e&&(e="/"),i.fetchConformanceStatement(e,void 0).then((function(e){var t=(i.getPath(e||{},"rest.0.security.extension")||[]).filter((function(e){return"http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris"===e.url})).map((function(e){return e.extension}))[0],r={registrationUri:"",authorizeUri:"",tokenUri:"",codeChallengeMethods:[]};return t&&t.forEach((function(e){"register"===e.url&&(r.registrationUri=e.valueUri),"authorize"===e.url&&(r.authorizeUri=e.valueUri),"token"===e.url&&(r.tokenUri=e.valueUri)})),r}))}(t)}))}function h(e,t){return y.apply(this,arguments)}function y(){return(y=(0,a.default)(o.default.mark((function e(t,r){var n,a,s,f,y,m,b,E,S,A,x,C,_,k,P,T,R,I,O,J,W,H,U,K,j,M,D,F,N,L,B,G,V,q,$,z,Y;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r={}),n=t.getUrl(),!Array.isArray(r)){e.next=11;break}if(a=n.searchParams.get("iss")||n.searchParams.get("fhirServiceUrl")){e.next=6;break}throw new Error('Passing in an "iss" url parameter is required if authorize uses multiple configurations');case 6:return s=r.find((function(e){if(e.issMatch){if("function"==typeof e.issMatch)return!!e.issMatch(a);if("string"==typeof e.issMatch)return e.issMatch===a;if(e.issMatch instanceof RegExp)return e.issMatch.test(a)}return!1})),i.assert(s,'No configuration found matching the current "iss" parameter "'+a+'"'),e.next=10,h(t,s);case 10:return e.abrupt("return",e.sent);case 11:if(y=(f=r).redirect_uri,m=f.clientSecret,b=f.clientPrivateJwk,E=f.fakeTokenResponse,S=f.patientId,A=f.encounterId,x=f.client_id,C=f.target,_=f.width,k=f.height,P=f.pkceMode,R=(T=r).iss,I=T.launch,O=T.fhirServiceUrl,J=T.redirectUri,W=T.noRedirect,H=T.scope,U=void 0===H?"":H,K=T.clientId,j=T.completeInTarget,M=t.getStorage(),R=n.searchParams.get("iss")||R,O=n.searchParams.get("fhirServiceUrl")||O,I=n.searchParams.get("launch")||I,K||(K=x),J||(J=y),J?J.match(/^https?\:\/\//)||(J=t.relative(J)):J=t.relative("."),D=String(R||O||"")){e.next=23;break}throw new Error("No server url found. It must be specified as `iss` or as `fhirServiceUrl` parameter");case 23:return R&&l("Making %s launch...",I?"EHR":"standalone"),I&&!U.match(/launch/)&&(U+=" launch"),d()&&(F=v(),N=g(),(F||N)&&!0!==j&&!1!==j&&(j=F,console.warn('Your app is being authorized from within an iframe or popup window. Please be explicit and provide a "completeInTarget" option. Use "true" to complete the authorization in the same window, or "false" to try to complete it in the parent or the opener window. See http://docs.smarthealthit.org/client-js/api.html'))),e.next=28,M.get(c.SMART_KEY);case 28:return L=e.sent,e.next=31,M.unset(L);case 31:if(B=i.randomString(16),G={clientId:K,scope:U,redirectUri:J,serverUrl:D,clientSecret:m,clientPrivateJwk:b,tokenResponse:{},key:B,completeInTarget:j},d()&&!i.getPath(t,"options.fullSessionStorageSupport")){e.next=37;break}return e.next=37,M.set(c.SMART_KEY,B);case 37:if(E&&Object.assign(G.tokenResponse,E),S&&Object.assign(G.tokenResponse,{patient:S}),A&&Object.assign(G.tokenResponse,{encounter:A}),V=J+"?state="+encodeURIComponent(B),!O||R){e.next=50;break}return l("Making fake launch..."),e.next=45,M.set(B,G);case 45:if(!W){e.next=47;break}return e.abrupt("return",V);case 47:return e.next=49,t.redirect(V);case 49:return e.abrupt("return",e.sent);case 50:return e.next=52,p(0,D);case 52:return q=e.sent,Object.assign(G,q),e.next=56,M.set(B,G);case 56:if(G.authorizeUri){e.next=62;break}if(!W){e.next=59;break}return e.abrupt("return",V);case 59:return e.next=61,t.redirect(V);case 61:return e.abrupt("return",e.sent);case 62:if($=["response_type=code","client_id="+encodeURIComponent(K||""),"scope="+encodeURIComponent(U),"redirect_uri="+encodeURIComponent(J),"aud="+encodeURIComponent(D),"state="+encodeURIComponent(B)],I&&$.push("launch="+encodeURIComponent(I)),"required"!==P||q.codeChallengeMethods.includes("S256")){e.next=66;break}throw new Error("Required PKCE code challenge method (`S256`) was not found.");case 66:if("disabled"===P||!q.codeChallengeMethods.includes("S256")){e.next=75;break}return e.next=69,u.generatePKCEChallenge();case 69:return z=e.sent,Object.assign(G,z),e.next=73,M.set(B,G);case 73:$.push("code_challenge="+G.codeChallenge),$.push("code_challenge_method=S256");case 75:if(V=G.authorizeUri+"?"+$.join("&"),!W){e.next=78;break}return e.abrupt("return",V);case 78:if(!C||!d()){e.next=87;break}return e.next=81,i.getTargetWindow(C,_,k);case 81:if((Y=e.sent)!==self)try{Y.sessionStorage.removeItem(L),Y.sessionStorage.setItem(B,JSON.stringify(G))}catch(e){i.debug('Failed to modify window.sessionStorage. Perhaps it is from different origin?. Failing back to "_self". %s',e),Y=self}if(Y!==self)try{Y.location.href=V,self.addEventListener("message",w)}catch(e){i.debug('Failed to modify window.location. Perhaps it is from different origin?. Failing back to "_self". %s',e),self.location.href=V}else self.location.href=V;return e.abrupt("return");case 87:return e.next=89,t.redirect(V);case 89:return e.abrupt("return",e.sent);case 90:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){try{return self!==top&&parent!==self}catch(e){return!0}}function g(){try{return self===top&&!!opener&&opener!==self&&!!window.name}catch(e){return!1}}function w(e){"completeAuth"==e.data.type&&e.origin===new URL(self.location.href).origin&&(window.removeEventListener("message",w),window.location.href=e.data.url)}function m(e){return b.apply(this,arguments)}function b(){return(b=(0,a.default)(o.default.mark((function e(t){var r,n,a,u,f,p,h,y,w,m,b,S,A,x,C,_,k,P,T;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getUrl(),u=t.getStorage(),f=a.searchParams,p=f.get("state"),h=f.get("code"),y=f.get("error"),w=f.get("error_description"),p){e.next=11;break}return e.next=10,u.get(c.SMART_KEY);case 10:p=e.sent;case 11:if(!y&&!w){e.next=13;break}throw new Error([y,w].filter(Boolean).join(": "));case 13:return l("key: %s, code: %s",p,h),i.assert(p,"No 'state' parameter found. Please (re)launch the app."),e.next=17,u.get(p);case 17:if(m=e.sent,b=!d()||i.getPath(t,"options.fullSessionStorageSupport"),!d()||!m||m.completeInTarget){e.next=28;break}if(S=v(),A=g(),!S&&!A||a.searchParams.get("complete")){e.next=28;break}return a.searchParams.set("complete","1"),x=a.href,C=a.origin,S&&parent.postMessage({type:"completeAuth",url:x},C),A&&(opener.postMessage({type:"completeAuth",url:x},C),window.close()),e.abrupt("return",new Promise((function(){})));case 28:if(a.searchParams.delete("complete"),_=f.has("state"),d()&&i.getPath(t,"options.replaceBrowserHistory")&&(h||_)&&(h&&(f.delete("code"),l("Removed code parameter from the url.")),_&&b&&(f.delete("state"),l("Removed state parameter from the url.")),window.history.replaceState&&window.history.replaceState({},"",a.href)),i.assert(m,"No state found! Please (re)launch the app."),!h||(null===(r=m.tokenResponse)||void 0===r?void 0:r.access_token)||!m.tokenUri){e.next=52;break}return i.assert(h,"'code' url parameter is required"),l("Preparing to exchange the code for access token..."),e.next=38,E(t,h,m);case 38:return k=e.sent,l("Token request options: %O",k),e.next=42,i.request(m.tokenUri,k);case 42:return P=e.sent,l("Token response: %O",P),i.assert(P.access_token,"Failed to obtain access token."),m.expiresAt=i.getAccessTokenExpiration(P,t),m=Object.assign({},m,{tokenResponse:P}),e.next=49,u.set(p,m);case 49:l("Authorization successful!"),e.next=53;break;case 52:l((null===(n=m.tokenResponse)||void 0===n?void 0:n.access_token)?"Already authorized":"No authorization needed");case 53:if(!b){e.next=56;break}return e.next=56,u.set(c.SMART_KEY,p);case 56:return T=new s.default(t,m),l("Created client instance: %O",T),e.abrupt("return",T);case 59:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t,r){return S.apply(this,arguments)}function S(){return(S=(0,a.default)(o.default.mark((function e(t,r,n){var a,s,c,d,f,p,h,y,v,g,w,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.redirectUri,s=n.clientSecret,c=n.clientPublicKeySetUrl,d=n.clientPrivateJwk,f=n.tokenUri,p=n.clientId,h=n.codeVerifier,i.assert(a,"Missing state.redirectUri"),i.assert(f,"Missing state.tokenUri"),i.assert(p,"Missing state.clientId"),y={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:"code="+r+"&grant_type=authorization_code&redirect_uri="+encodeURIComponent(a)},!s){e.next=10;break}y.headers.Authorization="Basic "+t.btoa(p+":"+s),l("Using state.clientSecret to construct the authorization header: %s",y.headers.Authorization),e.next=26;break;case 10:if(!d){e.next=24;break}return e.next=13,u.importKey(d);case 13:return v=e.sent,g={typ:"JWT",kid:d.kid,jku:c},w={iss:p,sub:p,aud:f,jti:u.base64urlencode(u.randomBytes(32)),exp:i.getTimeInFuture(120)},e.next=18,u.signCompactJws(d.alg,v,g,w);case 18:m=e.sent,y.body+="&client_assertion_type="+encodeURIComponent("urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),y.body+="&client_assertion="+encodeURIComponent(m),l("Using state.clientPrivateJwk to add a client_assertion to the POST body"),e.next=26;break;case 24:l("Public client detected; adding state.clientId to the POST body"),y.body+="&client_id="+encodeURIComponent(p);case 26:return h&&(l("Found state.codeVerifier, adding to the POST body"),y.body+="&code_verifier="+h),e.abrupt("return",y);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=(0,a.default)(o.default.mark((function e(t,r,n){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m(t),r&&(a=a.then(r)),n&&(a=a.catch(n)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=(0,a.default)(o.default.mark((function e(t,r){var n,a,i,u,l,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getUrl(),a=n.searchParams.get("code"),i=n.searchParams.get("state"),!a||!i){e.next=5;break}return e.abrupt("return",m(t));case 5:if(u=t.getStorage(),e.t0=i,e.t0){e.next=11;break}return e.next=10,u.get(c.SMART_KEY);case 10:e.t0=e.sent;case 11:return l=e.t0,e.next=14,u.get(l);case 14:if(!(d=e.sent)){e.next=17;break}return e.abrupt("return",new s.default(t,d));case 17:return e.abrupt("return",h(t,r).then((function(){return new Promise((function(){}))})));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.fetchWellKnownJson=f,t.getSecurityExtensions=p,t.authorize=h,t.isInFrame=v,t.isInPopUp=g,t.onMessage=w,t.completeAuth=m,t.buildTokenRequest=E,t.ready=function(e,t,r){return A.apply(this,arguments)},t.init=function(e,t){return x.apply(this,arguments)}},1060:(e,t,r)=>{"use strict";var n=r(5318),o=n(r(7757)),a=n(r(8926));Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}var t=e.prototype;return t.get=function(){var e=(0,a.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=sessionStorage[t])){e.next=3;break}return e.abrupt("return",JSON.parse(r));case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.set=function(){var e=(0,a.default)(o.default.mark((function e(t,r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage[t]=JSON.stringify(r),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.unset=function(){var e=(0,a.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in sessionStorage)){e.next=3;break}return delete sessionStorage[t],e.abrupt("return",!0);case 3:return e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}();t.default=i},2088:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={expired:"Session expired! Please re-launch the app",noScopeForId:"Trying to get the ID of the selected %s. Please add 'launch' or 'launch/%s' to the requested scopes and try again.",noIfNoAuth:"You are trying to get %s but the app is not authorized yet.",noFreeContext:"Please don't use open fhir servers if you need to access launch context items like the %S."}},3099:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},6077:(e,t,r)=>{var n=r(111);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},1223:(e,t,r)=>{var n=r(5112),o=r(30),a=r(3070),i=n("unscopables"),s=Array.prototype;null==s[i]&&a.f(s,i,{configurable:!0,value:o(null)}),e.exports=function(e){s[i][e]=!0}},1530:(e,t,r)=>{"use strict";var n=r(8710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},5787:e=>{e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},9670:(e,t,r)=>{var n=r(111);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},4019:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:(e,t,r)=>{"use strict";var n,o,a,i=r(4019),s=r(9781),c=r(7854),u=r(111),l=r(6656),d=r(648),f=r(8880),p=r(1320),h=r(3070).f,y=r(9518),v=r(7674),g=r(5112),w=r(9711),m=c.Int8Array,b=m&&m.prototype,E=c.Uint8ClampedArray,S=E&&E.prototype,A=m&&y(m),x=b&&y(b),C=Object.prototype,_=C.isPrototypeOf,k=g("toStringTag"),P=w("TYPED_ARRAY_TAG"),T=w("TYPED_ARRAY_CONSTRUCTOR"),R=i&&!!v&&"Opera"!==d(c.opera),I=!1,O={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},J={BigInt64Array:8,BigUint64Array:8},W=function(e){if(!u(e))return!1;var t=d(e);return l(O,t)||l(J,t)};for(n in O)(a=(o=c[n])&&o.prototype)?f(a,T,o):R=!1;for(n in J)(a=(o=c[n])&&o.prototype)&&f(a,T,o);if((!R||"function"!=typeof A||A===Function.prototype)&&(A=function(){throw TypeError("Incorrect invocation")},R))for(n in O)c[n]&&v(c[n],A);if((!R||!x||x===C)&&(x=A.prototype,R))for(n in O)c[n]&&v(c[n].prototype,x);if(R&&y(S)!==x&&v(S,x),s&&!l(x,k))for(n in I=!0,h(x,k,{get:function(){return u(this)?this[P]:void 0}}),O)c[n]&&f(c[n],P,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:R,TYPED_ARRAY_CONSTRUCTOR:T,TYPED_ARRAY_TAG:I&&P,aTypedArray:function(e){if(W(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(v&&!_.call(A,e))throw TypeError("Target is not a typed array constructor");return e},exportTypedArrayMethod:function(e,t,r){if(s){if(r)for(var n in O){var o=c[n];if(o&&l(o.prototype,e))try{delete o.prototype[e]}catch(e){}}x[e]&&!r||p(x,e,r?t:R&&b[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var n,o;if(s){if(v){if(r)for(n in O)if((o=c[n])&&l(o,e))try{delete o[e]}catch(e){}if(A[e]&&!r)return;try{return p(A,e,r?t:R&&A[e]||t)}catch(e){}}for(n in O)!(o=c[n])||o[e]&&!r||p(o,e,t)}},isView:function(e){if(!u(e))return!1;var t=d(e);return"DataView"===t||l(O,t)||l(J,t)},isTypedArray:W,TypedArray:A,TypedArrayPrototype:x}},3331:(e,t,r)=>{"use strict";var n=r(7854),o=r(9781),a=r(4019),i=r(8880),s=r(2248),c=r(7293),u=r(5787),l=r(9958),d=r(7466),f=r(6904),p=r(1179),h=r(9518),y=r(7674),v=r(8006).f,g=r(3070).f,w=r(1285),m=r(8003),b=r(9909),E=b.get,S=b.set,A="ArrayBuffer",x="DataView",C="Wrong index",_=n.ArrayBuffer,k=_,P=n.DataView,T=P&&P.prototype,R=Object.prototype,I=n.RangeError,O=p.pack,J=p.unpack,W=function(e){return[255&e]},H=function(e){return[255&e,e>>8&255]},U=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},K=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},j=function(e){return O(e,23,4)},M=function(e){return O(e,52,8)},D=function(e,t){g(e.prototype,t,{get:function(){return E(this)[t]}})},F=function(e,t,r,n){var o=f(r),a=E(e);if(o+t>a.byteLength)throw I(C);var i=E(a.buffer).bytes,s=o+a.byteOffset,c=i.slice(s,s+t);return n?c:c.reverse()},N=function(e,t,r,n,o,a){var i=f(r),s=E(e);if(i+t>s.byteLength)throw I(C);for(var c=E(s.buffer).bytes,u=i+s.byteOffset,l=n(+o),d=0;d<t;d++)c[u+d]=l[a?d:t-d-1]};if(a){if(!c((function(){_(1)}))||!c((function(){new _(-1)}))||c((function(){return new _,new _(1.5),new _(NaN),_.name!=A}))){for(var L,B=(k=function(e){return u(this,k),new _(f(e))}).prototype=_.prototype,G=v(_),V=0;G.length>V;)(L=G[V++])in k||i(k,L,_[L]);B.constructor=k}y&&h(T)!==R&&y(T,R);var q=new P(new k(2)),$=T.setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||s(T,{setInt8:function(e,t){$.call(this,e,t<<24>>24)},setUint8:function(e,t){$.call(this,e,t<<24>>24)}},{unsafe:!0})}else k=function(e){u(this,k,A);var t=f(e);S(this,{bytes:w.call(new Array(t),0),byteLength:t}),o||(this.byteLength=t)},P=function(e,t,r){u(this,P,x),u(e,k,x);var n=E(e).byteLength,a=l(t);if(a<0||a>n)throw I("Wrong offset");if(a+(r=void 0===r?n-a:d(r))>n)throw I("Wrong length");S(this,{buffer:e,byteLength:r,byteOffset:a}),o||(this.buffer=e,this.byteLength=r,this.byteOffset=a)},o&&(D(k,"byteLength"),D(P,"buffer"),D(P,"byteLength"),D(P,"byteOffset")),s(P.prototype,{getInt8:function(e){return F(this,1,e)[0]<<24>>24},getUint8:function(e){return F(this,1,e)[0]},getInt16:function(e){var t=F(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=F(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return K(F(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return K(F(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return J(F(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return J(F(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){N(this,1,e,W,t)},setUint8:function(e,t){N(this,1,e,W,t)},setInt16:function(e,t){N(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){N(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){N(this,4,e,U,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){N(this,4,e,U,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){N(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){N(this,8,e,M,t,arguments.length>2?arguments[2]:void 0)}});m(k,A),m(P,x),e.exports={ArrayBuffer:k,DataView:P}},1048:(e,t,r)=>{"use strict";var n=r(7908),o=r(1400),a=r(7466),i=Math.min;e.exports=[].copyWithin||function(e,t){var r=n(this),s=a(r.length),c=o(e,s),u=o(t,s),l=arguments.length>2?arguments[2]:void 0,d=i((void 0===l?s:o(l,s))-u,s-c),f=1;for(u<c&&c<u+d&&(f=-1,u+=d-1,c+=d-1);d-- >0;)u in r?r[c]=r[u]:delete r[c],c+=f,u+=f;return r}},1285:(e,t,r)=>{"use strict";var n=r(7908),o=r(1400),a=r(7466);e.exports=function(e){for(var t=n(this),r=a(t.length),i=arguments.length,s=o(i>1?arguments[1]:void 0,r),c=i>2?arguments[2]:void 0,u=void 0===c?r:o(c,r);u>s;)t[s++]=e;return t}},8533:(e,t,r)=>{"use strict";var n=r(2092).forEach,o=r(9341)("forEach");e.exports=o?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},7745:e=>{e.exports=function(e,t){for(var r=0,n=t.length,o=new e(n);n>r;)o[r]=t[r++];return o}},8457:(e,t,r)=>{"use strict";var n=r(9974),o=r(7908),a=r(3411),i=r(7659),s=r(7466),c=r(6135),u=r(8554),l=r(1246);e.exports=function(e){var t,r,d,f,p,h,y=o(e),v="function"==typeof this?this:Array,g=arguments.length,w=g>1?arguments[1]:void 0,m=void 0!==w,b=l(y),E=0;if(m&&(w=n(w,g>2?arguments[2]:void 0,2)),null==b||v==Array&&i(b))for(r=new v(t=s(y.length));t>E;E++)h=m?w(y[E],E):y[E],c(r,E,h);else for(p=(f=u(y,b)).next,r=new v;!(d=p.call(f)).done;E++)h=m?a(f,w,[d.value,E],!0):d.value,c(r,E,h);return r.length=E,r}},1318:(e,t,r)=>{var n=r(5656),o=r(7466),a=r(1400),i=function(e){return function(t,r,i){var s,c=n(t),u=o(c.length),l=a(i,u);if(e&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},2092:(e,t,r)=>{var n=r(9974),o=r(8361),a=r(7908),i=r(7466),s=r(5417),c=[].push,u=function(e){var t=1==e,r=2==e,u=3==e,l=4==e,d=6==e,f=7==e,p=5==e||d;return function(h,y,v,g){for(var w,m,b=a(h),E=o(b),S=n(y,v,3),A=i(E.length),x=0,C=g||s,_=t?C(h,A):r||f?C(h,0):void 0;A>x;x++)if((p||x in E)&&(m=S(w=E[x],x,b),e))if(t)_[x]=m;else if(m)switch(e){case 3:return!0;case 5:return w;case 6:return x;case 2:c.call(_,w)}else switch(e){case 4:return!1;case 7:c.call(_,w)}return d?-1:u||l?l:_}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},6583:(e,t,r)=>{"use strict";var n=r(5656),o=r(9958),a=r(7466),i=r(9341),s=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,l=i("lastIndexOf"),d=u||!l;e.exports=d?function(e){if(u)return c.apply(this,arguments)||0;var t=n(this),r=a(t.length),i=r-1;for(arguments.length>1&&(i=s(i,o(arguments[1]))),i<0&&(i=r+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}:c},1194:(e,t,r)=>{var n=r(7293),o=r(5112),a=r(7392),i=o("species");e.exports=function(e){return a>=51||!n((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,r)=>{"use strict";var n=r(7293);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},3671:(e,t,r)=>{var n=r(3099),o=r(7908),a=r(8361),i=r(7466),s=function(e){return function(t,r,s,c){n(r);var u=o(t),l=a(u),d=i(u.length),f=e?d-1:0,p=e?-1:1;if(s<2)for(;;){if(f in l){c=l[f],f+=p;break}if(f+=p,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=p)f in l&&(c=r(c,l[f],f,u));return c}};e.exports={left:s(!1),right:s(!0)}},4362:e=>{var t=Math.floor,r=function(e,a){var i=e.length,s=t(i/2);return i<8?n(e,a):o(r(e.slice(0,s),a),r(e.slice(s),a),a)},n=function(e,t){for(var r,n,o=e.length,a=1;a<o;){for(n=a,r=e[a];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},o=function(e,t,r){for(var n=e.length,o=t.length,a=0,i=0,s=[];a<n||i<o;)a<n&&i<o?s.push(r(e[a],t[i])<=0?e[a++]:t[i++]):s.push(a<n?e[a++]:t[i++]);return s};e.exports=r},7475:(e,t,r)=>{var n=r(111),o=r(3157),a=r(5112)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)?n(t)&&null===(t=t[a])&&(t=void 0):t=void 0),void 0===t?Array:t}},5417:(e,t,r)=>{var n=r(7475);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},3411:(e,t,r)=>{var n=r(9670),o=r(9212);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){o(e,"throw",t)}}},7072:(e,t,r)=>{var n=r(5112)("iterator"),o=!1;try{var a=0,i={next:function(){return{done:!!a++}},return:function(){o=!0}};i[n]=function(){return this},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},4326:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},648:(e,t,r)=>{var n=r(1694),o=r(4326),a=r(5112)("toStringTag"),i="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:i?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},9920:(e,t,r)=>{var n=r(6656),o=r(3887),a=r(1236),i=r(3070);e.exports=function(e,t){for(var r=o(t),s=i.f,c=a.f,u=0;u<r.length;u++){var l=r[u];n(e,l)||s(e,l,c(t,l))}}},4964:(e,t,r)=>{var n=r(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},8544:(e,t,r)=>{var n=r(7293);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4230:(e,t,r)=>{var n=r(4488),o=r(1340),a=/"/g;e.exports=function(e,t,r,i){var s=o(n(e)),c="<"+t;return""!==r&&(c+=" "+r+'="'+o(i).replace(a,"&quot;")+'"'),c+">"+s+"</"+t+">"}},4994:(e,t,r)=>{"use strict";var n=r(3383).IteratorPrototype,o=r(30),a=r(9114),i=r(8003),s=r(7497),c=function(){return this};e.exports=function(e,t,r){var u=t+" Iterator";return e.prototype=o(n,{next:a(1,r)}),i(e,u,!1,!0),s[u]=c,e}},8880:(e,t,r)=>{var n=r(9781),o=r(3070),a=r(9114);e.exports=n?function(e,t,r){return o.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,r)=>{"use strict";var n=r(4948),o=r(3070),a=r(9114);e.exports=function(e,t,r){var i=n(t);i in e?o.f(e,i,a(0,r)):e[i]=r}},654:(e,t,r)=>{"use strict";var n=r(2109),o=r(4994),a=r(9518),i=r(7674),s=r(8003),c=r(8880),u=r(1320),l=r(5112),d=r(1913),f=r(7497),p=r(3383),h=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,v=l("iterator"),g="keys",w="values",m="entries",b=function(){return this};e.exports=function(e,t,r,l,p,E,S){o(r,t,l);var A,x,C,_=function(e){if(e===p&&I)return I;if(!y&&e in T)return T[e];switch(e){case g:case w:case m:return function(){return new r(this,e)}}return function(){return new r(this)}},k=t+" Iterator",P=!1,T=e.prototype,R=T[v]||T["@@iterator"]||p&&T[p],I=!y&&R||_(p),O="Array"==t&&T.entries||R;if(O&&(A=a(O.call(new e)))!==Object.prototype&&A.next&&(d||a(A)===h||(i?i(A,h):"function"!=typeof A[v]&&c(A,v,b)),s(A,k,!0,!0),d&&(f[k]=b)),p==w&&R&&R.name!==w&&(P=!0,I=function(){return R.call(this)}),d&&!S||T[v]===I||c(T,v,I),f[t]=I,p)if(x={values:_(w),keys:E?I:_(g),entries:_(m)},S)for(C in x)(y||P||!(C in T))&&u(T,C,x[C]);else n({target:t,proto:!0,forced:y||P},x);return x}},9781:(e,t,r)=>{var n=r(7293);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,r)=>{var n=r(7854),o=r(111),a=n.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,r)=>{var n=r(317)("span").classList,o=n&&n.constructor&&n.constructor.prototype;e.exports=o===Object.prototype?void 0:o},8886:(e,t,r)=>{var n=r(8113).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},7871:e=>{e.exports="object"==typeof window},256:(e,t,r)=>{var n=r(8113);e.exports=/MSIE|Trident/.test(n)},1528:(e,t,r)=>{var n=r(8113),o=r(7854);e.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==o.Pebble},6833:(e,t,r)=>{var n=r(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},5268:(e,t,r)=>{var n=r(4326),o=r(7854);e.exports="process"==n(o.process)},1036:(e,t,r)=>{var n=r(8113);e.exports=/web0s(?!.*chrome)/i.test(n)},8113:(e,t,r)=>{var n=r(5005);e.exports=n("navigator","userAgent")||""},7392:(e,t,r)=>{var n,o,a=r(7854),i=r(8113),s=a.process,c=a.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l?o=(n=l.split("."))[0]<4?1:n[0]+n[1]:i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(o=n[1]),e.exports=o&&+o},8008:(e,t,r)=>{var n=r(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,r)=>{var n=r(7854),o=r(1236).f,a=r(8880),i=r(1320),s=r(3505),c=r(9920),u=r(4705);e.exports=function(e,t){var r,l,d,f,p,h=e.target,y=e.global,v=e.stat;if(r=y?n:v?n[h]||s(h,{}):(n[h]||{}).prototype)for(l in t){if(f=t[l],d=e.noTargetGet?(p=o(r,l))&&p.value:r[l],!u(y?l:h+(v?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(e.sham||d&&d.sham)&&a(f,"sham",!0),i(r,l,f,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:(e,t,r)=>{"use strict";r(4916);var n=r(1320),o=r(2261),a=r(7293),i=r(5112),s=r(8880),c=i("species"),u=RegExp.prototype;e.exports=function(e,t,r,l){var d=i(e),f=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=f&&!a((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!f||!p||r){var h=/./[d],y=t(d,""[e],(function(e,t,r,n,a){var i=t.exec;return i===o||i===u.exec?f&&!a?{done:!0,value:h.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}));n(String.prototype,e,y[0]),n(u,d,y[1])}l&&s(u[d],"sham",!0)}},6790:(e,t,r)=>{"use strict";var n=r(3157),o=r(7466),a=r(9974),i=function(e,t,r,s,c,u,l,d){for(var f,p=c,h=0,y=!!l&&a(l,d,3);h<s;){if(h in r){if(f=y?y(r[h],h,t):r[h],u>0&&n(f))p=i(e,t,f,o(f.length),p,u-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=f}p++}h++}return p};e.exports=i},9974:(e,t,r)=>{var n=r(3099);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},5005:(e,t,r)=>{var n=r(7854),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e]):n[e]&&n[e][t]}},1246:(e,t,r)=>{var n=r(648),o=r(7497),a=r(5112)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||o[n(e)]}},8554:(e,t,r)=>{var n=r(9670),o=r(1246);e.exports=function(e,t){var r=arguments.length<2?o(e):t;if("function"!=typeof r)throw TypeError(String(e)+" is not iterable");return n(r.call(e))}},647:(e,t,r)=>{var n=r(7908),o=Math.floor,a="".replace,i=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,c,u,l){var d=r+e.length,f=c.length,p=s;return void 0!==u&&(u=n(u),p=i),a.call(l,p,(function(n,a){var i;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(d);case"<":i=u[a.slice(1,-1)];break;default:var s=+a;if(0===s)return n;if(s>f){var l=o(s/10);return 0===l?n:l<=f?void 0===c[l-1]?a.charAt(1):c[l-1]+a.charAt(1):n}i=c[s-1]}return void 0===i?"":i}))}},7854:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},6656:(e,t,r)=>{var n=r(7908),o={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return o.call(n(e),t)}},3501:e=>{e.exports={}},842:(e,t,r)=>{var n=r(7854);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},490:(e,t,r)=>{var n=r(5005);e.exports=n("document","documentElement")},4664:(e,t,r)=>{var n=r(9781),o=r(7293),a=r(317);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1179:e=>{var t=Math.abs,r=Math.pow,n=Math.floor,o=Math.log,a=Math.LN2;e.exports={pack:function(e,i,s){var c,u,l,d=new Array(s),f=8*s-i-1,p=(1<<f)-1,h=p>>1,y=23===i?r(2,-24)-r(2,-77):0,v=e<0||0===e&&1/e<0?1:0,g=0;for((e=t(e))!=e||e===1/0?(u=e!=e?1:0,c=p):(c=n(o(e)/a),e*(l=r(2,-c))<1&&(c--,l*=2),(e+=c+h>=1?y/l:y*r(2,1-h))*l>=2&&(c++,l/=2),c+h>=p?(u=0,c=p):c+h>=1?(u=(e*l-1)*r(2,i),c+=h):(u=e*r(2,h-1)*r(2,i),c=0));i>=8;d[g++]=255&u,u/=256,i-=8);for(c=c<<i|u,f+=i;f>0;d[g++]=255&c,c/=256,f-=8);return d[--g]|=128*v,d},unpack:function(e,t){var n,o=e.length,a=8*o-t-1,i=(1<<a)-1,s=i>>1,c=a-7,u=o-1,l=e[u--],d=127&l;for(l>>=7;c>0;d=256*d+e[u],u--,c-=8);for(n=d&(1<<-c)-1,d>>=-c,c+=t;c>0;n=256*n+e[u],u--,c-=8);if(0===d)d=1-s;else{if(d===i)return n?NaN:l?-1/0:1/0;n+=r(2,t),d-=s}return(l?-1:1)*n*r(2,d-t)}}},8361:(e,t,r)=>{var n=r(7293),o=r(4326),a="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?a.call(e,""):Object(e)}:Object},9587:(e,t,r)=>{var n=r(111),o=r(7674);e.exports=function(e,t,r){var a,i;return o&&"function"==typeof(a=t.constructor)&&a!==r&&n(i=a.prototype)&&i!==r.prototype&&o(e,i),e}},2788:(e,t,r)=>{var n=r(5465),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},9909:(e,t,r)=>{var n,o,a,i=r(8536),s=r(7854),c=r(111),u=r(8880),l=r(6656),d=r(5465),f=r(6200),p=r(3501),h="Object already initialized",y=s.WeakMap;if(i||d.state){var v=d.state||(d.state=new y),g=v.get,w=v.has,m=v.set;n=function(e,t){if(w.call(v,e))throw new TypeError(h);return t.facade=e,m.call(v,e,t),t},o=function(e){return g.call(v,e)||{}},a=function(e){return w.call(v,e)}}else{var b=f("state");p[b]=!0,n=function(e,t){if(l(e,b))throw new TypeError(h);return t.facade=e,u(e,b,t),t},o=function(e){return l(e,b)?e[b]:{}},a=function(e){return l(e,b)}}e.exports={set:n,get:o,has:a,enforce:function(e){return a(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},7659:(e,t,r)=>{var n=r(5112),o=r(7497),a=n("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[a]===e)}},3157:(e,t,r)=>{var n=r(4326);e.exports=Array.isArray||function(e){return"Array"==n(e)}},4705:(e,t,r)=>{var n=r(7293),o=/#|\.prototype\./,a=function(e,t){var r=s[i(e)];return r==u||r!=c&&("function"==typeof t?n(t):!!t)},i=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},8730:(e,t,r)=>{var n=r(111),o=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&o(e)===e}},111:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:e=>{e.exports=!1},7850:(e,t,r)=>{var n=r(111),o=r(4326),a=r(5112)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},2190:(e,t,r)=>{var n=r(5005),o=r(3307);e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return"function"==typeof t&&Object(e)instanceof t}},408:(e,t,r)=>{var n=r(9670),o=r(7659),a=r(7466),i=r(9974),s=r(8554),c=r(1246),u=r(9212),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var d,f,p,h,y,v,g,w=r&&r.that,m=!(!r||!r.AS_ENTRIES),b=!(!r||!r.IS_ITERATOR),E=!(!r||!r.INTERRUPTED),S=i(t,w,1+m+E),A=function(e){return d&&u(d,"normal",e),new l(!0,e)},x=function(e){return m?(n(e),E?S(e[0],e[1],A):S(e[0],e[1])):E?S(e,A):S(e)};if(b)d=e;else{if("function"!=typeof(f=c(e)))throw TypeError("Target is not iterable");if(o(f)){for(p=0,h=a(e.length);h>p;p++)if((y=x(e[p]))&&y instanceof l)return y;return new l(!1)}d=s(e,f)}for(v=d.next;!(g=v.call(d)).done;){try{y=x(g.value)}catch(e){u(d,"throw",e)}if("object"==typeof y&&y&&y instanceof l)return y}return new l(!1)}},9212:(e,t,r)=>{var n=r(9670);e.exports=function(e,t,r){var o,a;n(e);try{if(void 0===(o=e.return)){if("throw"===t)throw r;return r}o=o.call(e)}catch(e){a=!0,o=e}if("throw"===t)throw r;if(a)throw o;return n(o),r}},3383:(e,t,r)=>{"use strict";var n,o,a,i=r(7293),s=r(30),c=r(9518),u=r(8880),l=r(5112),d=r(1913),f=l("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(o=c(c(a)))!==Object.prototype&&(n=o):p=!0),null==n||i((function(){var e={};return n[f].call(e)!==e}))?n={}:d&&(n=s(n)),"function"!=typeof n[f]&&u(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},7497:e=>{e.exports={}},5948:(e,t,r)=>{var n,o,a,i,s,c,u,l,d=r(7854),f=r(1236).f,p=r(261).set,h=r(6833),y=r(1528),v=r(1036),g=r(5268),w=d.MutationObserver||d.WebKitMutationObserver,m=d.document,b=d.process,E=d.Promise,S=f(d,"queueMicrotask"),A=S&&S.value;A||(n=function(){var e,t;for(g&&(e=b.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?i():a=void 0,e}}a=void 0,e&&e.enter()},h||g||v||!w||!m?!y&&E&&E.resolve?((u=E.resolve(void 0)).constructor=E,l=u.then,i=function(){l.call(u,n)}):i=g?function(){b.nextTick(n)}:function(){p.call(d,n)}:(s=!0,c=m.createTextNode(""),new w(n).observe(c,{characterData:!0}),i=function(){c.data=s=!s})),e.exports=A||function(e){var t={fn:e,next:void 0};a&&(a.next=t),o||(o=t,i()),a=t}},3366:(e,t,r)=>{var n=r(7854);e.exports=n.Promise},133:(e,t,r)=>{var n=r(7392),o=r(7293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},590:(e,t,r)=>{var n=r(7293),o=r(5112),a=r(1913),i=o("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},8536:(e,t,r)=>{var n=r(7854),o=r(2788),a=n.WeakMap;e.exports="function"==typeof a&&/native code/.test(o(a))},8523:(e,t,r)=>{"use strict";var n=r(3099),o=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new o(e)}},3929:(e,t,r)=>{var n=r(7850);e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},1574:(e,t,r)=>{"use strict";var n=r(9781),o=r(7293),a=r(1956),i=r(5181),s=r(5296),c=r(7908),u=r(8361),l=Object.assign,d=Object.defineProperty;e.exports=!l||o((function(){if(n&&1!==l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach((function(e){t[e]=e})),7!=l({},e)[r]||a(l({},t)).join("")!=o}))?function(e,t){for(var r=c(e),o=arguments.length,l=1,d=i.f,f=s.f;o>l;)for(var p,h=u(arguments[l++]),y=d?a(h).concat(d(h)):a(h),v=y.length,g=0;v>g;)p=y[g++],n&&!f.call(h,p)||(r[p]=h[p]);return r}:l},30:(e,t,r)=>{var n,o=r(9670),a=r(6048),i=r(748),s=r(3501),c=r(490),u=r(317),l=r(6200)("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&n?p(n):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):p(n);for(var r=i.length;r--;)delete h.prototype[i[r]];return h()};s[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(d.prototype=o(e),r=new d,d.prototype=null,r[l]=e):r=h(),void 0===t?r:a(r,t)}},6048:(e,t,r)=>{var n=r(9781),o=r(3070),a=r(9670),i=r(1956);e.exports=n?Object.defineProperties:function(e,t){a(e);for(var r,n=i(t),s=n.length,c=0;s>c;)o.f(e,r=n[c++],t[r]);return e}},3070:(e,t,r)=>{var n=r(9781),o=r(4664),a=r(9670),i=r(4948),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(a(e),t=i(t),a(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},1236:(e,t,r)=>{var n=r(9781),o=r(5296),a=r(9114),i=r(5656),s=r(4948),c=r(6656),u=r(4664),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=i(e),t=s(t),u)try{return l(e,t)}catch(e){}if(c(e,t))return a(!o.f.call(e,t),e[t])}},8006:(e,t,r)=>{var n=r(6324),o=r(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,r)=>{var n=r(6656),o=r(7908),a=r(6200),i=r(8544),s=a("IE_PROTO"),c=Object.prototype;e.exports=i?Object.getPrototypeOf:function(e){return e=o(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},6324:(e,t,r)=>{var n=r(6656),o=r(5656),a=r(1318).indexOf,i=r(3501);e.exports=function(e,t){var r,s=o(e),c=0,u=[];for(r in s)!n(i,r)&&n(s,r)&&u.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~a(u,r)||u.push(r));return u}},1956:(e,t,r)=>{var n=r(6324),o=r(748);e.exports=Object.keys||function(e){return n(e,o)}},5296:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},7674:(e,t,r)=>{var n=r(9670),o=r(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,a){return n(r),o(a),t?e.call(r,a):r.__proto__=a,r}}():void 0)},288:(e,t,r)=>{"use strict";var n=r(1694),o=r(648);e.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},2140:(e,t,r)=>{var n=r(111);e.exports=function(e,t){var r,o;if("string"===t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if("string"!==t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},3887:(e,t,r)=>{var n=r(5005),o=r(8006),a=r(5181),i=r(9670);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(i(e)),r=a.f;return r?t.concat(r(e)):t}},2534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9478:(e,t,r)=>{var n=r(9670),o=r(111),a=r(8523);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},2248:(e,t,r)=>{var n=r(1320);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},1320:(e,t,r)=>{var n=r(7854),o=r(8880),a=r(6656),i=r(3505),s=r(2788),c=r(9909),u=c.get,l=c.enforce,d=String(String).split("String");(e.exports=function(e,t,r,s){var c,u=!!s&&!!s.unsafe,f=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||a(r,"name")||o(r,"name",t),(c=l(r)).source||(c.source=d.join("string"==typeof t?t:""))),e!==n?(u?!p&&e[t]&&(f=!0):delete e[t],f?e[t]=r:o(e,t,r)):f?e[t]=r:i(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},7651:(e,t,r)=>{var n=r(4326),o=r(2261);e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var a=r.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},2261:(e,t,r)=>{"use strict";var n,o,a=r(1340),i=r(7066),s=r(2999),c=r(2309),u=r(30),l=r(9909).get,d=r(9441),f=r(8173),p=RegExp.prototype.exec,h=c("native-string-replace",String.prototype.replace),y=p,v=(n=/a/,o=/b*/g,p.call(n,"a"),p.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),g=s.UNSUPPORTED_Y||s.BROKEN_CARET,w=void 0!==/()??/.exec("")[1];(v||w||g||d||f)&&(y=function(e){var t,r,n,o,s,c,d,f=this,m=l(f),b=a(e),E=m.raw;if(E)return E.lastIndex=f.lastIndex,t=y.call(E,b),f.lastIndex=E.lastIndex,t;var S=m.groups,A=g&&f.sticky,x=i.call(f),C=f.source,_=0,k=b;if(A&&(-1===(x=x.replace("y","")).indexOf("g")&&(x+="g"),k=b.slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==b.charAt(f.lastIndex-1))&&(C="(?: "+C+")",k=" "+k,_++),r=new RegExp("^(?:"+C+")",x)),w&&(r=new RegExp("^"+C+"$(?!\\s)",x)),v&&(n=f.lastIndex),o=p.call(A?r:f,k),A?o?(o.input=o.input.slice(_),o[0]=o[0].slice(_),o.index=f.lastIndex,f.lastIndex+=o[0].length):f.lastIndex=0:v&&o&&(f.lastIndex=f.global?o.index+o[0].length:n),w&&o&&o.length>1&&h.call(o[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o&&S)for(o.groups=c=u(null),s=0;s<S.length;s++)c[(d=S[s])[0]]=o[d[1]];return o}),e.exports=y},7066:(e,t,r)=>{"use strict";var n=r(9670);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:(e,t,r)=>{var n=r(7293),o=r(7854).RegExp;t.UNSUPPORTED_Y=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},9441:(e,t,r)=>{var n=r(7293),o=r(7854).RegExp;e.exports=n((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},8173:(e,t,r)=>{var n=r(7293),o=r(7854).RegExp;e.exports=n((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},1150:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},3505:(e,t,r)=>{var n=r(7854);e.exports=function(e,t){try{Object.defineProperty(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},6340:(e,t,r)=>{"use strict";var n=r(5005),o=r(3070),a=r(5112),i=r(9781),s=a("species");e.exports=function(e){var t=n(e),r=o.f;i&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},8003:(e,t,r)=>{var n=r(3070).f,o=r(6656),a=r(5112)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},6200:(e,t,r)=>{var n=r(2309),o=r(9711),a=n("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},5465:(e,t,r)=>{var n=r(7854),o=r(3505),a="__core-js_shared__",i=n[a]||o(a,{});e.exports=i},2309:(e,t,r)=>{var n=r(1913),o=r(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.17.3",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},6707:(e,t,r)=>{var n=r(9670),o=r(3099),a=r(5112)("species");e.exports=function(e,t){var r,i=n(e).constructor;return void 0===i||null==(r=n(i)[a])?t:o(r)}},3429:(e,t,r)=>{var n=r(7293);e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},8710:(e,t,r)=>{var n=r(9958),o=r(1340),a=r(4488),i=function(e){return function(t,r){var i,s,c=o(a(t)),u=n(r),l=c.length;return u<0||u>=l?e?"":void 0:(i=c.charCodeAt(u))<55296||i>56319||u+1===l||(s=c.charCodeAt(u+1))<56320||s>57343?e?c.charAt(u):i:e?c.slice(u,u+2):s-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},3197:e=>{"use strict";var t=2147483647,r=/[^\0-\u007E]/,n=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=Math.floor,i=String.fromCharCode,s=function(e){return e+22+75*(e<26)},c=function(e,t,r){var n=0;for(e=r?a(e/700):e>>1,e+=a(e/t);e>455;n+=36)e=a(e/35);return a(n+36*e/(e+38))},u=function(e){var r=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var a=e.charCodeAt(r++);56320==(64512&a)?t.push(((1023&o)<<10)+(1023&a)+65536):(t.push(o),r--)}else t.push(o)}return t}(e);var n,u,l=e.length,d=128,f=0,p=72;for(n=0;n<e.length;n++)(u=e[n])<128&&r.push(i(u));var h=r.length,y=h;for(h&&r.push("-");y<l;){var v=t;for(n=0;n<e.length;n++)(u=e[n])>=d&&u<v&&(v=u);var g=y+1;if(v-d>a((t-f)/g))throw RangeError(o);for(f+=(v-d)*g,d=v,n=0;n<e.length;n++){if((u=e[n])<d&&++f>t)throw RangeError(o);if(u==d){for(var w=f,m=36;;m+=36){var b=m<=p?1:m>=p+26?26:m-p;if(w<b)break;var E=w-b,S=36-b;r.push(i(s(b+E%S))),w=a(E/S)}r.push(i(s(w))),p=c(f,g,y==h),f=0,++y}}++f,++d}return r.join("")};e.exports=function(e){var t,o,a=[],i=e.toLowerCase().replace(n,".").split(".");for(t=0;t<i.length;t++)o=i[t],a.push(r.test(o)?"xn--"+u(o):o);return a.join(".")}},6091:(e,t,r)=>{var n=r(7293),o=r(1361);e.exports=function(e){return n((function(){return!!o[e]()||""!=""[e]()||o[e].name!==e}))}},3111:(e,t,r)=>{var n=r(4488),o=r(1340),a="["+r(1361)+"]",i=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),c=function(e){return function(t){var r=o(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(s,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},261:(e,t,r)=>{var n,o,a,i,s=r(7854),c=r(7293),u=r(9974),l=r(490),d=r(317),f=r(6833),p=r(5268),h=s.setImmediate,y=s.clearImmediate,v=s.process,g=s.MessageChannel,w=s.Dispatch,m=0,b={};try{n=s.location}catch(e){}var E=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},S=function(e){return function(){E(e)}},A=function(e){E(e.data)},x=function(e){s.postMessage(String(e),n.protocol+"//"+n.host)};h&&y||(h=function(e){for(var t=[],r=arguments.length,n=1;r>n;)t.push(arguments[n++]);return b[++m]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},o(m),m},y=function(e){delete b[e]},p?o=function(e){v.nextTick(S(e))}:w&&w.now?o=function(e){w.now(S(e))}:g&&!f?(i=(a=new g).port2,a.port1.onmessage=A,o=u(i.postMessage,i,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&n&&"file:"!==n.protocol&&!c(x)?(o=x,s.addEventListener("message",A,!1)):o="onreadystatechange"in d("script")?function(e){l.appendChild(d("script")).onreadystatechange=function(){l.removeChild(this),E(e)}}:function(e){setTimeout(S(e),0)}),e.exports={set:h,clear:y}},1400:(e,t,r)=>{var n=r(9958),o=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):a(r,t)}},6904:(e,t,r)=>{var n=r(9958),o=r(7466);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=o(t);if(t!==r)throw RangeError("Wrong length or index");return r}},5656:(e,t,r)=>{var n=r(8361),o=r(4488);e.exports=function(e){return n(o(e))}},9958:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},7466:(e,t,r)=>{var n=r(9958),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},7908:(e,t,r)=>{var n=r(4488);e.exports=function(e){return Object(n(e))}},4590:(e,t,r)=>{var n=r(3002);e.exports=function(e,t){var r=n(e);if(r%t)throw RangeError("Wrong offset");return r}},3002:(e,t,r)=>{var n=r(9958);e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},7593:(e,t,r)=>{var n=r(111),o=r(2190),a=r(2140),i=r(5112)("toPrimitive");e.exports=function(e,t){if(!n(e)||o(e))return e;var r,s=e[i];if(void 0!==s){if(void 0===t&&(t="default"),r=s.call(e,t),!n(r)||o(r))return r;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},4948:(e,t,r)=>{var n=r(7593),o=r(2190);e.exports=function(e){var t=n(e,"string");return o(t)?t:String(t)}},1694:(e,t,r)=>{var n={};n[r(5112)("toStringTag")]="z",e.exports="[object z]"===String(n)},1340:(e,t,r)=>{var n=r(2190);e.exports=function(e){if(n(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},9843:(e,t,r)=>{"use strict";var n=r(2109),o=r(7854),a=r(9781),i=r(3832),s=r(260),c=r(3331),u=r(5787),l=r(9114),d=r(8880),f=r(8730),p=r(7466),h=r(6904),y=r(4590),v=r(4948),g=r(6656),w=r(648),m=r(111),b=r(2190),E=r(30),S=r(7674),A=r(8006).f,x=r(7321),C=r(2092).forEach,_=r(6340),k=r(3070),P=r(1236),T=r(9909),R=r(9587),I=T.get,O=T.set,J=k.f,W=P.f,H=Math.round,U=o.RangeError,K=c.ArrayBuffer,j=c.DataView,M=s.NATIVE_ARRAY_BUFFER_VIEWS,D=s.TYPED_ARRAY_CONSTRUCTOR,F=s.TYPED_ARRAY_TAG,N=s.TypedArray,L=s.TypedArrayPrototype,B=s.aTypedArrayConstructor,G=s.isTypedArray,V="BYTES_PER_ELEMENT",q="Wrong length",$=function(e,t){for(var r=0,n=t.length,o=new(B(e))(n);n>r;)o[r]=t[r++];return o},z=function(e,t){J(e,t,{get:function(){return I(this)[t]}})},Y=function(e){var t;return e instanceof K||"ArrayBuffer"==(t=w(e))||"SharedArrayBuffer"==t},X=function(e,t){return G(e)&&!b(t)&&t in e&&f(+t)&&t>=0},Z=function(e,t){return t=v(t),X(e,t)?l(2,e[t]):W(e,t)},Q=function(e,t,r){return t=v(t),!(X(e,t)&&m(r)&&g(r,"value"))||g(r,"get")||g(r,"set")||r.configurable||g(r,"writable")&&!r.writable||g(r,"enumerable")&&!r.enumerable?J(e,t,r):(e[t]=r.value,e)};a?(M||(P.f=Z,k.f=Q,z(L,"buffer"),z(L,"byteOffset"),z(L,"byteLength"),z(L,"length")),n({target:"Object",stat:!0,forced:!M},{getOwnPropertyDescriptor:Z,defineProperty:Q}),e.exports=function(e,t,r){var a=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",c="get"+e,l="set"+e,f=o[s],v=f,g=v&&v.prototype,w={},b=function(e,t){J(e,t,{get:function(){return function(e,t){var r=I(e);return r.view[c](t*a+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var o=I(e);r&&(n=(n=H(n))<0?0:n>255?255:255&n),o.view[l](t*a+o.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};M?i&&(v=t((function(e,t,r,n){return u(e,v,s),R(m(t)?Y(t)?void 0!==n?new f(t,y(r,a),n):void 0!==r?new f(t,y(r,a)):new f(t):G(t)?$(v,t):x.call(v,t):new f(h(t)),e,v)})),S&&S(v,N),C(A(f),(function(e){e in v||d(v,e,f[e])})),v.prototype=g):(v=t((function(e,t,r,n){u(e,v,s);var o,i,c,l=0,d=0;if(m(t)){if(!Y(t))return G(t)?$(v,t):x.call(v,t);o=t,d=y(r,a);var f=t.byteLength;if(void 0===n){if(f%a)throw U(q);if((i=f-d)<0)throw U(q)}else if((i=p(n)*a)+d>f)throw U(q);c=i/a}else c=h(t),o=new K(i=c*a);for(O(e,{buffer:o,byteOffset:d,byteLength:i,length:c,view:new j(o)});l<c;)b(e,l++)})),S&&S(v,N),g=v.prototype=E(L)),g.constructor!==v&&d(g,"constructor",v),d(g,D,v),F&&d(g,F,s),w[s]=v,n({global:!0,forced:v!=f,sham:!M},w),V in v||d(v,V,a),V in g||d(g,V,a),_(s)}):e.exports=function(){}},3832:(e,t,r)=>{var n=r(7854),o=r(7293),a=r(7072),i=r(260).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,c=n.Int8Array;e.exports=!i||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!a((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||o((function(){return 1!==new c(new s(2),1,void 0).length}))},3074:(e,t,r)=>{var n=r(7745),o=r(6304);e.exports=function(e,t){return n(o(e),t)}},7321:(e,t,r)=>{var n=r(7908),o=r(7466),a=r(8554),i=r(1246),s=r(7659),c=r(9974),u=r(260).aTypedArrayConstructor;e.exports=function(e){var t,r,l,d,f,p,h=n(e),y=arguments.length,v=y>1?arguments[1]:void 0,g=void 0!==v,w=i(h);if(null!=w&&!s(w))for(p=(f=a(h,w)).next,h=[];!(d=p.call(f)).done;)h.push(d.value);for(g&&y>2&&(v=c(v,arguments[2],2)),r=o(h.length),l=new(u(this))(r),t=0;r>t;t++)l[t]=g?v(h[t],t):h[t];return l}},6304:(e,t,r)=>{var n=r(260),o=r(6707),a=n.TYPED_ARRAY_CONSTRUCTOR,i=n.aTypedArrayConstructor;e.exports=function(e){return i(o(e,e[a]))}},9711:e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},3307:(e,t,r)=>{var n=r(133);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(e,t,r)=>{var n=r(7854),o=r(2309),a=r(6656),i=r(9711),s=r(133),c=r(3307),u=o("wks"),l=n.Symbol,d=c?l:l&&l.withoutSetter||i;e.exports=function(e){return a(u,e)&&(s||"string"==typeof u[e])||(s&&a(l,e)?u[e]=l[e]:u[e]=d("Symbol."+e)),u[e]}},1361:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},9575:(e,t,r)=>{"use strict";var n=r(2109),o=r(7293),a=r(3331),i=r(9670),s=r(1400),c=r(7466),u=r(6707),l=a.ArrayBuffer,d=a.DataView,f=l.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new l(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==f&&void 0===t)return f.call(i(this),e);for(var r=i(this).byteLength,n=s(e,r),o=s(void 0===t?r:t,r),a=new(u(this,l))(c(o-n)),p=new d(this),h=new d(a),y=0;n<o;)h.setUint8(y++,p.getUint8(n++));return a}})},2222:(e,t,r)=>{"use strict";var n=r(2109),o=r(7293),a=r(3157),i=r(111),s=r(7908),c=r(7466),u=r(6135),l=r(5417),d=r(1194),f=r(5112),p=r(7392),h=f("isConcatSpreadable"),y=9007199254740991,v="Maximum allowed index exceeded",g=p>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),w=d("concat"),m=function(e){if(!i(e))return!1;var t=e[h];return void 0!==t?!!t:a(e)};n({target:"Array",proto:!0,forced:!g||!w},{concat:function(e){var t,r,n,o,a,i=s(this),d=l(i,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(m(a=-1===t?i:arguments[t])){if(f+(o=c(a.length))>y)throw TypeError(v);for(r=0;r<o;r++,f++)r in a&&u(d,f,a[r])}else{if(f>=y)throw TypeError(v);u(d,f++,a)}return d.length=f,d}})},7327:(e,t,r)=>{"use strict";var n=r(2109),o=r(2092).filter;n({target:"Array",proto:!0,forced:!r(1194)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},9826:(e,t,r)=>{"use strict";var n=r(2109),o=r(2092).find,a=r(1223),i="find",s=!0;i in[]&&Array(1).find((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(i)},4944:(e,t,r)=>{"use strict";var n=r(2109),o=r(6790),a=r(7908),i=r(7466),s=r(9958),c=r(5417);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),r=i(t.length),n=c(t,0);return n.length=o(n,t,t,r,0,void 0===e?1:s(e)),n}})},6699:(e,t,r)=>{"use strict";var n=r(2109),o=r(1318).includes,a=r(1223);n({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},6992:(e,t,r)=>{"use strict";var n=r(5656),o=r(1223),a=r(7497),i=r(9909),s=r(654),c="Array Iterator",u=i.set,l=i.getterFor(c);e.exports=s(Array,"Array",(function(e,t){u(this,{type:c,target:n(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},9600:(e,t,r)=>{"use strict";var n=r(2109),o=r(8361),a=r(5656),i=r(9341),s=[].join,c=o!=Object,u=i("join",",");n({target:"Array",proto:!0,forced:c||!u},{join:function(e){return s.call(a(this),void 0===e?",":e)}})},1249:(e,t,r)=>{"use strict";var n=r(2109),o=r(2092).map;n({target:"Array",proto:!0,forced:!r(1194)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},7042:(e,t,r)=>{"use strict";var n=r(2109),o=r(111),a=r(3157),i=r(1400),s=r(7466),c=r(5656),u=r(6135),l=r(5112),d=r(1194)("slice"),f=l("species"),p=[].slice,h=Math.max;n({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var r,n,l,d=c(this),y=s(d.length),v=i(e,y),g=i(void 0===t?y:t,y);if(a(d)&&("function"!=typeof(r=d.constructor)||r!==Array&&!a(r.prototype)?o(r)&&null===(r=r[f])&&(r=void 0):r=void 0,r===Array||void 0===r))return p.call(d,v,g);for(n=new(void 0===r?Array:r)(h(g-v,0)),l=0;v<g;v++,l++)v in d&&u(n,l,d[v]);return n.length=l,n}})},2707:(e,t,r)=>{"use strict";var n=r(2109),o=r(3099),a=r(7908),i=r(7466),s=r(1340),c=r(7293),u=r(4362),l=r(9341),d=r(8886),f=r(256),p=r(7392),h=r(8008),y=[],v=y.sort,g=c((function(){y.sort(void 0)})),w=c((function(){y.sort(null)})),m=l("sort"),b=!c((function(){if(p)return p<70;if(!(d&&d>3)){if(f)return!0;if(h)return h<603;var e,t,r,n,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)y.push({k:t+n,v:r})}for(y.sort((function(e,t){return t.v-e.v})),n=0;n<y.length;n++)t=y[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));n({target:"Array",proto:!0,forced:g||!w||!m||!b},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(b)return void 0===e?v.call(t):v.call(t,e);var r,n,c=[],l=i(t.length);for(n=0;n<l;n++)n in t&&c.push(t[n]);for(c=u(c,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:s(t)>s(r)?1:-1}}(e)),r=c.length,n=0;n<r;)t[n]=c[n++];for(;n<l;)delete t[n++];return t}})},561:(e,t,r)=>{"use strict";var n=r(2109),o=r(1400),a=r(9958),i=r(7466),s=r(7908),c=r(5417),u=r(6135),l=r(1194)("splice"),d=Math.max,f=Math.min,p=9007199254740991,h="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!l},{splice:function(e,t){var r,n,l,y,v,g,w=s(this),m=i(w.length),b=o(e,m),E=arguments.length;if(0===E?r=n=0:1===E?(r=0,n=m-b):(r=E-2,n=f(d(a(t),0),m-b)),m+r-n>p)throw TypeError(h);for(l=c(w,n),y=0;y<n;y++)(v=b+y)in w&&u(l,y,w[v]);if(l.length=n,r<n){for(y=b;y<m-n;y++)g=y+r,(v=y+n)in w?w[g]=w[v]:delete w[g];for(y=m;y>m-n+r;y--)delete w[y-1]}else if(r>n)for(y=m-n;y>b;y--)g=y+r-1,(v=y+n-1)in w?w[g]=w[v]:delete w[g];for(y=0;y<r;y++)w[y+b]=arguments[y+2];return w.length=m-n+r,l}})},8309:(e,t,r)=>{var n=r(9781),o=r(3070).f,a=Function.prototype,i=a.toString,s=/^\s*function ([^ (]*)/,c="name";n&&!(c in a)&&o(a,c,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(e){return""}}})},9653:(e,t,r)=>{"use strict";var n=r(9781),o=r(7854),a=r(4705),i=r(1320),s=r(6656),c=r(4326),u=r(9587),l=r(2190),d=r(7593),f=r(7293),p=r(30),h=r(8006).f,y=r(1236).f,v=r(3070).f,g=r(3111).trim,w="Number",m=o.Number,b=m.prototype,E=c(p(b))==w,S=function(e){if(l(e))throw TypeError("Cannot convert a Symbol value to a number");var t,r,n,o,a,i,s,c,u=d(e,"number");if("string"==typeof u&&u.length>2)if(43===(t=(u=g(u)).charCodeAt(0))||45===t){if(88===(r=u.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+u}for(i=(a=u.slice(2)).length,s=0;s<i;s++)if((c=a.charCodeAt(s))<48||c>o)return NaN;return parseInt(a,n)}return+u};if(a(w,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var A,x=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof x&&(E?f((function(){b.valueOf.call(r)})):c(r)!=w)?u(new m(S(t)),r,x):S(t)},C=n?h(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),_=0;C.length>_;_++)s(m,A=C[_])&&!s(x,A)&&v(x,A,y(m,A));x.prototype=b,b.constructor=x,i(o,w,x)}},9601:(e,t,r)=>{var n=r(2109),o=r(1574);n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},7941:(e,t,r)=>{var n=r(2109),o=r(7908),a=r(1956);n({target:"Object",stat:!0,forced:r(7293)((function(){a(1)}))},{keys:function(e){return a(o(e))}})},1539:(e,t,r)=>{var n=r(1694),o=r(1320),a=r(288);n||o(Object.prototype,"toString",a,{unsafe:!0})},7727:(e,t,r)=>{"use strict";var n=r(2109),o=r(1913),a=r(3366),i=r(7293),s=r(5005),c=r(6707),u=r(9478),l=r(1320);if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&i((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),!o&&"function"==typeof a){var d=s("Promise").prototype.finally;a.prototype.finally!==d&&l(a.prototype,"finally",d,{unsafe:!0})}},8674:(e,t,r)=>{"use strict";var n,o,a,i,s=r(2109),c=r(1913),u=r(7854),l=r(5005),d=r(3366),f=r(1320),p=r(2248),h=r(7674),y=r(8003),v=r(6340),g=r(111),w=r(3099),m=r(5787),b=r(2788),E=r(408),S=r(7072),A=r(6707),x=r(261).set,C=r(5948),_=r(9478),k=r(842),P=r(8523),T=r(2534),R=r(9909),I=r(4705),O=r(5112),J=r(7871),W=r(5268),H=r(7392),U=O("species"),K="Promise",j=R.get,M=R.set,D=R.getterFor(K),F=d&&d.prototype,N=d,L=F,B=u.TypeError,G=u.document,V=u.process,q=P.f,$=q,z=!!(G&&G.createEvent&&u.dispatchEvent),Y="function"==typeof PromiseRejectionEvent,X="unhandledrejection",Z=!1,Q=I(K,(function(){var e=b(N),t=e!==String(N);if(!t&&66===H)return!0;if(c&&!L.finally)return!0;if(H>=51&&/native code/.test(e))return!1;var r=new N((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(r.constructor={})[U]=n,!(Z=r.then((function(){}))instanceof n)||!t&&J&&!Y})),ee=Q||!S((function(e){N.all(e).catch((function(){}))})),te=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},re=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;C((function(){for(var n=e.value,o=1==e.state,a=0;r.length>a;){var i,s,c,u=r[a++],l=o?u.ok:u.fail,d=u.resolve,f=u.reject,p=u.domain;try{l?(o||(2===e.rejection&&ie(e),e.rejection=1),!0===l?i=n:(p&&p.enter(),i=l(n),p&&(p.exit(),c=!0)),i===u.promise?f(B("Promise-chain cycle")):(s=te(i))?s.call(i,d,f):d(i)):f(n)}catch(e){p&&!c&&p.exit(),f(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&oe(e)}))}},ne=function(e,t,r){var n,o;z?((n=G.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),u.dispatchEvent(n)):n={promise:t,reason:r},!Y&&(o=u["on"+e])?o(n):e===X&&k("Unhandled promise rejection",r)},oe=function(e){x.call(u,(function(){var t,r=e.facade,n=e.value;if(ae(e)&&(t=T((function(){W?V.emit("unhandledRejection",n,r):ne(X,r,n)})),e.rejection=W||ae(e)?2:1,t.error))throw t.value}))},ae=function(e){return 1!==e.rejection&&!e.parent},ie=function(e){x.call(u,(function(){var t=e.facade;W?V.emit("rejectionHandled",t):ne("rejectionhandled",t,e.value)}))},se=function(e,t,r){return function(n){e(t,n,r)}},ce=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,re(e,!0))},ue=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw B("Promise can't be resolved itself");var n=te(t);n?C((function(){var r={done:!1};try{n.call(t,se(ue,r,e),se(ce,r,e))}catch(t){ce(r,t,e)}})):(e.value=t,e.state=1,re(e,!1))}catch(t){ce({done:!1},t,e)}}};if(Q&&(L=(N=function(e){m(this,N,K),w(e),n.call(this);var t=j(this);try{e(se(ue,t),se(ce,t))}catch(e){ce(t,e)}}).prototype,(n=function(e){M(this,{type:K,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(L,{then:function(e,t){var r=D(this),n=q(A(this,N));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=W?V.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&re(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n,t=j(e);this.promise=e,this.resolve=se(ue,t),this.reject=se(ce,t)},P.f=q=function(e){return e===N||e===a?new o(e):$(e)},!c&&"function"==typeof d&&F!==Object.prototype)){i=F.then,Z||(f(F,"then",(function(e,t){var r=this;return new N((function(e,t){i.call(r,e,t)})).then(e,t)}),{unsafe:!0}),f(F,"catch",L.catch,{unsafe:!0}));try{delete F.constructor}catch(e){}h&&h(F,L)}s({global:!0,wrap:!0,forced:Q},{Promise:N}),y(N,K,!1,!0),v(K),a=l(K),s({target:K,stat:!0,forced:Q},{reject:function(e){var t=q(this);return t.reject.call(void 0,e),t.promise}}),s({target:K,stat:!0,forced:c||Q},{resolve:function(e){return _(c&&this===a?N:this,e)}}),s({target:K,stat:!0,forced:ee},{all:function(e){var t=this,r=q(t),n=r.resolve,o=r.reject,a=T((function(){var r=w(t.resolve),a=[],i=0,s=1;E(e,(function(e){var c=i++,u=!1;a.push(void 0),s++,r.call(t,e).then((function(e){u||(u=!0,a[c]=e,--s||n(a))}),o)})),--s||n(a)}));return a.error&&o(a.value),r.promise},race:function(e){var t=this,r=q(t),n=r.reject,o=T((function(){var o=w(t.resolve);E(e,(function(e){o.call(t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}})},4603:(e,t,r)=>{var n=r(9781),o=r(7854),a=r(4705),i=r(9587),s=r(8880),c=r(3070).f,u=r(8006).f,l=r(7850),d=r(1340),f=r(7066),p=r(2999),h=r(1320),y=r(7293),v=r(6656),g=r(9909).enforce,w=r(6340),m=r(5112),b=r(9441),E=r(8173),S=m("match"),A=o.RegExp,x=A.prototype,C=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,_=/a/g,k=/a/g,P=new A(_)!==_,T=p.UNSUPPORTED_Y;if(a("RegExp",n&&(!P||T||b||E||y((function(){return k[S]=!1,A(_)!=_||A(k)==k||"/a/i"!=A(_,"i")}))))){for(var R=function(e,t){var r,n,o,a,c,u,p=this instanceof R,h=l(e),y=void 0===t,w=[],m=e;if(!p&&h&&y&&e.constructor===R)return e;if((h||e instanceof R)&&(e=e.source,y&&(t="flags"in m?m.flags:f.call(m))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),m=e,b&&"dotAll"in _&&(n=!!t&&t.indexOf("s")>-1)&&(t=t.replace(/s/g,"")),r=t,T&&"sticky"in _&&(o=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,"")),E&&(a=function(e){for(var t,r=e.length,n=0,o="",a=[],i={},s=!1,c=!1,u=0,l="";n<=r;n++){if("\\"===(t=e.charAt(n)))t+=e.charAt(++n);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:C.test(e.slice(n+1))&&(n+=2,c=!0),o+=t,u++;continue;case">"===t&&c:if(""===l||v(i,l))throw new SyntaxError("Invalid capture group name");i[l]=!0,a.push([l,u]),c=!1,l="";continue}c?l+=t:o+=t}return[o,a]}(e),e=a[0],w=a[1]),c=i(A(e,t),p?this:x,R),(n||o||w.length)&&(u=g(c),n&&(u.dotAll=!0,u.raw=R(function(e){for(var t,r=e.length,n=0,o="",a=!1;n<=r;n++)"\\"!==(t=e.charAt(n))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),o+=t):o+="[\\s\\S]":o+=t+e.charAt(++n);return o}(e),r)),o&&(u.sticky=!0),w.length&&(u.groups=w)),e!==m)try{s(c,"source",""===m?"(?:)":m)}catch(e){}return c},I=function(e){e in R||c(R,e,{configurable:!0,get:function(){return A[e]},set:function(t){A[e]=t}})},O=u(A),J=0;O.length>J;)I(O[J++]);x.constructor=R,R.prototype=x,h(o,"RegExp",R)}w("RegExp")},4916:(e,t,r)=>{"use strict";var n=r(2109),o=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},9714:(e,t,r)=>{"use strict";var n=r(1320),o=r(9670),a=r(1340),i=r(7293),s=r(7066),c="toString",u=RegExp.prototype,l=u.toString,d=i((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=l.name!=c;(d||f)&&n(RegExp.prototype,c,(function(){var e=o(this),t=a(e.source),r=e.flags;return"/"+t+"/"+a(void 0===r&&e instanceof RegExp&&!("flags"in u)?s.call(e):r)}),{unsafe:!0})},2023:(e,t,r)=>{"use strict";var n=r(2109),o=r(3929),a=r(4488),i=r(1340);n({target:"String",proto:!0,forced:!r(4964)("includes")},{includes:function(e){return!!~i(a(this)).indexOf(i(o(e)),arguments.length>1?arguments[1]:void 0)}})},8783:(e,t,r)=>{"use strict";var n=r(8710).charAt,o=r(1340),a=r(9909),i=r(654),s="String Iterator",c=a.set,u=a.getterFor(s);i(String,"String",(function(e){c(this,{type:s,string:o(e),index:0})}),(function(){var e,t=u(this),r=t.string,o=t.index;return o>=r.length?{value:void 0,done:!0}:(e=n(r,o),t.index+=e.length,{value:e,done:!1})}))},9254:(e,t,r)=>{"use strict";var n=r(2109),o=r(4230);n({target:"String",proto:!0,forced:r(3429)("link")},{link:function(e){return o(this,"a","href",e)}})},4723:(e,t,r)=>{"use strict";var n=r(7007),o=r(9670),a=r(7466),i=r(1340),s=r(4488),c=r(1530),u=r(7651);n("match",(function(e,t,r){return[function(t){var r=s(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](i(r))},function(e){var n=o(this),s=i(e),l=r(t,n,s);if(l.done)return l.value;if(!n.global)return u(n,s);var d=n.unicode;n.lastIndex=0;for(var f,p=[],h=0;null!==(f=u(n,s));){var y=i(f[0]);p[h]=y,""===y&&(n.lastIndex=c(s,a(n.lastIndex),d)),h++}return 0===h?null:p}]}))},5306:(e,t,r)=>{"use strict";var n=r(7007),o=r(7293),a=r(9670),i=r(9958),s=r(7466),c=r(1340),u=r(4488),l=r(1530),d=r(647),f=r(7651),p=r(5112)("replace"),h=Math.max,y=Math.min,v="$0"==="a".replace(/./,"$0"),g=!!/./[p]&&""===/./[p]("a","$0");n("replace",(function(e,t,r){var n=g?"$":"$0";return[function(e,r){var n=u(this),o=null==e?void 0:e[p];return void 0!==o?o.call(e,n,r):t.call(c(n),e,r)},function(e,o){var u=a(this),p=c(e);if("string"==typeof o&&-1===o.indexOf(n)&&-1===o.indexOf("$<")){var v=r(t,u,p,o);if(v.done)return v.value}var g="function"==typeof o;g||(o=c(o));var w=u.global;if(w){var m=u.unicode;u.lastIndex=0}for(var b=[];;){var E=f(u,p);if(null===E)break;if(b.push(E),!w)break;""===c(E[0])&&(u.lastIndex=l(p,s(u.lastIndex),m))}for(var S,A="",x=0,C=0;C<b.length;C++){E=b[C];for(var _=c(E[0]),k=h(y(i(E.index),p.length),0),P=[],T=1;T<E.length;T++)P.push(void 0===(S=E[T])?S:String(S));var R=E.groups;if(g){var I=[_].concat(P,k,p);void 0!==R&&I.push(R);var O=c(o.apply(void 0,I))}else O=d(_,p,k,P,R,o);k>=x&&(A+=p.slice(x,k)+O,x=k+_.length)}return A+p.slice(x)}]}),!!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!v||g)},4765:(e,t,r)=>{"use strict";var n=r(7007),o=r(9670),a=r(4488),i=r(1150),s=r(1340),c=r(7651);n("search",(function(e,t,r){return[function(t){var r=a(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](s(r))},function(e){var n=o(this),a=s(e),u=r(t,n,a);if(u.done)return u.value;var l=n.lastIndex;i(l,0)||(n.lastIndex=0);var d=c(n,a);return i(n.lastIndex,l)||(n.lastIndex=l),null===d?-1:d.index}]}))},3123:(e,t,r)=>{"use strict";var n=r(7007),o=r(7850),a=r(9670),i=r(4488),s=r(6707),c=r(1530),u=r(7466),l=r(1340),d=r(7651),f=r(2261),p=r(2999),h=r(7293),y=p.UNSUPPORTED_Y,v=[].push,g=Math.min,w=4294967295;n("split",(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=l(i(this)),a=void 0===r?w:r>>>0;if(0===a)return[];if(void 0===e)return[n];if(!o(e))return t.call(n,e,a);for(var s,c,u,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,y=new RegExp(e.source,p+"g");(s=f.call(y,n))&&!((c=y.lastIndex)>h&&(d.push(n.slice(h,s.index)),s.length>1&&s.index<n.length&&v.apply(d,s.slice(1)),u=s[0].length,h=c,d.length>=a));)y.lastIndex===s.index&&y.lastIndex++;return h===n.length?!u&&y.test("")||d.push(""):d.push(n.slice(h)),d.length>a?d.slice(0,a):d}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var o=i(this),a=null==t?void 0:t[e];return void 0!==a?a.call(t,o,r):n.call(l(o),t,r)},function(e,o){var i=a(this),f=l(e),p=r(n,i,f,o,n!==t);if(p.done)return p.value;var h=s(i,RegExp),v=i.unicode,m=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(y?"g":"y"),b=new h(y?"^(?:"+i.source+")":i,m),E=void 0===o?w:o>>>0;if(0===E)return[];if(0===f.length)return null===d(b,f)?[f]:[];for(var S=0,A=0,x=[];A<f.length;){b.lastIndex=y?0:A;var C,_=d(b,y?f.slice(A):f);if(null===_||(C=g(u(b.lastIndex+(y?A:0)),f.length))===S)A=c(f,A,v);else{if(x.push(f.slice(S,A)),x.length===E)return x;for(var k=1;k<=_.length-1;k++)if(x.push(_[k]),x.length===E)return x;A=S=C}}return x.push(f.slice(S)),x}]}),!!h((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),y)},3210:(e,t,r)=>{"use strict";var n=r(2109),o=r(3111).trim;n({target:"String",proto:!0,forced:r(6091)("trim")},{trim:function(){return o(this)}})},2990:(e,t,r)=>{"use strict";var n=r(260),o=r(1048),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",(function(e,t){return o.call(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},8927:(e,t,r)=>{"use strict";var n=r(260),o=r(2092).every,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3105:(e,t,r)=>{"use strict";var n=r(260),o=r(1285),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",(function(e){return o.apply(a(this),arguments)}))},5035:(e,t,r)=>{"use strict";var n=r(260),o=r(2092).filter,a=r(3074),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",(function(e){var t=o(i(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},7174:(e,t,r)=>{"use strict";var n=r(260),o=r(2092).findIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},4345:(e,t,r)=>{"use strict";var n=r(260),o=r(2092).find,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},2846:(e,t,r)=>{"use strict";var n=r(260),o=r(2092).forEach,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(e){o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},4731:(e,t,r)=>{"use strict";var n=r(260),o=r(1318).includes,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},7209:(e,t,r)=>{"use strict";var n=r(260),o=r(1318).indexOf,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},6319:(e,t,r)=>{"use strict";var n=r(7854),o=r(260),a=r(6992),i=r(5112)("iterator"),s=n.Uint8Array,c=a.values,u=a.keys,l=a.entries,d=o.aTypedArray,f=o.exportTypedArrayMethod,p=s&&s.prototype[i],h=!!p&&("values"==p.name||null==p.name),y=function(){return c.call(d(this))};f("entries",(function(){return l.call(d(this))})),f("keys",(function(){return u.call(d(this))})),f("values",y,!h),f(i,y,!h)},8867:(e,t,r)=>{"use strict";var n=r(260),o=n.aTypedArray,a=n.exportTypedArrayMethod,i=[].join;a("join",(function(e){return i.apply(o(this),arguments)}))},7789:(e,t,r)=>{"use strict";var n=r(260),o=r(6583),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(e){return o.apply(a(this),arguments)}))},3739:(e,t,r)=>{"use strict";var n=r(260),o=r(2092).map,a=r(6304),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("map",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},4483:(e,t,r)=>{"use strict";var n=r(260),o=r(3671).right,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(e){return o(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},9368:(e,t,r)=>{"use strict";var n=r(260),o=r(3671).left,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(e){return o(a(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2056:(e,t,r)=>{"use strict";var n=r(260),o=n.aTypedArray,a=n.exportTypedArrayMethod,i=Math.floor;a("reverse",(function(){for(var e,t=this,r=o(t).length,n=i(r/2),a=0;a<n;)e=t[a],t[a++]=t[--r],t[r]=e;return t}))},3462:(e,t,r)=>{"use strict";var n=r(260),o=r(7466),a=r(4590),i=r(7908),s=r(7293),c=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",(function(e){c(this);var t=a(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=i(e),s=o(n.length),u=0;if(s+t>r)throw RangeError("Wrong length");for(;u<s;)this[t+u]=n[u++]}),s((function(){new Int8Array(1).set({})})))},678:(e,t,r)=>{"use strict";var n=r(260),o=r(6304),a=r(7293),i=n.aTypedArray,s=n.exportTypedArrayMethod,c=[].slice;s("slice",(function(e,t){for(var r=c.call(i(this),e,t),n=o(this),a=0,s=r.length,u=new n(s);s>a;)u[a]=r[a++];return u}),a((function(){new Int8Array(1).slice()})))},7462:(e,t,r)=>{"use strict";var n=r(260),o=r(2092).some,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3824:(e,t,r)=>{"use strict";var n=r(260),o=r(7854),a=r(7293),i=r(3099),s=r(7466),c=r(4362),u=r(8886),l=r(256),d=r(7392),f=r(8008),p=n.aTypedArray,h=n.exportTypedArrayMethod,y=o.Uint16Array,v=y&&y.prototype.sort,g=!!v&&!a((function(){var e=new y(2);e.sort(null),e.sort({})})),w=!!v&&!a((function(){if(d)return d<74;if(u)return u<67;if(l)return!0;if(f)return f<602;var e,t,r=new y(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(r.sort((function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));h("sort",(function(e){var t=this;if(void 0!==e&&i(e),w)return v.call(t,e);p(t);var r,n=s(t.length),o=Array(n);for(r=0;r<n;r++)o[r]=t[r];for(o=c(t,function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e)),r=0;r<n;r++)t[r]=o[r];return t}),!w||g)},5021:(e,t,r)=>{"use strict";var n=r(260),o=r(7466),a=r(1400),i=r(6304),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(e,t){var r=s(this),n=r.length,c=a(e,n);return new(i(r))(r.buffer,r.byteOffset+c*r.BYTES_PER_ELEMENT,o((void 0===t?n:a(t,n))-c))}))},2974:(e,t,r)=>{"use strict";var n=r(7854),o=r(260),a=r(7293),i=n.Int8Array,s=o.aTypedArray,c=o.exportTypedArrayMethod,u=[].toLocaleString,l=[].slice,d=!!i&&a((function(){u.call(new i(1))}));c("toLocaleString",(function(){return u.apply(d?l.call(s(this)):s(this),arguments)}),a((function(){return[1,2].toLocaleString()!=new i([1,2]).toLocaleString()}))||!a((function(){i.prototype.toLocaleString.call([1,2])})))},5016:(e,t,r)=>{"use strict";var n=r(260).exportTypedArrayMethod,o=r(7293),a=r(7854).Uint8Array,i=a&&a.prototype||{},s=[].toString,c=[].join;o((function(){s.call({})}))&&(s=function(){return c.call(this)});var u=i.toString!=s;n("toString",s,u)},2472:(e,t,r)=>{r(9843)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},4747:(e,t,r)=>{var n=r(7854),o=r(8324),a=r(8509),i=r(8533),s=r(8880),c=function(e){if(e&&e.forEach!==i)try{s(e,"forEach",i)}catch(t){e.forEach=i}};for(var u in o)c(n[u]&&n[u].prototype);c(a)},3948:(e,t,r)=>{var n=r(7854),o=r(8324),a=r(8509),i=r(6992),s=r(8880),c=r(5112),u=c("iterator"),l=c("toStringTag"),d=i.values,f=function(e,t){if(e){if(e[u]!==d)try{s(e,u,d)}catch(t){e[u]=d}if(e[l]||s(e,l,t),o[t])for(var r in i)if(e[r]!==i[r])try{s(e,r,i[r])}catch(t){e[r]=i[r]}}};for(var p in o)f(n[p]&&n[p].prototype,p);f(a,"DOMTokenList")},1637:(e,t,r)=>{"use strict";r(6992);var n=r(2109),o=r(5005),a=r(590),i=r(1320),s=r(2248),c=r(8003),u=r(4994),l=r(9909),d=r(5787),f=r(6656),p=r(9974),h=r(648),y=r(9670),v=r(111),g=r(1340),w=r(30),m=r(9114),b=r(8554),E=r(1246),S=r(5112),A=o("fetch"),x=o("Request"),C=x&&x.prototype,_=o("Headers"),k=S("iterator"),P="URLSearchParams",T="URLSearchParamsIterator",R=l.set,I=l.getterFor(P),O=l.getterFor(T),J=/\+/g,W=Array(4),H=function(e){return W[e-1]||(W[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},U=function(e){try{return decodeURIComponent(e)}catch(t){return e}},K=function(e){var t=e.replace(J," "),r=4;try{return decodeURIComponent(t)}catch(e){for(;r;)t=t.replace(H(r--),U);return t}},j=/[!'()~]|%20/g,M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},D=function(e){return M[e]},F=function(e){return encodeURIComponent(e).replace(j,D)},N=function(e,t){if(t)for(var r,n,o=t.split("&"),a=0;a<o.length;)(r=o[a++]).length&&(n=r.split("="),e.push({key:K(n.shift()),value:K(n.join("="))}))},L=function(e){this.entries.length=0,N(this.entries,e)},B=function(e,t){if(e<t)throw TypeError("Not enough arguments")},G=u((function(e,t){R(this,{type:T,iterator:b(I(e).entries),kind:t})}),"Iterator",(function(){var e=O(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),V=function(){d(this,V,P);var e,t,r,n,o,a,i,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,p=[];if(R(l,{type:P,entries:p,updateURL:function(){},updateSearchParams:L}),void 0!==u)if(v(u))if("function"==typeof(e=E(u)))for(r=(t=b(u,e)).next;!(n=r.call(t)).done;){if((i=(a=(o=b(y(n.value))).next).call(o)).done||(s=a.call(o)).done||!a.call(o).done)throw TypeError("Expected sequence with length 2");p.push({key:g(i.value),value:g(s.value)})}else for(c in u)f(u,c)&&p.push({key:c,value:g(u[c])});else N(p,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:g(u))},q=V.prototype;if(s(q,{append:function(e,t){B(arguments.length,2);var r=I(this);r.entries.push({key:g(e),value:g(t)}),r.updateURL()},delete:function(e){B(arguments.length,1);for(var t=I(this),r=t.entries,n=g(e),o=0;o<r.length;)r[o].key===n?r.splice(o,1):o++;t.updateURL()},get:function(e){B(arguments.length,1);for(var t=I(this).entries,r=g(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){B(arguments.length,1);for(var t=I(this).entries,r=g(e),n=[],o=0;o<t.length;o++)t[o].key===r&&n.push(t[o].value);return n},has:function(e){B(arguments.length,1);for(var t=I(this).entries,r=g(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){B(arguments.length,1);for(var r,n=I(this),o=n.entries,a=!1,i=g(e),s=g(t),c=0;c<o.length;c++)(r=o[c]).key===i&&(a?o.splice(c--,1):(a=!0,r.value=s));a||o.push({key:i,value:s}),n.updateURL()},sort:function(){var e,t,r,n=I(this),o=n.entries,a=o.slice();for(o.length=0,r=0;r<a.length;r++){for(e=a[r],t=0;t<r;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===r&&o.push(e)}n.updateURL()},forEach:function(e){for(var t,r=I(this).entries,n=p(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<r.length;)n((t=r[o++]).value,t.key,this)},keys:function(){return new G(this,"keys")},values:function(){return new G(this,"values")},entries:function(){return new G(this,"entries")}},{enumerable:!0}),i(q,k,q.entries),i(q,"toString",(function(){for(var e,t=I(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(F(e.key)+"="+F(e.value));return r.join("&")}),{enumerable:!0}),c(V,P),n({global:!0,forced:!a},{URLSearchParams:V}),!a&&"function"==typeof _){var $=function(e){if(v(e)){var t,r=e.body;if(h(r)===P)return(t=e.headers?new _(e.headers):new _).has("content-type")||t.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),w(e,{body:m(0,String(r)),headers:m(0,t)})}return e};if("function"==typeof A&&n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return A(e,arguments.length>1?$(arguments[1]):{})}}),"function"==typeof x){var z=function(e){return d(this,z,"Request"),new x(e,arguments.length>1?$(arguments[1]):{})};C.constructor=z,z.prototype=C,n({global:!0,forced:!0},{Request:z})}}e.exports={URLSearchParams:V,getState:I}},285:(e,t,r)=>{"use strict";r(8783);var n,o=r(2109),a=r(9781),i=r(590),s=r(7854),c=r(6048),u=r(1320),l=r(5787),d=r(6656),f=r(1574),p=r(8457),h=r(8710).codeAt,y=r(3197),v=r(1340),g=r(8003),w=r(1637),m=r(9909),b=s.URL,E=w.URLSearchParams,S=w.getState,A=m.set,x=m.getterFor("URL"),C=Math.floor,_=Math.pow,k="Invalid scheme",P="Invalid host",T="Invalid port",R=/[A-Za-z]/,I=/[\d+-.A-Za-z]/,O=/\d/,J=/^0x/i,W=/^[0-7]+$/,H=/^\d+$/,U=/^[\dA-Fa-f]+$/,K=/[\0\t\n\r #%/:<>?@[\\\]^|]/,j=/[\0\t\n\r #/:<>?@[\\\]^|]/,M=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,D=/[\t\n\r]/g,F=function(e,t){var r,n,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return P;if(!(r=L(t.slice(1,-1))))return P;e.host=r}else if(X(e)){if(t=y(t),K.test(t))return P;if(null===(r=N(t)))return P;e.host=r}else{if(j.test(t))return P;for(r="",n=p(t),o=0;o<n.length;o++)r+=z(n[o],G);e.host=r}},N=function(e){var t,r,n,o,a,i,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(o=c[n]))return e;if(a=10,o.length>1&&"0"==o.charAt(0)&&(a=J.test(o)?16:8,o=o.slice(8==a?1:2)),""===o)i=0;else{if(!(10==a?H:8==a?W:U).test(o))return e;i=parseInt(o,a)}r.push(i)}for(n=0;n<t;n++)if(i=r[n],n==t-1){if(i>=_(256,5-t))return null}else if(i>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*_(256,3-n);return s},L=function(e){var t,r,n,o,a,i,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,d=0,f=function(){return e.charAt(d)};if(":"==f()){if(":"!=e.charAt(1))return;d+=2,l=++u}for(;f();){if(8==u)return;if(":"!=f()){for(t=r=0;r<4&&U.test(f());)t=16*t+parseInt(f(),16),d++,r++;if("."==f()){if(0==r)return;if(d-=r,u>6)return;for(n=0;f();){if(o=null,n>0){if(!("."==f()&&n<4))return;d++}if(!O.test(f()))return;for(;O.test(f());){if(a=parseInt(f(),10),null===o)o=a;else{if(0==o)return;o=10*o+a}if(o>255)return;d++}c[u]=256*c[u]+o,2!=++n&&4!=n||u++}if(4!=n)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;c[u++]=t}else{if(null!==l)return;d++,l=++u}}if(null!==l)for(i=u-l,u=7;0!=u&&i>0;)s=c[u],c[u--]=c[l+i-1],c[l+--i]=s;else if(8!=u)return;return c},B=function(e){var t,r,n,o;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=C(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,o=0,a=0;a<8;a++)0!==e[a]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=a),++o);return o>r&&(t=n,r=o),t}(e),r=0;r<8;r++)o&&0===e[r]||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},G={},V=f({},G,{" ":1,'"':1,"<":1,">":1,"`":1}),q=f({},V,{"#":1,"?":1,"{":1,"}":1}),$=f({},q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),z=function(e,t){var r=h(e,0);return r>32&&r<127&&!d(t,e)?e:encodeURIComponent(e)},Y={ftp:21,file:null,http:80,https:443,ws:80,wss:443},X=function(e){return d(Y,e.scheme)},Z=function(e){return""!=e.username||""!=e.password},Q=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},ee=function(e,t){var r;return 2==e.length&&R.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},te=function(e){var t;return e.length>1&&ee(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&ee(t[0],!0)||t.pop()},ne=function(e){return"."===e||"%2e"===e.toLowerCase()},oe={},ae={},ie={},se={},ce={},ue={},le={},de={},fe={},pe={},he={},ye={},ve={},ge={},we={},me={},be={},Ee={},Se={},Ae={},xe={},Ce=function(e,t,r,o){var a,i,s,c,u,l=r||oe,f=0,h="",y=!1,v=!1,g=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(M,"")),t=t.replace(D,""),a=p(t);f<=a.length;){switch(i=a[f],l){case oe:if(!i||!R.test(i)){if(r)return k;l=ie;continue}h+=i.toLowerCase(),l=ae;break;case ae:if(i&&(I.test(i)||"+"==i||"-"==i||"."==i))h+=i.toLowerCase();else{if(":"!=i){if(r)return k;h="",l=ie,f=0;continue}if(r&&(X(e)!=d(Y,h)||"file"==h&&(Z(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,r)return void(X(e)&&Y[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?l=ge:X(e)&&o&&o.scheme==e.scheme?l=se:X(e)?l=de:"/"==a[f+1]?(l=ce,f++):(e.cannotBeABaseURL=!0,e.path.push(""),l=Se)}break;case ie:if(!o||o.cannotBeABaseURL&&"#"!=i)return k;if(o.cannotBeABaseURL&&"#"==i){e.scheme=o.scheme,e.path=o.path.slice(),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,l=xe;break}l="file"==o.scheme?ge:ue;continue;case se:if("/"!=i||"/"!=a[f+1]){l=ue;continue}l=fe,f++;break;case ce:if("/"==i){l=pe;break}l=Ee;continue;case ue:if(e.scheme=o.scheme,i==n)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query;else if("/"==i||"\\"==i&&X(e))l=le;else if("?"==i)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query="",l=Ae;else{if("#"!=i){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.path.pop(),l=Ee;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=xe}break;case le:if(!X(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,l=Ee;continue}l=pe}else l=fe;break;case de:if(l=fe,"/"!=i||"/"!=h.charAt(f+1))continue;f++;break;case fe:if("/"!=i&&"\\"!=i){l=pe;continue}break;case pe:if("@"==i){y&&(h="%40"+h),y=!0,s=p(h);for(var w=0;w<s.length;w++){var m=s[w];if(":"!=m||g){var b=z(m,$);g?e.password+=b:e.username+=b}else g=!0}h=""}else if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&X(e)){if(y&&""==h)return"Invalid authority";f-=p(h).length+1,h="",l=he}else h+=i;break;case he:case ye:if(r&&"file"==e.scheme){l=me;continue}if(":"!=i||v){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&X(e)){if(X(e)&&""==h)return P;if(r&&""==h&&(Z(e)||null!==e.port))return;if(c=F(e,h))return c;if(h="",l=be,r)return;continue}"["==i?v=!0:"]"==i&&(v=!1),h+=i}else{if(""==h)return P;if(c=F(e,h))return c;if(h="",l=ve,r==ye)return}break;case ve:if(!O.test(i)){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&X(e)||r){if(""!=h){var E=parseInt(h,10);if(E>65535)return T;e.port=X(e)&&E===Y[e.scheme]?null:E,h=""}if(r)return;l=be;continue}return T}h+=i;break;case ge:if(e.scheme="file","/"==i||"\\"==i)l=we;else{if(!o||"file"!=o.scheme){l=Ee;continue}if(i==n)e.host=o.host,e.path=o.path.slice(),e.query=o.query;else if("?"==i)e.host=o.host,e.path=o.path.slice(),e.query="",l=Ae;else{if("#"!=i){te(a.slice(f).join(""))||(e.host=o.host,e.path=o.path.slice(),re(e)),l=Ee;continue}e.host=o.host,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=xe}}break;case we:if("/"==i||"\\"==i){l=me;break}o&&"file"==o.scheme&&!te(a.slice(f).join(""))&&(ee(o.path[0],!0)?e.path.push(o.path[0]):e.host=o.host),l=Ee;continue;case me:if(i==n||"/"==i||"\\"==i||"?"==i||"#"==i){if(!r&&ee(h))l=Ee;else if(""==h){if(e.host="",r)return;l=be}else{if(c=F(e,h))return c;if("localhost"==e.host&&(e.host=""),r)return;h="",l=be}continue}h+=i;break;case be:if(X(e)){if(l=Ee,"/"!=i&&"\\"!=i)continue}else if(r||"?"!=i)if(r||"#"!=i){if(i!=n&&(l=Ee,"/"!=i))continue}else e.fragment="",l=xe;else e.query="",l=Ae;break;case Ee:if(i==n||"/"==i||"\\"==i&&X(e)||!r&&("?"==i||"#"==i)){if(".."===(u=(u=h).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(re(e),"/"==i||"\\"==i&&X(e)||e.path.push("")):ne(h)?"/"==i||"\\"==i&&X(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&ee(h)&&(e.host&&(e.host=""),h=h.charAt(0)+":"),e.path.push(h)),h="","file"==e.scheme&&(i==n||"?"==i||"#"==i))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==i?(e.query="",l=Ae):"#"==i&&(e.fragment="",l=xe)}else h+=z(i,q);break;case Se:"?"==i?(e.query="",l=Ae):"#"==i?(e.fragment="",l=xe):i!=n&&(e.path[0]+=z(i,G));break;case Ae:r||"#"!=i?i!=n&&("'"==i&&X(e)?e.query+="%27":e.query+="#"==i?"%23":z(i,G)):(e.fragment="",l=xe);break;case xe:i!=n&&(e.fragment+=z(i,V))}f++}},_e=function(e){var t,r,n=l(this,_e,"URL"),o=arguments.length>1?arguments[1]:void 0,i=v(e),s=A(n,{type:"URL"});if(void 0!==o)if(o instanceof _e)t=x(o);else if(r=Ce(t={},v(o)))throw TypeError(r);if(r=Ce(s,i,null,t))throw TypeError(r);var c=s.searchParams=new E,u=S(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},a||(n.href=Pe.call(n),n.origin=Te.call(n),n.protocol=Re.call(n),n.username=Ie.call(n),n.password=Oe.call(n),n.host=Je.call(n),n.hostname=We.call(n),n.port=He.call(n),n.pathname=Ue.call(n),n.search=Ke.call(n),n.searchParams=je.call(n),n.hash=Me.call(n))},ke=_e.prototype,Pe=function(){var e=x(this),t=e.scheme,r=e.username,n=e.password,o=e.host,a=e.port,i=e.path,s=e.query,c=e.fragment,u=t+":";return null!==o?(u+="//",Z(e)&&(u+=r+(n?":"+n:"")+"@"),u+=B(o),null!==a&&(u+=":"+a)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?i[0]:i.length?"/"+i.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},Te=function(){var e=x(this),t=e.scheme,r=e.port;if("blob"==t)try{return new _e(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&X(e)?t+"://"+B(e.host)+(null!==r?":"+r:""):"null"},Re=function(){return x(this).scheme+":"},Ie=function(){return x(this).username},Oe=function(){return x(this).password},Je=function(){var e=x(this),t=e.host,r=e.port;return null===t?"":null===r?B(t):B(t)+":"+r},We=function(){var e=x(this).host;return null===e?"":B(e)},He=function(){var e=x(this).port;return null===e?"":String(e)},Ue=function(){var e=x(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ke=function(){var e=x(this).query;return e?"?"+e:""},je=function(){return x(this).searchParams},Me=function(){var e=x(this).fragment;return e?"#"+e:""},De=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&c(ke,{href:De(Pe,(function(e){var t=x(this),r=v(e),n=Ce(t,r);if(n)throw TypeError(n);S(t.searchParams).updateSearchParams(t.query)})),origin:De(Te),protocol:De(Re,(function(e){var t=x(this);Ce(t,v(e)+":",oe)})),username:De(Ie,(function(e){var t=x(this),r=p(v(e));if(!Q(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=z(r[n],$)}})),password:De(Oe,(function(e){var t=x(this),r=p(v(e));if(!Q(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=z(r[n],$)}})),host:De(Je,(function(e){var t=x(this);t.cannotBeABaseURL||Ce(t,v(e),he)})),hostname:De(We,(function(e){var t=x(this);t.cannotBeABaseURL||Ce(t,v(e),ye)})),port:De(He,(function(e){var t=x(this);Q(t)||(""==(e=v(e))?t.port=null:Ce(t,e,ve))})),pathname:De(Ue,(function(e){var t=x(this);t.cannotBeABaseURL||(t.path=[],Ce(t,v(e),be))})),search:De(Ke,(function(e){var t=x(this);""==(e=v(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ce(t,e,Ae)),S(t.searchParams).updateSearchParams(t.query)})),searchParams:De(je),hash:De(Me,(function(e){var t=x(this);""!=(e=v(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ce(t,e,xe)):t.fragment=null}))}),u(ke,"toJSON",(function(){return Pe.call(this)}),{enumerable:!0}),u(ke,"toString",(function(){return Pe.call(this)}),{enumerable:!0}),b){var Fe=b.createObjectURL,Ne=b.revokeObjectURL;Fe&&u(_e,"createObjectURL",(function(e){return Fe.apply(b,arguments)})),Ne&&u(_e,"revokeObjectURL",(function(e){return Ne.apply(b,arguments)}))}g(_e,"URL"),o({global:!0,forced:!i,sham:!a},{URL:_e})},3753:(e,t,r)=>{"use strict";r(2109)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},4098:function(e,t){var r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,i="ArrayBuffer"in e;if(i)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function y(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&o&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=h(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=l(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),d(e)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){var r,n,o=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),w.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},g.call(m.prototype),g.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];E.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function A(e,r){return new Promise((function(n,a){var i=new m(e,r);if(i.signal&&i.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,r={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;n(new E(o,r))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&o&&(s.responseType="blob"),i.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&i.signal.removeEventListener("abort",c)}),s.send(void 0===i._bodyInit?null:i._bodyInit)}))}A.polyfill=!0,e.fetch||(e.fetch=A,e.Headers=f,e.Request=m,e.Response=E),t.Headers=f,t.Request=m,t.Response=E,t.fetch=A,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},7824:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,i){i=i||{};var s,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var i=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*o;case"hours":case"hour":case"hrs":case"hr":case"h":return i*n;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===u&&isFinite(e))return i.long?(s=e,(c=Math.abs(s))>=o?a(s,c,o,"day"):c>=n?a(s,c,n,"hour"):c>=r?a(s,c,r,"minute"):c>=t?a(s,c,t,"second"):s+" ms"):function(e){var a=Math.abs(e);return a>=o?Math.round(e/o)+"d":a>=n?Math.round(e/n)+"h":a>=r?Math.round(e/r)+"m":a>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},5666:e=>{var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new P(n||[]);return a._invoke=function(e,t,r){var n=d;return function(o,a){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw a;return R()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var c=l(e,t,r);if("normal"===c.type){if(n=r.done?h:f,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=h,r.method="throw",r.arg=c.arg)}}}(e,r,i),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function w(){}var m={};c(m,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(T([])));E&&E!==r&&n.call(E,a)&&(m=E);var S=w.prototype=v.prototype=Object.create(m);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,a,i,s){var c=l(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var o;this._invoke=function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}}function C(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,C(e,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:R}}function R(){return{value:t,done:!0}}return g.prototype=w,c(S,"constructor",w),c(w,"constructor",g),g.displayName=c(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},A(x.prototype),c(x.prototype,i,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new x(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(S),c(S,s,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},7277:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CompactEncrypt:()=>f.CompactEncrypt,CompactSign:()=>h.CompactSign,EmbeddedJWK:()=>b.EmbeddedJWK,EncryptJWT:()=>w.EncryptJWT,FlattenedEncrypt:()=>p.FlattenedEncrypt,FlattenedSign:()=>y.FlattenedSign,GeneralEncrypt:()=>i.GeneralEncrypt,GeneralSign:()=>v.GeneralSign,SignJWT:()=>g.SignJWT,UnsecuredJWT:()=>A.UnsecuredJWT,base64url:()=>I,calculateJwkThumbprint:()=>m.calculateJwkThumbprint,compactDecrypt:()=>n.compactDecrypt,compactVerify:()=>s.compactVerify,createLocalJWKSet:()=>E.createLocalJWKSet,createRemoteJWKSet:()=>S.createRemoteJWKSet,decodeJwt:()=>k.decodeJwt,decodeProtectedHeader:()=>_.decodeProtectedHeader,errors:()=>P,exportJWK:()=>x.exportJWK,exportPKCS8:()=>x.exportPKCS8,exportSPKI:()=>x.exportSPKI,flattenedDecrypt:()=>o.flattenedDecrypt,flattenedVerify:()=>c.flattenedVerify,generalDecrypt:()=>a.generalDecrypt,generalVerify:()=>u.generalVerify,generateKeyPair:()=>T.generateKeyPair,generateSecret:()=>R.generateSecret,importJWK:()=>C.importJWK,importPKCS8:()=>C.importPKCS8,importSPKI:()=>C.importSPKI,importX509:()=>C.importX509,jwtDecrypt:()=>d.jwtDecrypt,jwtVerify:()=>l.jwtVerify});var n=r(8920),o=r(8115),a=r(8982),i=r(5063),s=r(7309),c=r(8170),u=r(6257),l=r(5540),d=r(8112),f=r(2398),p=r(975),h=r(5326),y=r(9307),v=r(2310),g=r(3433),w=r(6125),m=r(814),b=r(2376),E=r(8464),S=r(9746),A=r(7770),x=r(2531),C=r(1503),_=r(3878),k=r(7879),P=r(8842),T=r(3619),R=r(2125),I=r(6001)},8920:(e,t,r)=>{"use strict";r.d(t,{compactDecrypt:()=>i});var n=r(8115),o=r(8842),a=r(1538);async function i(e,t,r){if(e instanceof Uint8Array&&(e=a.decoder.decode(e)),"string"!=typeof e)throw new o.JWEInvalid("Compact JWE must be a string or Uint8Array");const{0:i,1:s,2:c,3:u,4:l,length:d}=e.split(".");if(5!==d)throw new o.JWEInvalid("Invalid Compact JWE");const f=await(0,n.flattenedDecrypt)({ciphertext:u,iv:c||void 0,protected:i||void 0,tag:l||void 0,encrypted_key:s||void 0},t,r),p={plaintext:f.plaintext,protectedHeader:f.protectedHeader};return"function"==typeof t?{...p,key:f.key}:p}},2398:(e,t,r)=>{"use strict";r.d(t,{CompactEncrypt:()=>o});var n=r(975);class o{constructor(e){this._flattened=new n.FlattenedEncrypt(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){const r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}},8115:(e,t,r)=>{"use strict";r.d(t,{flattenedDecrypt:()=>h});var n=r(9166),o=r(5790),a=r(5515),i=r(8842),s=r(2085),c=r(2674),u=r(813),l=r(1538),d=r(1002),f=r(3406),p=r(5154);async function h(e,t,r){var h;if(!(0,c.default)(e))throw new i.JWEInvalid("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new i.JWEInvalid("JOSE Header missing");if("string"!=typeof e.iv)throw new i.JWEInvalid("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new i.JWEInvalid("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new i.JWEInvalid("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new i.JWEInvalid("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new i.JWEInvalid("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new i.JWEInvalid("JWE AAD incorrect type");if(void 0!==e.header&&!(0,c.default)(e.header))throw new i.JWEInvalid("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!(0,c.default)(e.unprotected))throw new i.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");let y;if(e.protected){const t=(0,n.decode)(e.protected);try{y=JSON.parse(l.decoder.decode(t))}catch(e){throw new i.JWEInvalid("JWE Protected Header is invalid")}}if(!(0,s.default)(y,e.header,e.unprotected))throw new i.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const v={...y,...e.header,...e.unprotected};if((0,f.default)(i.JWEInvalid,new Map,null==r?void 0:r.crit,y,v),void 0!==v.zip){if(!y||!y.zip)throw new i.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==v.zip)throw new i.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:g,enc:w}=v;if("string"!=typeof g||!g)throw new i.JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof w||!w)throw new i.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");const m=r&&(0,p.default)("keyManagementAlgorithms",r.keyManagementAlgorithms),b=r&&(0,p.default)("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(m&&!m.has(g))throw new i.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(b&&!b.has(w))throw new i.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');let E;void 0!==e.encrypted_key&&(E=(0,n.decode)(e.encrypted_key));let S,A=!1;"function"==typeof t&&(t=await t(y,e),A=!0);try{S=await(0,u.default)(g,t,E,v)}catch(e){if(e instanceof TypeError)throw e;S=(0,d.default)(w)}const x=(0,n.decode)(e.iv),C=(0,n.decode)(e.tag),_=l.encoder.encode(null!==(h=e.protected)&&void 0!==h?h:"");let k;k=void 0!==e.aad?(0,l.concat)(_,l.encoder.encode("."),l.encoder.encode(e.aad)):_;let P=await(0,o.default)(w,S,(0,n.decode)(e.ciphertext),x,C,k);"DEF"===v.zip&&(P=await((null==r?void 0:r.inflateRaw)||a.inflate)(P));const T={plaintext:P};return void 0!==e.protected&&(T.protectedHeader=y),void 0!==e.aad&&(T.additionalAuthenticatedData=(0,n.decode)(e.aad)),void 0!==e.unprotected&&(T.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(T.unprotectedHeader=e.header),A?{...T,key:t}:T}},975:(e,t,r)=>{"use strict";r.d(t,{FlattenedEncrypt:()=>p,unprotected:()=>f});var n=r(9166),o=r(1088),a=r(5515),i=r(8948),s=r(8751),c=r(8842),u=r(2085),l=r(1538),d=r(3406);const f=Symbol();class p{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new c.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0,u.default)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new c.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if((0,d.default)(c.JWEInvalid,new Map,null==t?void 0:t.crit,this._protectedHeader,r),void 0!==r.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new c.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==r.zip)throw new c.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:p,enc:h}=r;if("string"!=typeof p||!p)throw new c.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof h||!h)throw new c.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let y,v,g,w,m,b,E;if("dir"===p){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===p&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let r;({cek:v,encryptedKey:y,parameters:r}=await(0,s.default)(p,h,e,this._cek,this._keyManagementParameters)),r&&(t&&f in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...r}:this.setUnprotectedHeader(r):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...r}:this.setProtectedHeader(r))}if(this._iv||(this._iv=(0,i.default)(h)),w=this._protectedHeader?l.encoder.encode((0,n.encode)(JSON.stringify(this._protectedHeader))):l.encoder.encode(""),this._aad?(m=(0,n.encode)(this._aad),g=(0,l.concat)(w,l.encoder.encode("."),l.encoder.encode(m))):g=w,"DEF"===r.zip){const e=await((null==t?void 0:t.deflateRaw)||a.deflate)(this._plaintext);({ciphertext:b,tag:E}=await(0,o.default)(h,e,v,this._iv,g))}else({ciphertext:b,tag:E}=await(0,o.default)(h,this._plaintext,v,this._iv,g));const S={ciphertext:(0,n.encode)(b),iv:(0,n.encode)(this._iv),tag:(0,n.encode)(E)};return y&&(S.encrypted_key=(0,n.encode)(y)),m&&(S.aad=m),this._protectedHeader&&(S.protected=l.decoder.decode(w)),this._sharedUnprotectedHeader&&(S.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(S.header=this._unprotectedHeader),S}}},8982:(e,t,r)=>{"use strict";r.d(t,{generalDecrypt:()=>i});var n=r(8115),o=r(8842),a=r(2674);async function i(e,t,r){if(!(0,a.default)(e))throw new o.JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(a.default))throw new o.JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new o.JWEInvalid("JWE Recipients has no members");for(const o of e.recipients)try{return await(0,n.flattenedDecrypt)({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:o.encrypted_key,header:o.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch(e){}throw new o.JWEDecryptionFailed}},5063:(e,t,r)=>{"use strict";r.d(t,{GeneralEncrypt:()=>d});var n=r(975),o=r(8842),a=r(1002),i=r(2085),s=r(8751),c=r(9166),u=r(3406);class l{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}class d{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){const r=new l(this,e,{crit:null==t?void 0:t.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,r,l;if(!this._recipients.length)throw new o.JWEInvalid("at least one recipient must be added");if(e={deflateRaw:null==e?void 0:e.deflateRaw},1===this._recipients.length){const[t]=this._recipients,r=await new n.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e});let o={ciphertext:r.ciphertext,iv:r.iv,recipients:[{}],tag:r.tag};return r.aad&&(o.aad=r.aad),r.protected&&(o.protected=r.protected),r.unprotected&&(o.unprotected=r.unprotected),r.encrypted_key&&(o.recipients[0].encrypted_key=r.encrypted_key),r.header&&(o.recipients[0].header=r.header),o}let d;for(let e=0;e<this._recipients.length;e++){const t=this._recipients[e];if(!(0,i.default)(this._protectedHeader,this._unprotectedHeader,t.unprotectedHeader))throw new o.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader,...t.unprotectedHeader},{alg:n}=r;if("string"!=typeof n||!n)throw new o.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===n||"ECDH-ES"===n)throw new o.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof r.enc||!r.enc)throw new o.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(d){if(d!==r.enc)throw new o.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else d=r.enc;if((0,u.default)(o.JWEInvalid,new Map,t.options.crit,this._protectedHeader,r),!(void 0===r.zip||this._protectedHeader&&this._protectedHeader.zip))throw new o.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}const f=(0,a.default)(d);let p={ciphertext:"",iv:"",recipients:[],tag:""};for(let o=0;o<this._recipients.length;o++){const a=this._recipients[o],i={};p.recipients.push(i);const u={...this._protectedHeader,...this._unprotectedHeader,...a.unprotectedHeader}.alg.startsWith("PBES2")?2048+o:void 0;if(0===o){const t=await new n.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(f).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(a.unprotectedHeader).setKeyManagementParameters({p2c:u}).encrypt(a.key,{...a.options,...e,[n.unprotected]:!0});p.ciphertext=t.ciphertext,p.iv=t.iv,p.tag=t.tag,t.aad&&(p.aad=t.aad),t.protected&&(p.protected=t.protected),t.unprotected&&(p.unprotected=t.unprotected),i.encrypted_key=t.encrypted_key,t.header&&(i.header=t.header);continue}const{encryptedKey:h,parameters:y}=await(0,s.default)((null===(t=a.unprotectedHeader)||void 0===t?void 0:t.alg)||(null===(r=this._protectedHeader)||void 0===r?void 0:r.alg)||(null===(l=this._unprotectedHeader)||void 0===l?void 0:l.alg),d,a.key,f,{p2c:u});i.encrypted_key=(0,c.encode)(h),(a.unprotectedHeader||y)&&(i.header={...a.unprotectedHeader,...y})}return p}}},2376:(e,t,r)=>{"use strict";r.d(t,{EmbeddedJWK:()=>i});var n=r(1503),o=r(2674),a=r(8842);async function i(e,t){const r={...e,...t.header};if(!(0,o.default)(r.jwk))throw new a.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const i=await(0,n.importJWK)({...r.jwk,ext:!0},r.alg,!0);if(i instanceof Uint8Array||"public"!==i.type)throw new a.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return i}},814:(e,t,r)=>{"use strict";r.d(t,{calculateJwkThumbprint:()=>u});var n=r(183),o=r(9166),a=r(8842),i=r(1538),s=r(2674);const c=(e,t)=>{if("string"!=typeof e||!e)throw new a.JWKInvalid(`${t} missing or invalid`)};async function u(e,t="sha256"){if(!(0,s.default)(e))throw new TypeError("JWK must be an object");if("sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let r;switch(e.kty){case"EC":c(e.crv,'"crv" (Curve) Parameter'),c(e.x,'"x" (X Coordinate) Parameter'),c(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":c(e.crv,'"crv" (Subtype of Key Pair) Parameter'),c(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":c(e.e,'"e" (Exponent) Parameter'),c(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":c(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new a.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}const u=i.encoder.encode(JSON.stringify(r));return(0,o.encode)(await(0,n.default)(t,u))}},8464:(e,t,r)=>{"use strict";r.d(t,{LocalJWKSet:()=>c,createLocalJWKSet:()=>u,isJWKSLike:()=>i});var n=r(1503),o=r(8842),a=r(2674);function i(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(s)}function s(e){return(0,a.default)(e)}class c{constructor(e){if(this._cached=new WeakMap,!i(e))throw new o.JWKSInvalid("JSON Web Key Set malformed");var t;this._jwks=(t=e,"function"==typeof structuredClone?structuredClone(t):JSON.parse(JSON.stringify(t)))}async getKey(e,t){const{alg:r,kid:a}={...e,...t.header},i=this._jwks.keys.filter((e=>{let t=e.kty===function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new o.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}(r);if(t&&"string"==typeof a&&(t=a===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t})),{0:s,length:c}=i;if(0===c)throw new o.JWKSNoMatchingKey;if(1!==c)throw new o.JWKSMultipleMatchingKeys;const u=this._cached.get(s)||this._cached.set(s,{}).get(s);if(void 0===u[r]){const e=await(0,n.importJWK)({...s,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new o.JWKSInvalid("JSON Web Key Set members must be public keys");u[r]=e}return u[r]}}function u(e){return c.prototype.getKey.bind(new c(e))}},9746:(e,t,r)=>{"use strict";r.d(t,{createRemoteJWKSet:()=>c});var n=r(6931),o=r(286),a=r(8842),i=r(8464);class s extends i.LocalJWKSet{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4}coolingDown(){return!!this._cooldownStarted&&Date.now()<this._cooldownStarted+this._cooldownDuration}async getKey(e,t){this._jwks||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof a.JWKSNoMatchingKey&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){if(this._pendingFetch&&(0,o.isCloudflareWorkers)())return new Promise((e=>{const t=()=>{void 0===this._pendingFetch?e():setTimeout(t,5)};t()}));this._pendingFetch||(this._pendingFetch=(0,n.default)(this._url,this._timeoutDuration,this._options).then((e=>{if(!(0,i.isJWKSLike)(e))throw new a.JWKSInvalid("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._cooldownStarted=Date.now(),this._pendingFetch=void 0})).catch((e=>{throw this._pendingFetch=void 0,e}))),await this._pendingFetch}}function c(e,t){return s.prototype.getKey.bind(new s(e,t))}},5326:(e,t,r)=>{"use strict";r.d(t,{CompactSign:()=>o});var n=r(9307);class o{constructor(e){this._flattened=new n.FlattenedSign(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){const r=await this._flattened.sign(e,t);if(void 0===r.payload)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}},7309:(e,t,r)=>{"use strict";r.d(t,{compactVerify:()=>i});var n=r(8170),o=r(8842),a=r(1538);async function i(e,t,r){if(e instanceof Uint8Array&&(e=a.decoder.decode(e)),"string"!=typeof e)throw new o.JWSInvalid("Compact JWS must be a string or Uint8Array");const{0:i,1:s,2:c,length:u}=e.split(".");if(3!==u)throw new o.JWSInvalid("Invalid Compact JWS");const l=await(0,n.flattenedVerify)({payload:s,protected:i,signature:c},t,r),d={payload:l.payload,protectedHeader:l.protectedHeader};return"function"==typeof t?{...d,key:l.key}:d}},9307:(e,t,r)=>{"use strict";r.d(t,{FlattenedSign:()=>l});var n=r(9166),o=r(3736),a=r(2085),i=r(8842),s=r(1538),c=r(2200),u=r(3406);class l{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){if(!this._protectedHeader&&!this._unprotectedHeader)throw new i.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,a.default)(this._protectedHeader,this._unprotectedHeader))throw new i.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader};let l=!0;if((0,u.default)(i.JWSInvalid,new Map([["b64",!0]]),null==t?void 0:t.crit,this._protectedHeader,r).has("b64")&&(l=this._protectedHeader.b64,"boolean"!=typeof l))throw new i.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:d}=r;if("string"!=typeof d||!d)throw new i.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,c.default)(d,e,"sign");let f,p=this._payload;l&&(p=s.encoder.encode((0,n.encode)(p))),f=this._protectedHeader?s.encoder.encode((0,n.encode)(JSON.stringify(this._protectedHeader))):s.encoder.encode("");const h=(0,s.concat)(f,s.encoder.encode("."),p),y=await(0,o.default)(d,e,h),v={signature:(0,n.encode)(y),payload:""};return l&&(v.payload=s.decoder.decode(p)),this._unprotectedHeader&&(v.header=this._unprotectedHeader),this._protectedHeader&&(v.protected=s.decoder.decode(f)),v}}},8170:(e,t,r)=>{"use strict";r.d(t,{flattenedVerify:()=>f});var n=r(9166),o=r(6239),a=r(8842),i=r(1538),s=r(2085),c=r(2674),u=r(2200),l=r(3406),d=r(5154);async function f(e,t,r){var f;if(!(0,c.default)(e))throw new a.JWSInvalid("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new a.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new a.JWSInvalid("JWS Protected Header incorrect type");if(void 0===e.payload)throw new a.JWSInvalid("JWS Payload missing");if("string"!=typeof e.signature)throw new a.JWSInvalid("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,c.default)(e.header))throw new a.JWSInvalid("JWS Unprotected Header incorrect type");let p={};if(e.protected){const t=(0,n.decode)(e.protected);try{p=JSON.parse(i.decoder.decode(t))}catch(e){throw new a.JWSInvalid("JWS Protected Header is invalid")}}if(!(0,s.default)(p,e.header))throw new a.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const h={...p,...e.header};let y=!0;if((0,l.default)(a.JWSInvalid,new Map([["b64",!0]]),null==r?void 0:r.crit,p,h).has("b64")&&(y=p.b64,"boolean"!=typeof y))throw new a.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:v}=h;if("string"!=typeof v||!v)throw new a.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');const g=r&&(0,d.default)("algorithms",r.algorithms);if(g&&!g.has(v))throw new a.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(y){if("string"!=typeof e.payload)throw new a.JWSInvalid("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new a.JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let w=!1;"function"==typeof t&&(t=await t(p,e),w=!0),(0,u.default)(v,t,"verify");const m=(0,i.concat)(i.encoder.encode(null!==(f=e.protected)&&void 0!==f?f:""),i.encoder.encode("."),"string"==typeof e.payload?i.encoder.encode(e.payload):e.payload),b=(0,n.decode)(e.signature);if(!await(0,o.default)(v,t,b,m))throw new a.JWSSignatureVerificationFailed;let E;E=y?(0,n.decode)(e.payload):"string"==typeof e.payload?i.encoder.encode(e.payload):e.payload;const S={payload:E};return void 0!==e.protected&&(S.protectedHeader=p),void 0!==e.header&&(S.unprotectedHeader=e.header),w?{...S,key:t}:S}},2310:(e,t,r)=>{"use strict";r.d(t,{GeneralSign:()=>i});var n=r(9307),o=r(8842);class a{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}class i{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){const r=new a(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new o.JWSInvalid("at least one signature must be added");const e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){const r=this._signatures[t],a=new n.FlattenedSign(this._payload);a.setProtectedHeader(r.protectedHeader),a.setUnprotectedHeader(r.unprotectedHeader);const{payload:i,...s}=await a.sign(r.key,r.options);if(0===t)e.payload=i;else if(e.payload!==i)throw new o.JWSInvalid("inconsistent use of JWS Unencoded Payload Option (RFC7797)");e.signatures.push(s)}return e}}},6257:(e,t,r)=>{"use strict";r.d(t,{generalVerify:()=>i});var n=r(8170),o=r(8842),a=r(2674);async function i(e,t,r){if(!(0,a.default)(e))throw new o.JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(a.default))throw new o.JWSInvalid("JWS Signatures missing or incorrect type");for(const o of e.signatures)try{return await(0,n.flattenedVerify)({header:o.header,payload:e.payload,protected:o.protected,signature:o.signature},t,r)}catch(e){}throw new o.JWSSignatureVerificationFailed}},8112:(e,t,r)=>{"use strict";r.d(t,{jwtDecrypt:()=>i});var n=r(8920),o=r(3358),a=r(8842);async function i(e,t,r){const i=await(0,n.compactDecrypt)(e,t,r),s=(0,o.default)(i.protectedHeader,i.plaintext,r),{protectedHeader:c}=i;if(void 0!==c.iss&&c.iss!==s.iss)throw new a.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==c.sub&&c.sub!==s.sub)throw new a.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==c.aud&&JSON.stringify(c.aud)!==JSON.stringify(s.aud))throw new a.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");const u={payload:s,protectedHeader:c};return"function"==typeof t?{...u,key:i.key}:u}},6125:(e,t,r)=>{"use strict";r.d(t,{EncryptJWT:()=>i});var n=r(2398),o=r(1538),a=r(2579);class i extends a.ProduceJWT{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){const r=new n.CompactEncrypt(o.encoder.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}},2579:(e,t,r)=>{"use strict";r.d(t,{ProduceJWT:()=>i});var n=r(4925),o=r(2674),a=r(7272);class i{constructor(e){if(!(0,o.default)(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return this._payload="number"==typeof e?{...this._payload,nbf:e}:{...this._payload,nbf:(0,n.default)(new Date)+(0,a.default)(e)},this}setExpirationTime(e){return this._payload="number"==typeof e?{...this._payload,exp:e}:{...this._payload,exp:(0,n.default)(new Date)+(0,a.default)(e)},this}setIssuedAt(e){return this._payload=void 0===e?{...this._payload,iat:(0,n.default)(new Date)}:{...this._payload,iat:e},this}}},3433:(e,t,r)=>{"use strict";r.d(t,{SignJWT:()=>s});var n=r(5326),o=r(8842),a=r(1538),i=r(2579);class s extends i.ProduceJWT{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var r;const i=new n.CompactSign(a.encoder.encode(JSON.stringify(this._payload)));if(i.setProtectedHeader(this._protectedHeader),Array.isArray(null===(r=this._protectedHeader)||void 0===r?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new o.JWTInvalid("JWTs MUST NOT use unencoded payload");return i.sign(e,t)}}},7770:(e,t,r)=>{"use strict";r.d(t,{UnsecuredJWT:()=>c});var n=r(9166),o=r(1538),a=r(8842),i=r(3358),s=r(2579);class c extends s.ProduceJWT{encode(){return`${n.encode(JSON.stringify({alg:"none"}))}.${n.encode(JSON.stringify(this._payload))}.`}static decode(e,t){if("string"!=typeof e)throw new a.JWTInvalid("Unsecured JWT must be a string");const{0:r,1:s,2:c,length:u}=e.split(".");if(3!==u||""!==c)throw new a.JWTInvalid("Invalid Unsecured JWT");let l;try{if(l=JSON.parse(o.decoder.decode(n.decode(r))),"none"!==l.alg)throw new Error}catch(e){throw new a.JWTInvalid("Invalid Unsecured JWT")}return{payload:(0,i.default)(l,n.decode(s),t),header:l}}}},5540:(e,t,r)=>{"use strict";r.d(t,{jwtVerify:()=>i});var n=r(7309),o=r(3358),a=r(8842);async function i(e,t,r){var i;const s=await(0,n.compactVerify)(e,t,r);if((null===(i=s.protectedHeader.crit)||void 0===i?void 0:i.includes("b64"))&&!1===s.protectedHeader.b64)throw new a.JWTInvalid("JWTs MUST NOT use unencoded payload");const c={payload:(0,o.default)(s.protectedHeader,s.payload,r),protectedHeader:s.protectedHeader};return"function"==typeof t?{...c,key:s.key}:c}},2531:(e,t,r)=>{"use strict";r.d(t,{exportJWK:()=>s,exportPKCS8:()=>i,exportSPKI:()=>a});var n=r(6134),o=r(1858);async function a(e){return(0,n.toSPKI)(e)}async function i(e){return(0,n.toPKCS8)(e)}async function s(e){return(0,o.default)(e)}},3619:(e,t,r)=>{"use strict";r.d(t,{generateKeyPair:()=>o});var n=r(7957);async function o(e,t){return(0,n.generateKeyPair)(e,t)}},2125:(e,t,r)=>{"use strict";r.d(t,{generateSecret:()=>o});var n=r(7957);async function o(e,t){return(0,n.generateSecret)(e,t)}},1503:(e,t,r)=>{"use strict";r.d(t,{importJWK:()=>h,importPKCS8:()=>p,importSPKI:()=>d,importX509:()=>f});var n=r(9166),o=r(6134),a=r(1405),i=r(8842),s=r(8812),c=r(2674);function u(e){let t=[],r=0;for(;r<e.length;){let n=l(e.subarray(r));t.push(n),r+=n.byteLength}return t}function l(e){let t=0,r=31&e[0];if(t++,31===r){for(r=0;e[t]>=128;)r=128*r+e[t]-128,t++;r=128*r+e[t]-128,t++}let n=0;if(e[t]<128)n=e[t],t++;else{let r=127&e[t];t++,n=0;for(let o=0;o<r;o++)n=256*n+e[t],t++}if(128===n){for(n=0;0!==e[t+n]||0!==e[t+n+1];)n++;const r=t+n+2;return{byteLength:r,contents:e.subarray(t,t+n),raw:e.subarray(0,r)}}const o=t+n;return{byteLength:o,contents:e.subarray(t,o),raw:e.subarray(0,o)}}async function d(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw new TypeError('"spki" must be SPKI formatted string');return(0,o.fromSPKI)(e,t,r)}async function f(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw new TypeError('"x509" must be X.509 formatted string');const a=function(e){const t=e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),r=(0,n.decodeBase64)(t);return(0,s.default)(function(e){const t=u(u(l(e).contents)[0].contents);return(0,n.encodeBase64)(t[160===t[0].raw[0]?6:5].raw)}(r),"PUBLIC KEY")}(e);return(0,o.fromSPKI)(a,t,r)}async function p(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw new TypeError('"pkcs8" must be PCKS8 formatted string');return(0,o.fromPKCS8)(e,t,r)}async function h(e,t,r){if(!(0,c.default)(e))throw new TypeError("JWK must be an object");if(t||(t=e.alg),"string"!=typeof t||!t)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');switch(e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return null!=r||(r=!0!==e.ext),r?(0,a.default)({...e,alg:t,ext:!1}):(0,n.decode)(e.k);case"RSA":if(void 0!==e.oth)throw new i.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return(0,a.default)({...e,alg:t});default:throw new i.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}},1897:(e,t,r)=>{"use strict";r.d(t,{unwrap:()=>c,wrap:()=>s});var n=r(1088),o=r(5790),a=r(8948),i=r(9166);async function s(e,t,r,o){const s=e.slice(0,7);o||(o=(0,a.default)(s));const{ciphertext:c,tag:u}=await(0,n.default)(s,r,t,o,new Uint8Array(0));return{encryptedKey:c,iv:(0,i.encode)(o),tag:(0,i.encode)(u)}}async function c(e,t,r,n,a){const i=e.slice(0,7);return(0,o.default)(i,t,r,n,a,new Uint8Array(0))}},1538:(e,t,r)=>{"use strict";r.d(t,{concat:()=>s,concatKdf:()=>p,decoder:()=>a,encoder:()=>o,lengthAndInput:()=>f,p2s:()=>c,uint32be:()=>d,uint64be:()=>l});var n=r(183);const o=new TextEncoder,a=new TextDecoder,i=2**32;function s(...e){const t=e.reduce(((e,{length:t})=>e+t),0),r=new Uint8Array(t);let n=0;return e.forEach((e=>{r.set(e,n),n+=e.length})),r}function c(e,t){return s(o.encode(e),new Uint8Array([0]),t)}function u(e,t,r){if(t<0||t>=i)throw new RangeError(`value must be >= 0 and <= 4294967295. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function l(e){const t=Math.floor(e/i),r=e%i,n=new Uint8Array(8);return u(n,t,0),u(n,r,4),n}function d(e){const t=new Uint8Array(4);return u(t,e),t}function f(e){return s(d(e.length),e)}async function p(e,t,r){const o=Math.ceil((t>>3)/32);let a;for(let t=1;t<=o;t++){const o=new Uint8Array(4+e.length+r.length);o.set(d(t)),o.set(e,4),o.set(r,4+e.length),a=a?s(a,await(0,n.default)("sha256",o)):await(0,n.default)("sha256",o)}return a=a.slice(0,t>>3),a}},1002:(e,t,r)=>{"use strict";r.d(t,{bitLength:()=>a,default:()=>i});var n=r(8842),o=r(5579);function a(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new n.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}const i=e=>(0,o.default)(new Uint8Array(a(e)>>3))},373:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(8842),o=r(8948);const a=(e,t)=>{if(t.length<<3!==(0,o.bitLength)(e))throw new n.JWEInvalid("Invalid Initialization Vector length")}},2200:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(3114),o=r(7732);const a=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?(e=>{if(!(e instanceof Uint8Array)){if(!(0,o.default)(e))throw new TypeError((0,n.default)(e,...o.types,"Uint8Array"));if("secret"!==e.type)throw new TypeError(`${o.types.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}})(t):((e,t)=>{if(!(0,o.default)(e))throw new TypeError((0,n.default)(e,...o.types));if("secret"===e.type)throw new TypeError(`${o.types.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===t&&"public"===e.type)throw new TypeError(`${o.types.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===t&&"public"===e.type)throw new TypeError(`${o.types.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&"verify"===t&&"private"===e.type)throw new TypeError(`${o.types.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&"encrypt"===t&&"private"===e.type)throw new TypeError(`${o.types.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)})(t,r)}},4044:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(8842);function o(e){if(!(e instanceof Uint8Array)||e.length<8)throw new n.JWEInvalid("PBES2 Salt Input must be 8 or more octets")}},9492:(e,t,r)=>{"use strict";r.d(t,{checkEncCryptoKey:()=>u,checkSigCryptoKey:()=>c});var n=r(286);function o(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function a(e,t){return e.name===t}function i(e){return parseInt(e.name.slice(4),10)}function s(e,t){if(t.length&&!t.some((t=>e.usages.includes(t)))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}function c(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!a(e.algorithm,"HMAC"))throw o("HMAC");const r=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==r)throw o(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!a(e.algorithm,"RSASSA-PKCS1-v1_5"))throw o("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==r)throw o(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!a(e.algorithm,"RSA-PSS"))throw o("RSA-PSS");const r=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==r)throw o(`SHA-${r}`,"algorithm.hash");break}case(0,n.isNodeJs)()&&"EdDSA":if("NODE-ED25519"!==e.algorithm.name&&"NODE-ED448"!==e.algorithm.name)throw o("NODE-ED25519 or NODE-ED448");break;case(0,n.isCloudflareWorkers)()&&"EdDSA":if(!a(e.algorithm,"NODE-ED25519"))throw o("NODE-ED25519");break;case"ES256":case"ES384":case"ES512":{if(!a(e.algorithm,"ECDSA"))throw o("ECDSA");const r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw o(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}s(e,r)}function u(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!a(e.algorithm,"AES-GCM"))throw o("AES-GCM");const r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw o(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!a(e.algorithm,"AES-KW"))throw o("AES-KW");const r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw o(r,"algorithm.length");break}case"ECDH":if(!a(e.algorithm,"ECDH"))throw o("ECDH");break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!a(e.algorithm,"PBKDF2"))throw o("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!a(e.algorithm,"RSA-OAEP"))throw o("RSA-OAEP");const r=parseInt(t.slice(9),10)||1;if(i(e.algorithm.hash)!==r)throw o(`SHA-${r}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}s(e,r)}},813:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var n=r(4714),o=r(5193),a=r(4365),i=r(2453),s=r(9166),c=r(8842),u=r(1002),l=r(1503),d=r(2200),f=r(2674),p=r(1897);const h=async function(e,t,r,h){switch((0,d.default)(e,t,"decrypt"),e){case"dir":if(void 0!==r)throw new c.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new c.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!(0,f.default)(h.epk))throw new c.JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!o.ecdhAllowed(t))throw new c.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const a=await(0,l.importJWK)(h.epk,e);let i,d;if(void 0!==h.apu){if("string"!=typeof h.apu)throw new c.JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');i=(0,s.decode)(h.apu)}if(void 0!==h.apv){if("string"!=typeof h.apv)throw new c.JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');d=(0,s.decode)(h.apv)}const p=await o.deriveKey(a,t,"ECDH-ES"===e?h.enc:e,"ECDH-ES"===e?(0,u.bitLength)(h.enc):parseInt(e.slice(-5,-2),10),i,d);if("ECDH-ES"===e)return p;if(void 0===r)throw new c.JWEInvalid("JWE Encrypted Key missing");return(0,n.unwrap)(e.slice(-6),p,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new c.JWEInvalid("JWE Encrypted Key missing");return(0,i.decrypt)(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(void 0===r)throw new c.JWEInvalid("JWE Encrypted Key missing");if("number"!=typeof h.p2c)throw new c.JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');if("string"!=typeof h.p2s)throw new c.JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');return(0,a.decrypt)(e,t,r,h.p2c,(0,s.decode)(h.p2s));case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new c.JWEInvalid("JWE Encrypted Key missing");return(0,n.unwrap)(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(void 0===r)throw new c.JWEInvalid("JWE Encrypted Key missing");if("string"!=typeof h.iv)throw new c.JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof h.tag)throw new c.JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');const n=(0,s.decode)(h.iv),o=(0,s.decode)(h.tag);return(0,p.unwrap)(e,t,r,n,o)}default:throw new c.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}},8751:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var n=r(4714),o=r(5193),a=r(4365),i=r(2453),s=r(9166),c=r(1002),u=r(8842),l=r(2531),d=r(2200),f=r(1897);const p=async function(e,t,r,p,h={}){let y,v,g;switch((0,d.default)(e,r,"encrypt"),e){case"dir":g=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!o.ecdhAllowed(r))throw new u.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:a,apv:i}=h;let{epk:d}=h;d||(d=(await o.generateEpk(r)).privateKey);const{x:f,y:w,crv:m,kty:b}=await(0,l.exportJWK)(d),E=await o.deriveKey(r,d,"ECDH-ES"===e?t:e,"ECDH-ES"===e?(0,c.bitLength)(t):parseInt(e.slice(-5,-2),10),a,i);if(v={epk:{x:f,crv:m,kty:b}},"EC"===b&&(v.epk.y=w),a&&(v.apu=(0,s.encode)(a)),i&&(v.apv=(0,s.encode)(i)),"ECDH-ES"===e){g=E;break}g=p||(0,c.default)(t);const S=e.slice(-6);y=await(0,n.wrap)(S,E,g);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":g=p||(0,c.default)(t),y=await(0,i.encrypt)(e,r,g);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{g=p||(0,c.default)(t);const{p2c:n,p2s:o}=h;({encryptedKey:y,...v}=await(0,a.encrypt)(e,r,g,n,o));break}case"A128KW":case"A192KW":case"A256KW":g=p||(0,c.default)(t),y=await(0,n.wrap)(e,r,g);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{g=p||(0,c.default)(t);const{iv:n}=h;({encryptedKey:y,...v}=await(0,f.wrap)(e,r,g,n));break}default:throw new u.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:g,encryptedKey:y,parameters:v}}},4925:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=e=>Math.floor(e.getTime()/1e3)},8812:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(e,t)=>`-----BEGIN ${t}-----\n${(e.match(/.{1,64}/g)||[]).join("\n")}\n-----END ${t}-----`},3114:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(e,...t)=>{let r="Key must be ";if(t.length>2){const e=t.pop();r+=`one of type ${t.join(", ")}, or ${e}.`}else 2===t.length?r+=`one of type ${t[0]} or ${t[1]}.`:r+=`of type ${t[0]}.`;return null==e?r+=` Received ${e}`:"function"==typeof e&&e.name?r+=` Received function ${e.name}`:"object"==typeof e&&null!=e&&e.constructor&&e.constructor.name&&(r+=` Received an instance of ${e.constructor.name}`),r}},2085:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let r;for(const e of t){const t=Object.keys(e);if(r&&0!==r.size)for(const e of t){if(r.has(e))return!1;r.add(e)}else r=new Set(t)}return!0}},2674:(e,t,r)=>{"use strict";function n(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}r.d(t,{default:()=>n})},8948:(e,t,r)=>{"use strict";r.d(t,{bitLength:()=>a,default:()=>i});var n=r(8842),o=r(5579);function a(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new n.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}const i=e=>(0,o.default)(new Uint8Array(a(e)>>3))},3358:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(8842),o=r(1538),a=r(4925),i=r(7272),s=r(2674);const c=e=>e.toLowerCase().replace(/^application\//,""),u=(e,t,r={})=>{const{typ:u}=r;if(u&&("string"!=typeof e.typ||c(e.typ)!==c(u)))throw new n.JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");let l;try{l=JSON.parse(o.decoder.decode(t))}catch(e){}if(!(0,s.default)(l))throw new n.JWTInvalid("JWT Claims Set must be a top-level JSON object");const{issuer:d}=r;if(d&&!(Array.isArray(d)?d:[d]).includes(l.iss))throw new n.JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");const{subject:f}=r;if(f&&l.sub!==f)throw new n.JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");const{audience:p}=r;if(p&&(y="string"==typeof p?[p]:p,!("string"==typeof(h=l.aud)?y.includes(h):Array.isArray(h)&&y.some(Set.prototype.has.bind(new Set(h))))))throw new n.JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");var h,y;let v;switch(typeof r.clockTolerance){case"string":v=(0,i.default)(r.clockTolerance);break;case"number":v=r.clockTolerance;break;case"undefined":v=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:g}=r,w=(0,a.default)(g||new Date);if(void 0!==l.iat||r.maxTokenAge){if("number"!=typeof l.iat)throw new n.JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(void 0===l.exp&&l.iat>w+v)throw new n.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}if(void 0!==l.nbf){if("number"!=typeof l.nbf)throw new n.JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(l.nbf>w+v)throw new n.JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==l.exp){if("number"!=typeof l.exp)throw new n.JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(l.exp<=w-v)throw new n.JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(r.maxTokenAge){const e=w-l.iat;if(e-v>("number"==typeof r.maxTokenAge?r.maxTokenAge:(0,i.default)(r.maxTokenAge)))throw new n.JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-v)throw new n.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return l}},7272:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const n=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,o=e=>{const t=n.exec(e);if(!t)throw new TypeError("Invalid time period format");const r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(86400*r);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(31557600*r)}}},5154:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some((e=>"string"!=typeof e))))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}},3406:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(8842);const o=function(e,t,r,o,a){if(void 0!==a.crit&&void 0===o.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!o||void 0===o.crit)return new Set;if(!Array.isArray(o.crit)||0===o.crit.length||o.crit.some((e=>"string"!=typeof e||0===e.length)))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let i;i=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t;for(const t of o.crit){if(!i.has(t))throw new n.JOSENotSupported(`Extension Header Parameter "${t}" is not recognized`);if(void 0===a[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(i.get(t)&&void 0===o[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(o.crit)}},4714:(e,t,r)=>{"use strict";r.d(t,{unwrap:()=>d,wrap:()=>l});var n=r(6809),o=r(4593),a=r(9492),i=r(3114),s=r(7732);function c(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function u(e,t,r){if((0,o.isCryptoKey)(e))return(0,a.checkEncCryptoKey)(e,t,r),e;if(e instanceof Uint8Array)return o.default.subtle.importKey("raw",e,"AES-KW",!0,[r]);throw new TypeError((0,i.default)(e,...s.types,"Uint8Array"))}const l=async(e,t,r)=>{const a=await u(t,e,"wrapKey");c(a,e);const i=await o.default.subtle.importKey("raw",r,...n.default);return new Uint8Array(await o.default.subtle.wrapKey("raw",i,a,"AES-KW"))},d=async(e,t,r)=>{const a=await u(t,e,"unwrapKey");c(a,e);const i=await o.default.subtle.unwrapKey("raw",r,a,"AES-KW",...n.default);return new Uint8Array(await o.default.subtle.exportKey("raw",i))}},6134:(e,t,r)=>{"use strict";r.d(t,{fromPKCS8:()=>v,fromSPKI:()=>g,toPKCS8:()=>f,toSPKI:()=>d});var n=r(286),o=r(4593),a=r(3114),i=r(9166),s=r(8812),c=r(8842),u=r(7732);const l=async(e,t,r)=>{if(!(0,o.isCryptoKey)(r))throw new TypeError((0,a.default)(r,...u.types));if(!r.extractable)throw new TypeError("CryptoKey is not extractable");if(r.type!==e)throw new TypeError(`key is not a ${e} key`);return(0,s.default)((0,i.encodeBase64)(new Uint8Array(await o.default.subtle.exportKey(t,r))),`${e.toUpperCase()} KEY`)},d=e=>l("public","spki",e),f=e=>l("private","pkcs8",e),p=(e,t,r=0)=>{0===r&&(t.unshift(t.length),t.unshift(6));let n=e.indexOf(t[0],r);if(-1===n)return!1;const o=e.subarray(n,n+t.length);return o.length===t.length&&(o.every(((e,r)=>e===t[r]))||p(e,t,n+1))},h=e=>{switch(!0){case p(e,[42,134,72,206,61,3,1,7]):return"P-256";case p(e,[43,129,4,0,34]):return"P-384";case p(e,[43,129,4,0,35]):return"P-521";case((0,n.isCloudflareWorkers)()||(0,n.isNodeJs)())&&p(e,[43,101,112]):return"Ed25519";case(0,n.isNodeJs)()&&p(e,[43,101,113]):return"Ed448";default:throw new c.JOSENotSupported("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},y=async(e,t,r,a,i)=>{var s;let u,l;const d=new Uint8Array(atob(r.replace(e,"")).split("").map((e=>e.charCodeAt(0)))),f="spki"===t;switch(a){case"PS256":case"PS384":case"PS512":u={name:"RSA-PSS",hash:`SHA-${a.slice(-3)}`},l=f?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":u={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.slice(-3)}`},l=f?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":u={name:"RSA-OAEP",hash:`SHA-${parseInt(a.slice(-3),10)||1}`},l=f?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":u={name:"ECDSA",namedCurve:"P-256"},l=f?["verify"]:["sign"];break;case"ES384":u={name:"ECDSA",namedCurve:"P-384"},l=f?["verify"]:["sign"];break;case"ES512":u={name:"ECDSA",namedCurve:"P-521"},l=f?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":u={name:"ECDH",namedCurve:h(d)},l=f?[]:["deriveBits"];break;case((0,n.isCloudflareWorkers)()||(0,n.isNodeJs)())&&"EdDSA":const e=h(d).toUpperCase();u={name:`NODE-${e}`,namedCurve:`NODE-${e}`},l=f?["verify"]:["sign"];break;default:throw new c.JOSENotSupported('Invalid or unsupported "alg" (Algorithm) value')}return o.default.subtle.importKey(t,d,u,null!==(s=null==i?void 0:i.extractable)&&void 0!==s&&s,l)},v=(e,t,r)=>y(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,r),g=(e,t,r)=>y(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,r)},9166:(e,t,r)=>{"use strict";r.d(t,{decode:()=>s,decodeBase64:()=>i,encode:()=>a,encodeBase64:()=>o});var n=r(1538);const o=e=>{let t=e;"string"==typeof t&&(t=n.encoder.encode(t));const r=[];for(let e=0;e<t.length;e+=32768)r.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(r.join(""))},a=e=>o(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),i=e=>new Uint8Array(atob(e).split("").map((e=>e.charCodeAt(0)))),s=e=>{let t=e;t instanceof Uint8Array&&(t=n.decoder.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return i(t)}catch(e){throw new TypeError("The input to be decoded is not correctly encoded.")}}},6809:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]]},4869:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(8842);const o=(e,t)=>{if(e.length<<3!==t)throw new n.JWEInvalid("Invalid Content Encryption Key length")}},9066:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}}},5790:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var n=r(1538),o=r(373),a=r(4869),i=r(1627),s=r(8842),c=r(4593),u=r(9492),l=r(3114),d=r(7732);const f=async(e,t,r,f,p,h)=>{if(!((0,c.isCryptoKey)(t)||t instanceof Uint8Array))throw new TypeError((0,l.default)(t,...d.types,"Uint8Array"));switch((0,o.default)(e,f),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&(0,a.default)(t,parseInt(e.slice(-3),10)),async function(e,t,r,o,a,u){if(!(t instanceof Uint8Array))throw new TypeError((0,l.default)(t,"Uint8Array"));const d=parseInt(e.slice(1,4),10),f=await c.default.subtle.importKey("raw",t.subarray(d>>3),"AES-CBC",!1,["decrypt"]),p=await c.default.subtle.importKey("raw",t.subarray(0,d>>3),{hash:"SHA-"+(d<<1),name:"HMAC"},!1,["sign"]),h=(0,n.concat)(u,o,r,(0,n.uint64be)(u.length<<3)),y=new Uint8Array((await c.default.subtle.sign("HMAC",p,h)).slice(0,d>>3));let v,g;try{v=(0,i.default)(a,y)}catch(e){}if(!v)throw new s.JWEDecryptionFailed;try{g=new Uint8Array(await c.default.subtle.decrypt({iv:o,name:"AES-CBC"},f,r))}catch(e){}if(!g)throw new s.JWEDecryptionFailed;return g}(e,t,r,f,p,h);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&(0,a.default)(t,parseInt(e.slice(1,4),10)),async function(e,t,r,o,a,i){let l;t instanceof Uint8Array?l=await c.default.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):((0,u.checkEncCryptoKey)(t,e,"decrypt"),l=t);try{return new Uint8Array(await c.default.subtle.decrypt({additionalData:i,iv:o,name:"AES-GCM",tagLength:128},l,(0,n.concat)(r,a)))}catch(e){throw new s.JWEDecryptionFailed}}(e,t,r,f,p,h);default:throw new s.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},183:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(4593);const o=async(e,t)=>{const r=`SHA-${e.slice(-3)}`;return new Uint8Array(await n.default.subtle.digest(r,t))}},5193:(e,t,r)=>{"use strict";r.d(t,{deriveKey:()=>c,ecdhAllowed:()=>l,generateEpk:()=>u});var n=r(1538),o=r(4593),a=r(9492),i=r(3114),s=r(7732);async function c(e,t,r,c,u=new Uint8Array(0),l=new Uint8Array(0)){if(!(0,o.isCryptoKey)(e))throw new TypeError((0,i.default)(e,...s.types));if((0,a.checkEncCryptoKey)(e,"ECDH"),!(0,o.isCryptoKey)(t))throw new TypeError((0,i.default)(t,...s.types));(0,a.checkEncCryptoKey)(t,"ECDH","deriveBits");const d=(0,n.concat)((0,n.lengthAndInput)(n.encoder.encode(r)),(0,n.lengthAndInput)(u),(0,n.lengthAndInput)(l),(0,n.uint32be)(c)),f=new Uint8Array(await o.default.subtle.deriveBits({name:"ECDH",public:e},t,Math.ceil(parseInt(t.algorithm.namedCurve.slice(-3),10)/8)<<3));return(0,n.concatKdf)(f,c,d)}async function u(e){if(!(0,o.isCryptoKey)(e))throw new TypeError((0,i.default)(e,...s.types));return o.default.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function l(e){if(!(0,o.isCryptoKey)(e))throw new TypeError((0,i.default)(e,...s.types));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)}},1088:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var n=r(1538),o=r(373),a=r(4869),i=r(4593),s=r(9492),c=r(3114),u=r(8842),l=r(7732);const d=async(e,t,r,d,f)=>{if(!((0,i.isCryptoKey)(r)||r instanceof Uint8Array))throw new TypeError((0,c.default)(r,...l.types,"Uint8Array"));switch((0,o.default)(e,d),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&(0,a.default)(r,parseInt(e.slice(-3),10)),async function(e,t,r,o,a){if(!(r instanceof Uint8Array))throw new TypeError((0,c.default)(r,"Uint8Array"));const s=parseInt(e.slice(1,4),10),u=await i.default.subtle.importKey("raw",r.subarray(s>>3),"AES-CBC",!1,["encrypt"]),l=await i.default.subtle.importKey("raw",r.subarray(0,s>>3),{hash:"SHA-"+(s<<1),name:"HMAC"},!1,["sign"]),d=new Uint8Array(await i.default.subtle.encrypt({iv:o,name:"AES-CBC"},u,t)),f=(0,n.concat)(a,o,d,(0,n.uint64be)(a.length<<3));return{ciphertext:d,tag:new Uint8Array((await i.default.subtle.sign("HMAC",l,f)).slice(0,s>>3))}}(e,t,r,d,f);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&(0,a.default)(r,parseInt(e.slice(1,4),10)),async function(e,t,r,n,o){let a;r instanceof Uint8Array?a=await i.default.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):((0,s.checkEncCryptoKey)(r,e,"encrypt"),a=r);const c=new Uint8Array(await i.default.subtle.encrypt({additionalData:o,iv:n,name:"AES-GCM",tagLength:128},a,t)),u=c.slice(-16);return{ciphertext:c.slice(0,-16),tag:u}}(e,t,r,d,f);default:throw new u.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},286:(e,t,r)=>{"use strict";function n(){return"function"==typeof WebSocketPair}function o(){try{return void 0!==process.versions.node}catch(e){return!1}}r.d(t,{isCloudflareWorkers:()=>n,isNodeJs:()=>o})},6931:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(8842);const o=async(e,t)=>{let r,o,a=!1;"function"==typeof AbortController&&(r=new AbortController,o=setTimeout((()=>{a=!0,r.abort()}),t));const i=await fetch(e.href,{signal:r?r.signal:void 0,redirect:"manual"}).catch((e=>{if(a)throw new n.JWKSTimeout;throw e}));if(void 0!==o&&clearTimeout(o),200!==i.status)throw new n.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await i.json()}catch(e){throw new n.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}}},7957:(e,t,r)=>{"use strict";r.d(t,{generateKeyPair:()=>u,generateSecret:()=>s});var n=r(286),o=r(4593),a=r(8842),i=r(5579);async function s(e,t){var r;let n,s,c;switch(e){case"HS256":case"HS384":case"HS512":n=parseInt(e.slice(-3),10),s={name:"HMAC",hash:`SHA-${n}`,length:n},c=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n=parseInt(e.slice(-3),10),(0,i.default)(new Uint8Array(n>>3));case"A128KW":case"A192KW":case"A256KW":n=parseInt(e.slice(1,4),10),s={name:"AES-KW",length:n},c=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":n=parseInt(e.slice(1,4),10),s={name:"AES-GCM",length:n},c=["encrypt","decrypt"];break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return o.default.subtle.generateKey(s,null!==(r=null==t?void 0:t.extractable)&&void 0!==r&&r,c)}function c(e){var t;const r=null!==(t=null==e?void 0:e.modulusLength)&&void 0!==t?t:2048;if("number"!=typeof r||r<2048)throw new a.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}async function u(e,t){var r,i;let s,u;switch(e){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:c(t)},u=["sign","verify"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:c(t)},u=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:c(t)},u=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":s={name:"ECDSA",namedCurve:"P-256"},u=["sign","verify"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},u=["sign","verify"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},u=["sign","verify"];break;case((0,n.isCloudflareWorkers)()||(0,n.isNodeJs)())&&"EdDSA":switch(null==t?void 0:t.crv){case void 0:case"Ed25519":s={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},u=["sign","verify"];break;case(0,n.isNodeJs)()&&"Ed448":s={name:"NODE-ED448",namedCurve:"NODE-ED448"},u=["sign","verify"];break;default:throw new a.JOSENotSupported("Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":s={name:"ECDH",namedCurve:null!==(r=null==t?void 0:t.crv)&&void 0!==r?r:"P-256"},u=["deriveKey","deriveBits"];break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return o.default.subtle.generateKey(s,null!==(i=null==t?void 0:t.extractable)&&void 0!==i&&i,u)}},3441:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(4593),o=r(9492),a=r(3114),i=r(7732);function s(e,t,r){if((0,n.isCryptoKey)(t))return(0,o.checkSigCryptoKey)(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError((0,a.default)(t,...i.types));return n.default.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw new TypeError((0,a.default)(t,...i.types,"Uint8Array"))}},7732:(e,t,r)=>{"use strict";r.d(t,{default:()=>o,types:()=>a});var n=r(4593);const o=e=>(0,n.isCryptoKey)(e),a=["CryptoKey"]},1405:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(286),o=r(4593),a=r(8842),i=r(9166);const s=async e=>{var t,r;const{algorithm:s,keyUsages:c}=function(e){let t,r;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.slice(-3)}`},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new a.JOSENotSupported(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case((0,n.isCloudflareWorkers)()||(0,n.isNodeJs)())&&"OKP":if("EdDSA"!==e.alg)throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value');switch(e.crv){case"Ed25519":t={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},r=e.d?["sign"]:["verify"];break;case(0,n.isNodeJs)()&&"Ed448":t={name:"NODE-ED448",namedCurve:"NODE-ED448"},r=e.d?["sign"]:["verify"];break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "crv" (Subtype of Key Pair) Parameter value')}break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),u=[s,null!==(t=e.ext)&&void 0!==t&&t,null!==(r=e.key_ops)&&void 0!==r?r:c];if("PBKDF2"===s.name)return o.default.subtle.importKey("raw",(0,i.decode)(e.k),...u);const l={...e};return delete l.alg,o.default.subtle.importKey("jwk",l,...u)}},1858:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(4593),o=r(3114),a=r(9166),i=r(7732);const s=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:(0,a.encode)(e)};if(!(0,n.isCryptoKey)(e))throw new TypeError((0,o.default)(e,...i.types,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:r,alg:s,use:c,...u}=await n.default.subtle.exportKey("jwk",e);return u}},4365:(e,t,r)=>{"use strict";r.d(t,{decrypt:()=>h,encrypt:()=>p});var n=r(5579),o=r(1538),a=r(9166),i=r(4714),s=r(4044),c=r(4593),u=r(9492),l=r(3114),d=r(7732);async function f(e,t,r,n){(0,s.default)(e);const a=(0,o.p2s)(t,e),i=parseInt(t.slice(13,16),10),f={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:a},p={length:i,name:"AES-KW"},h=await function(e,t){if(e instanceof Uint8Array)return c.default.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if((0,c.isCryptoKey)(e))return(0,u.checkEncCryptoKey)(e,t,"deriveBits","deriveKey"),e;throw new TypeError((0,l.default)(e,...d.types,"Uint8Array"))}(n,t);if(h.usages.includes("deriveBits"))return new Uint8Array(await c.default.subtle.deriveBits(f,h,i));if(h.usages.includes("deriveKey"))return c.default.subtle.deriveKey(f,h,p,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}const p=async(e,t,r,o=2048,s=(0,n.default)(new Uint8Array(16)))=>{const c=await f(s,e,o,t);return{encryptedKey:await(0,i.wrap)(e.slice(-6),c,r),p2c:o,p2s:(0,a.encode)(s)}},h=async(e,t,r,n,o)=>{const a=await f(o,e,n,t);return(0,i.unwrap)(e.slice(-6),a,r)}},5579:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(4593);const o=n.default.getRandomValues.bind(n.default)},2453:(e,t,r)=>{"use strict";r.d(t,{decrypt:()=>d,encrypt:()=>l});var n=r(4067),o=r(6809),a=r(4593),i=r(9492),s=r(9066),c=r(3114),u=r(7732);const l=async(e,t,r)=>{if(!(0,a.isCryptoKey)(t))throw new TypeError((0,c.default)(t,...u.types));if((0,i.checkEncCryptoKey)(t,e,"encrypt","wrapKey"),(0,s.default)(e,t),t.usages.includes("encrypt"))return new Uint8Array(await a.default.subtle.encrypt((0,n.default)(e),t,r));if(t.usages.includes("wrapKey")){const i=await a.default.subtle.importKey("raw",r,...o.default);return new Uint8Array(await a.default.subtle.wrapKey("raw",i,t,(0,n.default)(e)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},d=async(e,t,r)=>{if(!(0,a.isCryptoKey)(t))throw new TypeError((0,c.default)(t,...u.types));if((0,i.checkEncCryptoKey)(t,e,"decrypt","unwrapKey"),(0,s.default)(e,t),t.usages.includes("decrypt"))return new Uint8Array(await a.default.subtle.decrypt((0,n.default)(e),t,r));if(t.usages.includes("unwrapKey")){const i=await a.default.subtle.unwrapKey("raw",r,t,(0,n.default)(e),...o.default);return new Uint8Array(await a.default.subtle.exportKey("raw",i))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')}},3736:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(6185),o=r(4593),a=r(9066),i=r(3441);const s=async(e,t,r)=>{const s=await(0,i.default)(e,t,"sign");(0,a.default)(e,s);const c=await o.default.subtle.sign((0,n.default)(e,s.algorithm),s,r);return new Uint8Array(c)}},6185:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(286),o=r(8842);function a(e,t){const r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case((0,n.isCloudflareWorkers)()||(0,n.isNodeJs)())&&"EdDSA":const{namedCurve:a}=t;return{name:a,namedCurve:a};default:throw new o.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},4067:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(8842);function o(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},1627:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});const n=(e,t)=>{if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");const r=e.length;let n=0,o=-1;for(;++o<r;)n|=e[o]^t[o];return 0===n}},6239:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(6185),o=r(4593),a=r(9066),i=r(3441);const s=async(e,t,r,s)=>{const c=await(0,i.default)(e,t,"verify");(0,a.default)(e,c);const u=(0,n.default)(e,c.algorithm);try{return await o.default.subtle.verify(u,c,r,s)}catch(e){return!1}}},4593:(e,t,r)=>{"use strict";r.d(t,{default:()=>n,isCryptoKey:()=>o});const n=crypto;function o(e){try{return null!=e&&"boolean"==typeof e.extractable&&"string"==typeof e.algorithm.name&&"string"==typeof e.type}catch(e){return!1}}},5515:(e,t,r)=>{"use strict";r.d(t,{deflate:()=>a,inflate:()=>o});var n=r(8842);const o=async()=>{throw new n.JOSENotSupported('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},a=async()=>{throw new n.JOSENotSupported('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')}},6001:(e,t,r)=>{"use strict";r.r(t),r.d(t,{decode:()=>a,encode:()=>o});var n=r(9166);const o=n.encode,a=n.decode},7879:(e,t,r)=>{"use strict";r.d(t,{decodeJwt:()=>s});var n=r(6001),o=r(1538),a=r(2674),i=r(8842);function s(e){if("string"!=typeof e)throw new i.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:r}=e.split(".");if(5===r)throw new i.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(3!==r)throw new i.JWTInvalid("Invalid JWT");if(!t)throw new i.JWTInvalid("JWTs must contain a payload");let s,c;try{s=(0,n.decode)(t)}catch(e){throw new i.JWTInvalid("Failed to parse the base64url encoded payload")}try{c=JSON.parse(o.decoder.decode(s))}catch(e){throw new i.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,a.default)(c))throw new i.JWTInvalid("Invalid JWT Claims Set");return c}},3878:(e,t,r)=>{"use strict";r.d(t,{decodeProtectedHeader:()=>i});var n=r(6001),o=r(1538),a=r(2674);function i(e){let t;if("string"==typeof e){const r=e.split(".");3!==r.length&&5!==r.length||([t]=r)}else if("object"==typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!=typeof t||!t)throw new Error;const e=JSON.parse(o.decoder.decode((0,n.decode)(t)));if(!(0,a.default)(e))throw new Error;return e}catch(e){throw new TypeError("Invalid Token or Protected Header formatting")}}},8842:(e,t,r)=>{"use strict";r.r(t),r.d(t,{JOSEAlgNotAllowed:()=>i,JOSEError:()=>n,JOSENotSupported:()=>s,JWEDecryptionFailed:()=>c,JWEInvalid:()=>u,JWKInvalid:()=>f,JWKSInvalid:()=>p,JWKSMultipleMatchingKeys:()=>y,JWKSNoMatchingKey:()=>h,JWKSTimeout:()=>v,JWSInvalid:()=>l,JWSSignatureVerificationFailed:()=>g,JWTClaimValidationFailed:()=>o,JWTExpired:()=>a,JWTInvalid:()=>d});class n extends Error{constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}static get code(){return"ERR_JOSE_GENERIC"}}class o extends n{constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r}static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}}class a extends n{constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r}static get code(){return"ERR_JWT_EXPIRED"}}class i extends n{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class s extends n{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class c extends n{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class u extends n{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class l extends n{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class d extends n{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class f extends n{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class p extends n{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class h extends n{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class y extends n{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class v extends n{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class g extends n{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=r(4746);window.FHIR=n})();
//# sourceMappingURL=fhir-client.min.js.map